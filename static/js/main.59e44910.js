/*! For license information please see main.59e44910.js.LICENSE.txt */
(()=>{var e={31:(e,t)=>{var n;n=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,r=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!==typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return s}(t),r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],c=n[5],u=n[6],l=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14];e.table=t,e.bstr=function(e,n){for(var r=~n,i=0,s=e.length;i<s;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=~n,b=e.length-15,w=0;w<b;)y=v[e[w++]^255&y]^g[e[w++]^y>>8&255]^m[e[w++]^y>>16&255]^p[e[w++]^y>>>24]^f[e[w++]]^h[e[w++]]^d[e[w++]]^l[e[w++]]^u[e[w++]]^c[e[w++]]^a[e[w++]]^o[e[w++]]^s[e[w++]]^i[e[w++]]^r[e[w++]]^t[e[w++]];for(b+=15;w<b;)y=y>>>8^t[255&(y^e[w++])];return~y},e.str=function(e,n){for(var r=~n,i=0,s=e.length,o=0,a=0;i<s;)(o=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^o)]:o<2048?r=(r=r>>>8^t[255&(r^(192|o>>6&31))])>>>8^t[255&(r^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|o>>8&7))])>>>8^t[255&(r^(128|o>>2&63))])>>>8^t[255&(r^(128|a>>6&15|(3&o)<<4))])>>>8^t[255&(r^(128|63&a))]):r=(r=(r=r>>>8^t[255&(r^(224|o>>12&15))])>>>8^t[255&(r^(128|o>>6&63))])>>>8^t[255&(r^(128|63&o))];return~r}},"undefined"===typeof DO_NOT_EXPORT_CRC?n(t):n({})},38:(e,t,n)=>{var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=m(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=g(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=d(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof A){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(s){console.warn("Response "+s.message)}}})),t}function k(e,t){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},b.call(A.prototype),b.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var I=[301,302,303,307,308];k.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(T){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(i,s){var a=new A(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}if(u.onload=function(){var e={statusText:u.statusText,headers:_(u.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(u.status<200||u.status>599)?e.status=200:e.status=u.status,e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){i(new k(t,e))}),0)},u.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},u.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},u.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":c&&(u.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){f.push(d(e)),u.setRequestHeader(e,h(n.headers[e]))})),a.headers.forEach((function(e,t){-1===f.indexOf(t)&&u.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){u.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",l)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=p,r.Request=A,r.Response=k),t.Headers=p,t.Request=A,t.Response=k,t.fetch=S}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},43:(e,t,n)=>{"use strict";e.exports=n(202)},132:function(e,t,n){!function(e){"use strict";if(!e.setImmediate){var t,n=1,r={},i=!1,s=e.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(e);o=o&&o.setTimeout?o:e,"[object process]"==={}.toString.call(e.process)?t=function(e){process.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var n="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(n)&&c(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),t=function(t){e.postMessage(n+t,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},t=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;t=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():t=function(e){setTimeout(c,0,e)},o.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var i=new Array(arguments.length-1),s=0;s<i.length;s++)i[s]=arguments[s+1];var o={callback:e,args:i};return r[n]=o,t(n),n++},o.clearImmediate=a}function a(e){delete r[e]}function c(e){if(i)setTimeout(c,0,e);else{var t=r[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{a(e),i=!1}}}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];s.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+x(c,0):s,A(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",A(e))for(var u=0;u<e.length;u++){var l=s+x(a=e[u],u);c+=C(a,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(a=e.next()).done;)c+=C(a=a.value,t,i,l=s+x(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],u=a+1,l=e[u];if(0>s(c,n))u<i&&0>s(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[a]=n,r=a);else{if(!(u<i&&0>s(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],l=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function A(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(E);else{var t=r(l);null!==t&&D(A,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var c=!0;else{var d=r(l);null!==d&&D(A,d.startTime-n),c=!1}return c}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,I=null,S=-1,T=5,x=-1;function C(){return!(t.unstable_now()-x<T)}function P(){if(null!==I){var e=t.unstable_now();x=e;var n=!0;try{n=I(!0,e)}finally{n?_():(k=!1,I=null)}}else k=!1}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=P,_=function(){O.postMessage(null)}}else _=function(){v(P,0)};function R(e){I=e,k||(k=!0,_())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(l,e),null===r(u)&&e===r(l)&&(g?(y(S),S=-1):g=!0,D(A,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},576:(e,t)=>{"use strict";function n(e){if(Array.isArray(e)){const t=[];let r=0;for(let i=0;i<e.length;i++){const s=n(e[i]);t.push(s),r+=s.length}return h(s(r,192),...t)}const t=g(e);return 1===t.length&&t[0]<128?t:h(s(t.length,128),t)}function r(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function i(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return l(u(e))}function s(e,t){if(e<56)return Uint8Array.from([e+t]);const n=p(e),r=p(t+55+n.length/2);return Uint8Array.from(d(r+n))}function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"===typeof e||null===e||0===e.length)return Uint8Array.from([]);const n=a(g(e));if(t)return n;if(0!==n.remainder.length)throw new Error("invalid RLP: remainder must be zero");return n.data}function a(e){let t,n,s,o,c;const u=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,s=128===l?Uint8Array.from([]):r(e,1,t),2===t&&s[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:s,remainder:e.slice(t)}}if(l<=191){if(n=l-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(t=i(r(e,1,n)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return s=r(e,n,t+n),{data:s,remainder:e.slice(t+n)}}if(l<=247){for(t=l-191,o=r(e,1,t);o.length;)c=a(o),u.push(c.data),o=c.remainder;return{data:u,remainder:e.slice(t)}}{if(n=l-246,t=i(r(e,1,n)),t<56)throw new Error("invalid RLP: encoded list too short");const s=n+t;if(s>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=r(e,n,s);o.length;)c=a(o),u.push(c.data),o=c.remainder;return{data:u,remainder:e.slice(s)}}}t.Tj=void 0;const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function u(e){let t="";for(let n=0;n<e.length;n++)t+=c[e[n]];return t}function l(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function d(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=l(e.slice(r,r+2))}return t}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)return t[0];const r=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(r);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i}function f(e){return(new TextEncoder).encode(e)}function p(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function m(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"===typeof e)return m(e)?d((t="string"!==typeof(n=e)?n:m(n)?n.slice(2):n).length%2?`0${t}`:t):f(e);var t,n;if("number"===typeof e||"bigint"===typeof e)return e?d(p(e)):Uint8Array.from([]);if(null===e||void 0===e)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}t.Tj={encode:n,decode:o}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,B=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function H(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case I:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){Z(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,ke=null;function Ie(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),Ee(e.stateNode,e.type,t))}}function Se(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Te(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function xe(e,t){return e(t)}function Ce(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return xe(e,t,n)}finally{Pe=!1,(null!==_e||null!==ke)&&(Ce(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Me=!1,Be=null,Fe=!1,je=null,Ue={onError:function(e){Me=!0,Be=e}};function He(e,t,n,r,i,s,o,a,c){Me=!1,Be=null,Le.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,We=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ze=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Et,_t,kt,It,St=!1,Tt=[],xt=null,Ct=null,Pt=null,Nt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(jt),Ot.forEach(jt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Ht(t,e)}if(0<Tt.length){Ht(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Ht(xt,e),null!==Ct&&Ht(Ct,e),null!==Pt&&Ht(Pt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Rt.shift()}var zt=w.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=i,zt.transition=s}}function Qt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=i,zt.transition=s}}function $t(e,t,n,r){if(qt){var i=Wt(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Mt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Mt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&At(s),null===(s=Wt(e,t,n,r))&&qr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Wt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ae(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=sn(un),dn=B({},un,{view:0,detail:0}),hn=sn(dn),fn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(B({},fn,{dataTransfer:0})),gn=sn(B({},dn,{relatedTarget:0})),vn=sn(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(B({},un,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return kn}var Sn=B({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Sn),xn=sn(B({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=sn(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=B({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Nn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Bn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Kn(e){Fr(e,0)}function Wn(e){if($(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Zn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),$n=Qn=null)}function nr(e){if("value"===e.propertyName&&Wn($n)){var t=[];Gn(t,$n,e,Ae(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn($n)}function sr(e,t){if("click"===e)return Wn(t)}function or(e,t){if("input"===e||"change"===e)return Wn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=lr(n,s);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Qr(vr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},_r={},kr={};function Ir(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),xr=Ir("animationstart"),Cr=Ir("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),c(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Dr=Nr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,u){if(He.apply(this,arguments),Me){if(!Me)throw Error(s(198));var l=Be;Me=!1,Be=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Br(i,a,u),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Br(i,a,u),s=c}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=Ae(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":u="focus",c=gn;break;case"focusout":u="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Cn;break;case Sr:case Tr:case xr:c=vn;break;case Cr:c=Pn;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var l=0!==(4&t),d=!l&&"scroll"===e,h=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&l.push(Gr(p,m,f)))),d)break;p=p.return}0<l.length&&(a=new c(a,u,null,n,i),o.push({event:a,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:wi(c),f=null==u?a:wi(u),(a=new l(m,p+"leave",c,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((l=new l(h,p+"enter",u,n,i)).target=f,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(h=u,p=0,f=l=c;f;f=$r(f))p++;for(f=0,m=h;m;m=$r(m))f++;for(;0<p-f;)l=$r(l),p--;for(;0<f-p;)h=$r(h),f--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=$r(l),h=$r(h)}l=null}else l=null;null!==c&&Kr(o,a,c,l,!1),null!==u&&null!==d&&Kr(o,d,u,l,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Jn;else if(qn(a))if(Zn)g=or;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Yt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(v=Qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Xt=Yt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(c=Oe(n,s))&&o.unshift(Gr(n,c,a)):i||null!=(c=Oe(n,s))&&o.push(Gr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[fi]||null}var Ei=[],_i=-1;function ki(e){return{current:e}}function Ii(e){0>_i||(e.current=Ei[_i],Ei[_i]=null,_i--)}function Si(e,t){_i++,Ei[_i]=e.current,e.current=t}var Ti={},xi=ki(Ti),Ci=ki(!1),Pi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ci),Ii(xi)}function Di(e,t,n){if(xi.current!==Ti)throw Error(s(168));Si(xi,t),Si(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return B({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=xi.current,Si(xi,e),Si(Ci,Ci.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ci),Ii(xi),Si(xi,e)):Ii(Ci),Si(Ci,n)}var Fi=null,ji=!1,Ui=!1;function Hi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),$e(Xe,Vi),i}finally{bt=t,Ui=!1}}return null}var zi=[],qi=0,Gi=null,Qi=0,$i=[],Ki=0,Wi=null,Ji=1,Zi="";function Yi(e,t){zi[qi++]=Qi,zi[qi++]=Gi,Gi=e,Qi=t}function Xi(e,t,n){$i[Ki++]=Ji,$i[Ki++]=Zi,$i[Ki++]=Wi,Wi=e;var r=Ji;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Zi=s+e}else Ji=1<<s|n<<i|r,Zi=e}function es(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function ts(e){for(;e===Gi;)Gi=zi[--qi],zi[qi]=null,Qi=zi[--qi],zi[qi]=null;for(;e===Wi;)Wi=$i[--Ki],$i[Ki]=null,Zi=$i[--Ki],$i[Ki]=null,Ji=$i[--Ki],$i[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Ji,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function ls(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return ls(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(ls(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Fu(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,c){for(var u=null,l=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===l?u=v:l.sibling=v,l=v,d=g}if(m===a.length)return n(i,d),is&&Yi(i,m),u;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===l?u=d:l.sibling=d,l=d);return is&&Yi(i,m),u}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===l?u=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Yi(i,m),u}function g(i,a,c,u){var l=L(c);if("function"!==typeof l)throw Error(s(150));if(null==(c=l.call(c)))throw Error(s(151));for(var d=l=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?l=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Yi(i,g),l;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,u))&&(a=o(y,a,g),null===d?l=y:d.sibling=y,d=y);return is&&Yi(i,g),l}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Yi(i,g),l}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case A:e:{for(var u=o.key,l=s;null!==l;){if(l.key===u){if((u=o.type)===_){if(7===l.tag){n(r,l.sibling),(s=i(l,o.props.children)).return=r,r=s;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&ys(u)===l.type){n(r,l.sibling),(s=i(l,o.props)).ref=gs(r,l,o),s.return=r,r=s;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((s=Lu(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Du(o.type,o.key,o.props,null,r.mode,c)).ref=gs(r,s,o),c.return=r,r=c)}return a(r);case E:e:{for(l=o.key;null!==s;){if(s.key===l){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fu(o,r.mode,c)).return=r,r=s}return a(r);case O:return e(r,s,(l=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(L(o))return g(r,s,o,c);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Bu(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),As=bs(!1),Es=ki(null),_s=null,ks=null,Is=null;function Ss(){Is=ks=_s=null}function Ts(e){var t=Es.current;Ii(Es),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){_s=e,Is=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===_s)throw Error(s(308));ks=e,_s.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ns=null;function Os(e){null===Ns?Ns=[e]:Ns.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,u=c.next;c.next=null,null===o?s=u:o.next=u,o=c;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===a?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(null!==s){var d=i.baseState;for(o=0,l=u=c=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=B({},d,h);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(u=l=f,c=d):l=l.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Mc|=o,e.lanes=o,e.memoizedState=d}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Gs=ki(qs),Qs=ki(qs),$s=ki(qs);function Ks(e){if(e===qs)throw Error(s(174));return e}function Ws(e,t){switch(Si($s,t),Si(Qs,e),Si(Gs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Gs),Si(Gs,t)}function Js(){Ii(Gs),Ii(Qs),Ii($s)}function Zs(e){Ks($s.current);var t=Ks(Gs.current),n=ce(t,e.type);t!==n&&(Si(Qs,e),Si(Gs,n))}function Ys(e){Qs.current===e&&(Ii(Gs),Ii(Qs))}var Xs=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,co=null,uo=!1,lo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Xo:ea,e=n(r,i),lo){o=0;do{if(lo=!1,ho=0,25<=o)throw Error(s(301));o+=1,co=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(lo)}if(ro.current=Yo,t=null!==ao&&null!==ao.next,so=0,co=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?oo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===co?oo.memoizedState:co.next;if(null!==t)co=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===co?oo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,u=null,l=o;do{var d=l.lane;if((so&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=h,a=r):u=u.next=h,oo.lanes|=d,Mc|=d}l=l.next}while(null!==l&&l!==o);null===u?a=r:u.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Mc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function ko(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Mo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,So.bind(null,n,r,i,t),void 0,null),null===Cc)throw Error(s(349));0!==(30&so)||Io(n,t,i)}return i}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&Co(e)}function To(e,t,n){return n((function(){xo(t)&&Co(e)}))}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Co(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return bo().memoizedState}function Ro(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=No(t,n,s,r))}oo.flags|=e,i.memoizedState=No(1|t,n,s,r)}function Lo(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Bo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,jo.bind(null,t,e),n)}function Ho(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Mc|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Qo(){return bo().memoizedState}function $o(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e))Jo(t,n);else if(null!==(n=Rs(e,t,n,r))){nu(n,e,r,eu()),Zo(n,t,r)}}function Ko(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Jo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,Os(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Rs(e,t,i,r))&&(nu(n,e,r,i=eu()),Zo(n,t,r))}}function Wo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){lo=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Xo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Ho,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Cc)throw Error(s(349));0!==(30&so)||Io(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(To.bind(null,r,o,e),[e]),r.flags|=2048,No(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Cc.identifierPrefix;if(is){var n=Zi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Vo,useContext:Ps,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Bo,useLayoutEffect:Fo,useMemo:zo,useReducer:Ao,useRef:Oo,useState:function(){return Ao(wo)},useDebugValue:Ho,useDeferredValue:function(e){return qo(bo(),ao.memoizedState,e)},useTransition:function(){return[Ao(wo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:ko,useId:Qo,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Vo,useContext:Ps,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Bo,useLayoutEffect:Fo,useMemo:zo,useReducer:Eo,useRef:Oo,useState:function(){return Eo(wo)},useDebugValue:Ho,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(wo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:ko,useId:Qo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=js(e,i,r))&&(nu(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function oa(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Oi(t)?Pi:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Oi(t)?Pi:xi.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function la(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qc||(qc=!0,Gc=r),da(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Qc?Qc=new Set([this]):Qc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,js(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?As(t,null,n,r):ws(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var s=t.ref;return Cs(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ou(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_a(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Sa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Rc,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Rc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Rc,Oc),Oc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Rc,Oc),Oc|=r;return wa(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=Oi(n)?Pi:xi.current;return s=Ni(t,s),Cs(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ta(e,t,n,r,i){if(Oi(n)){var s=!0;Mi(t)}else s=!1;if(Cs(t,i),null===t.stateNode)za(e,t),oa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ps(u):u=Ni(t,u=Oi(n)?Pi:xi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==u)&&aa(t,o,r,u),Ls=!1;var h=t.memoizedState;o.state=h,Vs(t,r,o,i),c=t.memoizedState,a!==r||h!==c||Ci.current||Ls?("function"===typeof l&&(ra(t,n,l,r),c=t.memoizedState),(a=Ls||sa(t,n,a,r,h,c,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ps(c):c=Ni(t,c=Oi(n)?Pi:xi.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==c)&&aa(t,o,r,c),Ls=!1,h=t.memoizedState,o.state=h,Vs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ci.current||Ls?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Ls||sa(t,n,u,r,h,p,c)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,s,i)}function xa(e,t,n,r,i,s){Ia(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Bi(t,n,!1),qa(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ca(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ws(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Na,Oa,Ra,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,i=t.pendingProps,o=Xs.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(Xs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Mu(c,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Fa(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=la(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,o);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,ja(e,t,a,r=la(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Cc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return mu(),ja(e,t,a,r=la(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&($i[Ki++]=Ji,$i[Ki++]=Zi,$i[Ki++]=Wi,Ji=e.id,Zi=e.overflow,Wi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ru(r,a):(a=Lu(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ma(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ru(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function Ha(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Xs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Xs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,s);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Qa(t),null;case 3:return r=t.stateNode,Js(),Ii(Ci),Ii(xi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Oa(e,t),Qa(t),null;case 5:Ys(t);var i=Ks($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Qa(t),null}if(e=Ks(Gs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var c in ye(n,o),i=null,o)if(o.hasOwnProperty(c)){var u=o[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":Q(r),X(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=W(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var l=u[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,c))}switch(n){case"input":Q(e),X(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks($s.current),Ks(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qa(t),null;case 13:if(Ii(Xs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Dc&&(Dc=3):mu())),null!==t.updateQueue&&(t.flags|=4),Qa(t),null);case 4:return Js(),Oa(e,t),null===e&&Vr(t.stateNode.containerInfo),Qa(t),null;case 10:return Ts(t.type._context),Qa(t),null;case 19:if(Ii(Xs),null===(o=t.memoizedState))return Qa(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ga(o,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=eo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Vc&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Qa(t),null}else 2*Ze()-o.renderingStartTime>Vc&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Xs.current,Si(Xs,r?1&n|2:1&n),t):(Qa(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Qa(t),6&t.subtreeFlags&&(t.flags|=8192)):Qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ka(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Ii(Ci),Ii(xi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(Ii(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(Xs),null;case 4:return Js(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(Gs.current);var s,o=null;switch(n){case"input":i=W(e,i),r=W(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(o=o||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&jr("scroll",e),o||c===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wa=!1,Ja=!1,Za="function"===typeof WeakSet?WeakSet:Set,Ya=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ec(t,n,s)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Xa(n,t);case 6:var r=lc,i=dc;lc=null,hc(e,t,n),dc=i,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Vt(e)):ci(lc,n.stateNode));break;case 4:r=lc,i=dc,lc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),lc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ec(n,t,o),i=i.next}while(i!==r)}hc(e,t,n);break;case 1:if(!Ja&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ku(n,t,a)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,hc(e,t,n),Ja=r):hc(e,t,n);break;default:hc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(s(160));fc(o,a,i),lc=null,dc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){ku(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){ku(e,e.return,g)}try{nc(5,e,e.return)}catch(g){ku(e,e.return,g)}}break;case 1:mc(t,e),vc(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(mc(t,e),vc(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){ku(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===o.type&&null!=o.name&&Z(i,o),be(c,a);var l=be(c,o);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,l)}switch(c){case"input":Y(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){ku(e,e.return,g)}}break;case 6:if(mc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){ku(e,e.return,g)}}break;case 3:if(mc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){ku(e,e.return,g)}break;case 4:default:mc(t,e),vc(e);break;case 13:mc(t,e),vc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hc=Ze())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(l=Ja)||d,mc(t,e),Ja=l):mc(t,e),vc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Ya=e,d=e.child;null!==d;){for(h=Ya=d;null!==Ya;){switch(p=(f=Ya).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Xa(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){ku(r,n,g)}}break;case 5:Xa(f,f.return);break;case 22:if(null!==f.memoizedState){Ac(h);continue}}null!==p?(p.return=f,Ya=p):Ac(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",a))}catch(g){ku(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){ku(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),vc(e),4&r&&pc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oc(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uc(e,ac(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cc(e,ac(e),o);break;default:throw Error(s(161))}}catch(a){ku(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Ya=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Ya;){var i=Ya,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Wa;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Ja;a=Wa;var u=Ja;if(Wa=o,(Ja=c)&&!u)for(Ya=i;null!==Ya;)c=(o=Ya).child,22===o.tag&&null!==o.memoizedState?Ec(i):null!==c?(c.return=o,Ya=c):Ec(i);for(;null!==s;)Ya=s,bc(s,t,n),s=s.sibling;Ya=i,Wa=a,Ja=u}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ya=s):wc(e)}}function wc(e){for(;null!==Ya;){var t=Ya;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&ic(t)}catch(f){ku(t,t.return,f)}}if(t===e){Ya=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ya=n;break}Ya=t.return}}function Ac(e){for(;null!==Ya;){var t=Ya;if(t===e){Ya=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ya=n;break}Ya=t.return}}function Ec(e){for(;null!==Ya;){var t=Ya;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){ku(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){ku(t,i,c)}}var s=t.return;try{ic(t)}catch(c){ku(t,s,c)}break;case 5:var o=t.return;try{ic(t)}catch(c){ku(t,o,c)}}}catch(c){ku(t,t.return,c)}if(t===e){Ya=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ya=a;break}Ya=t.return}}var _c,kc=Math.ceil,Ic=w.ReactCurrentDispatcher,Sc=w.ReactCurrentOwner,Tc=w.ReactCurrentBatchConfig,xc=0,Cc=null,Pc=null,Nc=0,Oc=0,Rc=ki(0),Dc=0,Lc=null,Mc=0,Bc=0,Fc=0,jc=null,Uc=null,Hc=0,Vc=1/0,zc=null,qc=!1,Gc=null,Qc=null,$c=!1,Kc=null,Wc=0,Jc=0,Zc=null,Yc=-1,Xc=0;function eu(){return 0!==(6&xc)?Ze():-1!==Yc?Yc:Yc=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&xc)&&0!==Nc?Nc&-Nc:null!==ms.transition?(0===Xc&&(Xc=mt()),Xc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jc)throw Jc=0,Zc=null,Error(s(185));vt(e,n,r),0!==(2&xc)&&e===Cc||(e===Cc&&(0===(2&xc)&&(Bc|=n),4===Dc&&au(e,Nc)),ru(e,r),1===n&&0===xc&&0===(1&t.mode)&&(Vc=Ze()+500,ji&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Cc?Nc:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){ji=!0,Hi(e)}(cu.bind(null,e)):Hi(cu.bind(null,e)),oi((function(){0===(6&xc)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Yc=-1,Xc=0,0!==(6&xc))throw Error(s(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=ht(e,e===Cc?Nc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=xc;xc|=2;var o=pu();for(Cc===e&&Nc===t||(zc=null,Vc=Ze()+500,hu(e,t));;)try{yu();break}catch(c){fu(e,c)}Ss(),Ic.current=o,xc=i,null!==Pc?t=0:(Cc=null,Nc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Lc,hu(e,0),au(e,r),ru(e,Ze()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Lc,hu(e,0),au(e,r),ru(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Au(e,Uc,zc);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Hc+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Au.bind(null,e,Uc,zc),t);break}Au(e,Uc,zc);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kc(r/1960))-r)){e.timeoutHandle=ri(Au.bind(null,e,Uc,zc),r);break}Au(e,Uc,zc);break;default:throw Error(s(329))}}}return ru(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Uc,Uc=n,null!==t&&ou(t)),e}function ou(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function au(e,t){for(t&=~Fc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&xc))throw Error(s(327));Eu();var t=ht(e,0);if(0===(1&t))return ru(e,Ze()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Lc,hu(e,0),au(e,t),ru(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e,Uc,zc),ru(e,Ze()),null}function uu(e,t){var n=xc;xc|=1;try{return e(t)}finally{0===(xc=n)&&(Vc=Ze()+500,ji&&Vi())}}function lu(e){null!==Kc&&0===Kc.tag&&0===(6&xc)&&Eu();var t=xc;xc|=1;var n=Tc.transition,r=bt;try{if(Tc.transition=null,bt=1,e)return e()}finally{bt=r,Tc.transition=n,0===(6&(xc=t))&&Vi()}}function du(){Oc=Rc.current,Ii(Rc)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Js(),Ii(Ci),Ii(xi),no();break;case 5:Ys(r);break;case 4:Js();break;case 13:case 19:Ii(Xs);break;case 10:Ts(r.type._context);break;case 22:case 23:du()}n=n.return}if(Cc=e,Pc=e=Ru(e.current,null),Nc=Oc=t,Dc=0,Lc=null,Fc=Bc=Mc=0,Uc=jc=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return e}function fu(e,t){for(;;){var n=Pc;try{if(Ss(),ro.current=Yo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,co=ao=oo=null,lo=!1,ho=0,Sc.current=null,null===n||null===n.return){Dc=1,Lc=t,Pc=null;break}e:{var o=e,a=n.return,c=n,u=t;if(t=Nc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,c,0,t),1&p.mode&&ma(o,l,t),u=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,l,t),mu();break e}u=Error(s(426))}else if(is&&1&c.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,c,0,t),ps(ua(u,c));break e}}o=u=ua(u,c),4!==Dc&&(Dc=2),null===jc?jc=[o]:jc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,fa(0,u,t));break e;case 1:c=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qc||!Qc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,pa(o,c,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function pu(){var e=Ic.current;return Ic.current=Yo,null===e?Yo:e}function mu(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Cc||0===(268435455&Mc)&&0===(268435455&Bc)||au(Cc,Nc)}function gu(e,t){var n=xc;xc|=2;var r=pu();for(Cc===e&&Nc===t||(zc=null,hu(e,t));;)try{vu();break}catch(i){fu(e,i)}if(Ss(),xc=n,Ic.current=r,null!==Pc)throw Error(s(261));return Cc=null,Nc=0,Dc}function vu(){for(;null!==Pc;)bu(Pc)}function yu(){for(;null!==Pc&&!We();)bu(Pc)}function bu(e){var t=_c(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?wu(e):Pc=t,Sc.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Oc)))return void(Pc=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Dc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Dc&&(Dc=5)}function Au(e,t,n){var r=bt,i=Tc.transition;try{Tc.transition=null,bt=1,function(e,t,n,r){do{Eu()}while(null!==Kc);if(0!==(6&xc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Cc&&(Pc=Cc=null,Nc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$c||($c=!0,Cu(tt,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tc.transition,Tc.transition=null;var a=bt;bt=1;var c=xc;xc|=4,Sc.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(A){n=null;break e}var a=0,c=-1,u=-1,l=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==o||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++l===i&&(c=a),f===o&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ya=t;null!==Ya;)if(e=(t=Ya).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ya=e;else for(;null!==Ya;){t=Ya;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(A){ku(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,Ya=e;break}Ya=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Je(),xc=c,bt=a,Tc.transition=o}else e.current=n;if($c&&($c=!1,Kc=e,Wc=i),o=e.pendingLanes,0===o&&(Qc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qc)throw qc=!1,e=Gc,Gc=null,e;0!==(1&Wc)&&0!==e.tag&&Eu(),o=e.pendingLanes,0!==(1&o)?e===Zc?Jc++:(Jc=0,Zc=e):Jc=0,Vi()}(e,t,n,r)}finally{Tc.transition=i,bt=r}return null}function Eu(){if(null!==Kc){var e=wt(Wc),t=Tc.transition,n=bt;try{if(Tc.transition=null,bt=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Wc=0,0!==(6&xc))throw Error(s(331));var i=xc;for(xc|=4,Ya=e.current;null!==Ya;){var o=Ya,a=o.child;if(0!==(16&Ya.flags)){var c=o.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Ya=l;null!==Ya;){var d=Ya;switch(d.tag){case 0:case 11:case 15:nc(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ya=h;else for(;null!==Ya;){var f=(d=Ya).sibling,p=d.return;if(sc(d),d===l){Ya=null;break}if(null!==f){f.return=p,Ya=f;break}Ya=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ya=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ya=a;else e:for(;null!==Ya;){if(0!==(2048&(o=Ya).flags))switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ya=y;break e}Ya=o.return}}var b=e.current;for(Ya=b;null!==Ya;){var w=(a=Ya).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ya=w;else e:for(a=b;null!==Ya;){if(0!==(2048&(c=Ya).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(E){ku(c,c.return,E)}if(c===a){Ya=null;break e}var A=c.sibling;if(null!==A){A.return=c.return,Ya=A;break e}Ya=c.return}}if(xc=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Tc.transition=t}}return!1}function _u(e,t,n){e=js(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qc||!Qc.has(r))){t=js(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Cc===e&&(Nc&n)===n&&(4===Dc||3===Dc&&(130023424&Nc)===Nc&&500>Ze()-Hc?hu(e,0):Fc|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Ds(e,t))&&(vt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Su(e,n)}function Cu(e,t){return $e(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ou(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Lu(n.children,i,o,t);case k:a=8,i|=8;break;case I:return(e=Nu(12,n,t,2|i)).elementType=I,e.lanes=o,e;case C:return(e=Nu(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Nu(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case T:a=9;break e;case x:a=11;break e;case N:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,o,a,c){return e=new ju(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Hu(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Vu(e,t,n,r,i,s,o,a,c){return(e=Uu(n,r,!0,e,0,s,0,a,c)).context=Hu(null),n=e.current,(s=Fs(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,js(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function zu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=js(i,t,o))&&(nu(e,i,o,s),Us(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}_c=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ca(t),fs();break;case 5:Zs(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:Ws(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Xs,1&Xs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Si(Xs,1&Xs.current),null!==(e=qa(e,t,n))?e.sibling:null);Si(Xs,1&Xs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Xs,Xs.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return qa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Xi(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;za(e,t),e=t.pendingProps;var i=Ni(t,xi.current);Cs(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=xa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ca(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Bs(e,t),Vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ia(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Ba(e,t,n);case 4:return Ws(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ci.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Fs(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xs(o.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),xs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cs(t,n),r=r(i=Ps(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return _a(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),za(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Cs(t,n),oa(t,r,i),ca(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var $u="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Wu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Xu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qu(o);a.call(e)}}zu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qu(o);s.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),lu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qu(c);a.call(e)}}var c=Uu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=c,e[pi]=c.current,Vr(8===e.nodeType?e.parentNode:e),lu((function(){zu(t,c,n,r)})),c}(n,t,e,i,r);return qu(o)}Wu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zu(e,t,null,null)},Wu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){zu(null,e,null,null)})),t[pi]=null}},Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Bt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ze()),0===(6&xc)&&(Vc=Ze()+500,Vi()))}break;case 13:lu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Qu(e,1)}},Et=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nu(t,e,134217728,eu());Qu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);if(null!==n)nu(n,e,t,eu());Qu(e,t)}},kt=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));$(r),Y(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uu,Ce=lu;var el={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Se,Te,uu]},tl={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),st=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(s(299));var n=!1,r="",i=$u;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(s(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=$u;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(s(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(s(40));return!!e._reactRootContainer&&(lu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},926:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,s),!0;case 6:return l.fn.call(l.context,t,r,i,s,o),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".be31455f.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dailythought:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],c=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkdailythought=self.webpackChunkdailythought||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{abiSchemaToJsonSchema:()=>Lw,codePointToInt:()=>jw,ensureIfUint8Array:()=>$w,ethAbiToJsonSchema:()=>Mw,fetchArrayElement:()=>Bw,hexToNumber:()=>Uw,hexToUint8Array:()=>Qw,numberToHex:()=>Hw,padLeft:()=>Vw,parseBaseType:()=>Rw,transformJsonDataToAbiFormat:()=>Fw,uint8ArrayToHexString:()=>zw});var t={};n.r(t),n.d(t,{isBatchRequest:()=>i_,isBatchResponse:()=>XE,isResponseRpcError:()=>QE,isResponseWithError:()=>KE,isResponseWithNotification:()=>WE,isResponseWithResult:()=>$E,isSubscriptionResult:()=>JE,isValidResponse:()=>YE,setRequestIdStart:()=>t_,toBatchPayload:()=>r_,toPayload:()=>n_,validateResponse:()=>ZE});var r={};n.r(r),n.d(r,{ChunkResponseParser:()=>c_,Eip1193Provider:()=>l_,EventEmitter:()=>WA,SocketProvider:()=>f_,Web3DeferredPromise:()=>a_,asciiToHex:()=>MA,bytesToHex:()=>EA,bytesToUint8Array:()=>wA,checkAddressCheckSum:()=>YA,compareBlockNumbers:()=>oE,convert:()=>EE,convertScalarValue:()=>wE,encodePacked:()=>OE,ethUnitMap:()=>yA,format:()=>_E,fromAscii:()=>BA,fromDecimal:()=>TA,fromTwosComplement:()=>gE,fromUtf8:()=>PA,fromWei:()=>zA,getStorageSlotNumForLongString:()=>LE,hexToAscii:()=>FA,hexToBytes:()=>_A,hexToNumber:()=>kA,hexToNumberString:()=>xA,hexToString:()=>LA,hexToUtf8:()=>OA,isAddress:()=>XA,isBatchRequest:()=>i_,isBatchResponse:()=>XE,isBloom:()=>eE,isContractAddressInBloom:()=>rE,isContractInitOptions:()=>aE,isDataFormat:()=>yE,isHex:()=>ZA,isHexStrict:()=>JA,isInBloom:()=>tE,isNullish:()=>cE,isPromise:()=>jE,isResponseRpcError:()=>QE,isResponseWithError:()=>KE,isResponseWithNotification:()=>WE,isResponseWithResult:()=>$E,isSubscriptionResult:()=>JE,isTopic:()=>iE,isTopicInBloom:()=>sE,isUint8Array:()=>mA,isUserEthereumAddressInBloom:()=>nE,isValidResponse:()=>YE,jsonRpc:()=>t,keccak256:()=>IE,keccak256Wrapper:()=>IE,leftPad:()=>pE,mergeDeep:()=>lE,numberToHex:()=>SA,padLeft:()=>dE,padRight:()=>hE,pollTillDefined:()=>VE,pollTillDefinedAndReturnIntervalId:()=>HE,processSolidityEncodePackedArgs:()=>NE,randomBytes:()=>ME,randomHex:()=>BE,rejectIfConditionAtInterval:()=>qE,rejectIfTimeout:()=>zE,rightPad:()=>fE,setRequestIdStart:()=>t_,sha3:()=>SE,sha3Raw:()=>TE,soliditySha3:()=>RE,soliditySha3Raw:()=>DE,stringToHex:()=>NA,toAscii:()=>jA,toBatchPayload:()=>r_,toBigInt:()=>VA,toBool:()=>QA,toChecksumAddress:()=>GA,toDecimal:()=>IA,toHex:()=>UA,toNumber:()=>HA,toPayload:()=>n_,toTwosComplement:()=>mE,toUtf8:()=>RA,toWei:()=>qA,uint8ArrayConcat:()=>gA,uint8ArrayEquals:()=>vA,utf8ToBytes:()=>DA,utf8ToHex:()=>CA,uuidV4:()=>GE,validateResponse:()=>ZE,waitWithTimeout:()=>UE});var i={};n.r(i),n.d(i,{DO:()=>yk,OG:()=>Nk,My:()=>wk,Ph:()=>Ik,lX:()=>Sk,Id:()=>Pk,fg:()=>Dk,qj:()=>Ck,aT:()=>kk,aY:()=>vk,lq:()=>Tk,z:()=>xk,Q5:()=>Mk});var s={};n.r(s),n.d(s,{secp256k1:()=>yI});var o=n(43),a=n(391),c=n(579);const u=(0,o.createContext)();function l(e){let{children:t}=e;const[n,r]=(0,o.useState)("light");(0,o.useEffect)((()=>{const e=localStorage.getItem("theme");e&&(r(e),document.documentElement.setAttribute("data-theme",e))}),[]);const i={theme:n,setTheme:e=>{r(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)}};return(0,c.jsx)(u.Provider,{value:i,children:t})}const d=(0,o.createContext)(),h={ko:{app:{title:"Daily Thought",login:"\ub85c\uadf8\uc778",logout:"\ub85c\uadf8\uc544\uc6c3"},dailyQuote:{title:"\uc624\ub298\uc758 \uba85\uc5b8",search:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694"},thought:{title:"\ub098\uc758 \uc0dd\uac01",placeholder:"\uc774 \uba85\uc5b8\uc5d0 \ub300\ud55c \ub098\uc758 \uc0dd\uac01\uc744 \uc801\uc5b4\ubcf4\uc138\uc694...",submit:"\uc800\uc7a5\ud558\uae30",list:"\ub098\uc758 \uae30\ub85d",empty:"\uc544\uc9c1 \uc791\uc131\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."},settings:{theme:{title:"\ud14c\ub9c8 \uc124\uc815",light:"\ubc1d\uc740 \ud14c\ub9c8",dark:"\uc5b4\ub450\uc6b4 \ud14c\ub9c8",system:"\uc2dc\uc2a4\ud15c \uc124\uc815"},language:{title:"\uc5b8\uc5b4 \uc124\uc815",ko:"\ud55c\uad6d\uc5b4",en:"English"},notification:{title:"\uc54c\ub9bc \uc124\uc815",enabled:"\uc54c\ub9bc \ucf1c\uae30",disabled:"\uc54c\ub9bc \ub044\uae30",time:"\uc54c\ub9bc \uc2dc\uac04",daily:"\ub9e4\uc77c \uc0c8\ub85c\uc6b4 \uba85\uc5b8 \uc54c\ub9bc",weekly:"\uc8fc\uac04 \ub9ac\ub9c8\uc778\ub354",email:"\uc774\uba54\uc77c \uc54c\ub9bc"}}}};function f(e){let{children:t}=e;const[n,r]=(0,o.useState)("ko"),i={language:n,setLanguage:r,t:e=>{const t=e.split(".");let r=h[n];for(const n of t){var i;r=null===(i=r)||void 0===i?void 0:i[n]}return r||e}};return(0,c.jsx)(d.Provider,{value:i,children:t})}function p(){const e=(0,o.useContext)(d);if(void 0===e)throw new Error("useLanguage must be used within a LanguageProvider");return e}const m=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,u=t>>2,l=(3&t)<<4|o>>4;let d=(15&o)<<2|c>>6,h=63&c;a||(h=64,s||(d=64)),r.push(n[u],n[l],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(m(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new v;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(e){return function(e){const t=m(e);return g.encodeByteArray(t,!0)}(e).replace(/\./g,"")},b=function(e){try{return g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const w=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,A=()=>{try{return w()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDWAFLA7k2qSTRfqzYBLwpDtjzt68j08_M",REACT_APP_FIREBASE_APP_ID:"1:287571952965:web:b6801a07c2869e10792a2c",REACT_APP_FIREBASE_AUTH_DOMAIN:"daily-quotes-app-9bf66.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"287571952965",REACT_APP_FIREBASE_PROJECT_ID:"daily-quotes-app-9bf66",REACT_APP_FIREBASE_STORAGE_BUCKET:"daily-quotes-app-9bf66.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&b(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},E=e=>{var t,n;return null===(n=null===(t=A())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_=()=>{var e;return null===(e=A())||void 0===e?void 0:e.config},k=e=>{var t;return null===(t=A())||void 0===t?void 0:t[`_${e}`]};class I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return!function(){var e;const t=null===(e=A())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){try{return"object"===typeof indexedDB}catch(e){return!1}}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(N,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new C(n,s,t)}}const N=/\{\$([^}]+)}/g;function O(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(R(n)&&R(s)){if(!O(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function D(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function L(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function M(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function F(){}function j(e){return e&&e._delegate?e._delegate:e}class U{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const H="[DEFAULT]";class V{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new I;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:H})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(s_){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===H?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s_){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?e:H:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const q=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const Q={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},$=G.INFO,K={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},W=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=K[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class J{constructor(e){this.name=e,this._logLevel=$,this._logHandler=W,this._userLogHandler=null,q.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}let Z,Y;const X=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap;let ie={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ee.get(e);if("objectStoreNames"===t)return e.objectStoreNames||te.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ae(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ce(this),n),ae(X.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ae(e.apply(ce(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ce(this),t,...r);return te.set(s,t.sort?t.sort():[t]),ae(s)}}function oe(e){return"function"===typeof e?se(e):(e instanceof IDBTransaction&&function(e){if(ee.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ee.set(e,t)}(e),t=e,(Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ie):e);var t}function ae(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ae(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&X.set(t,e)})).catch((()=>{})),re.set(t,e),t}(e);if(ne.has(e))return ne.get(e);const t=oe(e);return t!==e&&(ne.set(e,t),re.set(t,e)),t}const ce=e=>re.get(e);const ue=["get","getKey","getAll","getAllKeys","count"],le=["put","add","delete","clear"],de=new Map;function he(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(de.get(t))return de.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=le.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ue.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return de.set(t,s),s}ie=(e=>({...e,get:(t,n,r)=>he(t,n)||e.get(t,n,r),has:(t,n)=>!!he(t,n)||e.has(t,n)}))(ie);class fe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const pe="@firebase/app",me="0.11.3",ge=new J("@firebase/app"),ve="@firebase/app-compat",ye="@firebase/analytics-compat",be="@firebase/analytics",we="@firebase/app-check-compat",Ae="@firebase/app-check",Ee="@firebase/auth",_e="@firebase/auth-compat",ke="@firebase/database",Ie="@firebase/data-connect",Se="@firebase/database-compat",Te="@firebase/functions",xe="@firebase/functions-compat",Ce="@firebase/installations",Pe="@firebase/installations-compat",Ne="@firebase/messaging",Oe="@firebase/messaging-compat",Re="@firebase/performance",De="@firebase/performance-compat",Le="@firebase/remote-config",Me="@firebase/remote-config-compat",Be="@firebase/storage",Fe="@firebase/storage-compat",je="@firebase/firestore",Ue="@firebase/vertexai",He="@firebase/firestore-compat",Ve="firebase",ze="[DEFAULT]",qe={[pe]:"fire-core",[ve]:"fire-core-compat",[be]:"fire-analytics",[ye]:"fire-analytics-compat",[Ae]:"fire-app-check",[we]:"fire-app-check-compat",[Ee]:"fire-auth",[_e]:"fire-auth-compat",[ke]:"fire-rtdb",[Ie]:"fire-data-connect",[Se]:"fire-rtdb-compat",[Te]:"fire-fn",[xe]:"fire-fn-compat",[Ce]:"fire-iid",[Pe]:"fire-iid-compat",[Ne]:"fire-fcm",[Oe]:"fire-fcm-compat",[Re]:"fire-perf",[De]:"fire-perf-compat",[Le]:"fire-rc",[Me]:"fire-rc-compat",[Be]:"fire-gcs",[Fe]:"fire-gcs-compat",[je]:"fire-fst",[He]:"fire-fst-compat",[Ue]:"fire-vertex","fire-js":"fire-js",[Ve]:"fire-js-all"},Ge=new Map,Qe=new Map,$e=new Map;function Ke(e,t){try{e.container.addComponent(t)}catch(n){ge.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function We(e){const t=e.name;if($e.has(t))return ge.debug(`There were multiple attempts to register component ${t}.`),!1;$e.set(t,e);for(const n of Ge.values())Ke(n,e);for(const n of Qe.values())Ke(n,e);return!0}function Je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ze(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ye=new P("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new U("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ye.create("app-deleted",{appName:this._name})}}const et="11.5.0";function tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ze,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ye.create("bad-app-name",{appName:String(i)});if(n||(n=_()),!n)throw Ye.create("no-options");const s=Ge.get(i);if(s){if(O(n,s.options)&&O(r,s.config))return s;throw Ye.create("duplicate-app",{appName:i})}const o=new z(i);for(const c of $e.values())o.addComponent(c);const a=new Xe(n,r,o);return Ge.set(i,a),a}function nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;const t=Ge.get(e);if(!t&&e===ze&&_())return tt();if(!t)throw Ye.create("no-app",{appName:e});return t}function rt(e,t,n){var r;let i=null!==(r=qe[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ge.warn(e.join(" "))}We(new U(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const it="firebase-heartbeat-store";let st=null;function ot(){return st||(st=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ae(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(ae(o.result),e.oldVersion,e.newVersion,ae(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(it)}catch(n){console.warn(n)}}}).catch((e=>{throw Ye.create("idb-open",{originalErrorMessage:e.message})}))),st}async function at(e,t){try{const n=(await ot()).transaction(it,"readwrite"),r=n.objectStore(it);await r.put(t,ct(e)),await n.done}catch(n){if(n instanceof C)ge.warn(n.message);else{const e=Ye.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ge.warn(e.message)}}}function ct(e){return`${e.name}!${e.options.appId}`}class ut{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ge.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=lt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ht(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ht(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=y(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ge.warn(t),""}}}function lt(){return(new Date).toISOString().substring(0,10)}class dt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!x()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ot()).transaction(it),n=await t.objectStore(it).get(ct(e));return await t.done,n}catch(t){if(t instanceof C)ge.warn(t.message);else{const e=Ye.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ge.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return at(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return at(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ht(e){return y(JSON.stringify({version:2,heartbeats:e})).length}var ft;ft="",We(new U("platform-logger",(e=>new fe(e)),"PRIVATE")),We(new U("heartbeat",(e=>new ut(e)),"PRIVATE")),rt(pe,me,ft),rt(pe,me,"esm2017"),rt("fire-js","");rt("firebase","11.5.0","app");function pt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gt=mt,vt=new P("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yt=new J("@firebase/auth");function bt(e){if(yt.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yt.error(`Auth (${et}): ${e}`,...n)}}function wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw It(e,...n)}function At(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return It(e,...n)}function Et(e,t,n){const r=Object.assign(Object.assign({},gt()),{[t]:n});return new P("auth","Firebase",r).create(t,{appName:e.name})}function _t(e){return Et(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wt(e,"argument-error"),Et(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vt.create(e,...n)}function St(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw It(t,...r)}}function Tt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bt(t),new Error(t)}function xt(e,t){e||Tt(t)}function Ct(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ot(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,xt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ot()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dt(e,t){xt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Lt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bt=new Rt(3e4,6e4);function Ft(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jt(e,t,n,r){return Ut(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=D(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),Lt.fetch()(Vt(e,e.config.apiHost,n,o),c)}))}async function Ut(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mt),t);try{const t=new qt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Gt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Gt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Gt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Gt(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Et(e,a,o);wt(e,a)}}catch(i){if(i instanceof C)throw i;wt(e,"network-request-failed",{message:String(i)})}}async function Ht(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await jt(e,t,n,r,i);return"mfaPendingCredential"in s&&wt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Vt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Dt(e.config,i):`${e.config.apiScheme}://${i}`}function zt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(At(this.auth,"network-request-failed"))),Bt.get())}))}}function Gt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=At(e,t,r);return i.customData._tokenResponse=n,i}function Qt(e){return void 0!==e&&void 0!==e.enterprise}class $t{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kt(e,t){return jt(e,"GET","/v2/recaptchaConfig",Ft(e,t))}async function Wt(e,t){return jt(e,"POST","/v1/accounts:lookup",t)}function Jt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Zt(e){return 1e3*Number(e)}function Yt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const e=b(n);return e?JSON.parse(e):(bt("Failed to decode base64 JWT payload"),null)}catch(i){return bt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Xt(e){const t=Yt(e);return St(t,"internal-error"),St("undefined"!==typeof t.exp,"internal-error"),St("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function en(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof C&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class tn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class nn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jt(this.lastLoginAt),this.creationTime=Jt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await en(e,Wt(n,{idToken:r}));St(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?sn(s.providerUserInfo):[],a=(c=e.providerData,u=o,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const l=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!l&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nn(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function sn(e){return e.map((e=>{var{providerId:t}=e,n=pt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St("undefined"!==typeof e.idToken,"internal-error"),St("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Xt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){St(0!==e.length,"internal-error");const t=Xt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ut(e,{},(async()=>{const n=D({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Vt(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new on;return n&&(St("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(St("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(St("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function an(e,t){St("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class cn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=pt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await en(this,this.stsTokenManager.getToken(this.auth,e));return St(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=j(e),r=await n.getIdToken(t),i=Yt(r);St(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jt(Zt(i.auth_time)),issuedAtTime:Jt(Zt(i.iat)),expirationTime:Jt(Zt(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=j(e);await rn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(_t(this.auth));const e=await this.getIdToken();return await en(this,async function(e,t){return jt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:E}=t;St(y&&E,e,"internal-error");const _=on.fromJSON(this.name,E);St("string"===typeof y,e,"internal-error"),an(l,e.name),an(d,e.name),St("boolean"===typeof b,e,"internal-error"),St("boolean"===typeof w,e,"internal-error"),an(h,e.name),an(f,e.name),an(p,e.name),an(m,e.name),an(g,e.name),an(v,e.name);const k=new cn({uid:y,auth:e,email:d,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(k.providerData=A.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new on;r.updateFromServerResponse(t);const i=new cn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rn(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];St(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?sn(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new on;o.updateFromIdToken(n);const a=new cn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new nn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const un=new Map;function ln(e){xt(e instanceof Function,"Expected a class definition");let t=un.get(e);return t?(xt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,un.set(e,t),t)}class dn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dn.type="NONE";const hn=dn;function fn(e,t,n){return`firebase:${e}:${t}:${n}`}class pn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fn(this.userKey,r.apiKey,i),this.fullPersistenceKey=fn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new pn(ln(hn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ln(hn);const s=fn(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=cn._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(s_){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(s_){}}))),new pn(i,e,n)):new pn(i,e,n)}}function mn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(An(t))return"Blackberry";if(En(t))return"Webos";if(vn(t))return"Safari";if((t.includes("chrome/")||yn(t))&&!t.includes("edge/"))return"Chrome";if(wn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/firefox\//i.test(e)}function vn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/crios\//i.test(e)}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iemobile/i.test(e)}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/android/i.test(e)}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/blackberry/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/webos/i.test(e)}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kn(){return function(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return _n(e)||wn(e)||En(e)||An(e)||/windows phone/i.test(e)||bn(e)}function Sn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=mn(S());break;case"Worker":t=`${mn(S())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${et}/${r}`}class Tn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class xn{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Cn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nn(this),this.idTokenSubscription=new Nn(this),this.beforeStateQueue=new Tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ln(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await pn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wt(this,{idToken:e}),n=await cn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ze(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rn(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ze(this.app))return Promise.reject(_t(this));const t=e?j(e):null;return t&&St(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ze(this.app)?Promise.reject(_t(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ze(this.app)?Promise.reject(_t(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ln(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return jt(e,"GET","/v2/passwordPolicy",Ft(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new xn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new P("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return jt(e,"POST","/v2/accounts:revokeToken",Ft(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ln(e)||this._popupRedirectResolver;St(t,this,"argument-error"),this.redirectPersistenceManager=await pn.create(this,[ln(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(yt.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yt.warn(`Auth (${et}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Pn(e){return j(e)}class Nn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new B(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let On={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rn(e){return On.loadJS(e)}function Dn(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ln{constructor(){this.enterprise=new Mn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bn="NO_RECAPTCHA";class Fn{constructor(e){this.type="recaptcha-enterprise",this.auth=Pn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Qt(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Bn)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ln).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Kt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new $t(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Qt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=On.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Rn(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function jn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Fn(e);let o;if(i)o=Bn;else try{o=await s.verify(n)}catch(c){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Un(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await jn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await jn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await jn(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await jn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await jn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Hn(e){const t=Pn(e),n=await Kt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $t(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Fn(t).verify()}}function Vn(e,t,n){const r=Pn(e);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=zn(t),{host:o,port:a}=function(e){const t=zn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qn(t)}}}(t),c={url:`${s}//${o}${null===a?"":`:${a}`}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void St(O(c,r.config.emulator)&&O(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tt("not implemented")}_getIdTokenResponse(e){return Tt("not implemented")}_linkToIdToken(e,t){return Tt("not implemented")}_getReauthenticationResolver(e){return Tt("not implemented")}}async function Qn(e,t){return jt(e,"POST","/v1/accounts:signUp",t)}async function $n(e,t){return Ht(e,"POST","/v1/accounts:signInWithPassword",Ft(e,t))}class Kn extends Gn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Kn(e,t,"password")}static _fromEmailAndCode(e,t){return new Kn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Un(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$n,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithEmailLink",Ft(e,t))}(e,{email:this._email,oobCode:this._password});default:wt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Un(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithEmailLink",Ft(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wn(e,t){return Ht(e,"POST","/v1/accounts:signInWithIdp",Ft(e,t))}class Jn extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=pt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Jn(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Wn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=D(t)}return e}}async function Zn(e,t){return jt(e,"POST","/v1/accounts:sendVerificationCode",Ft(e,t))}const Yn={USER_NOT_FOUND:"user-not-found"};class Xn extends Gn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Xn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Xn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithPhoneNumber",Ft(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ht(e,"POST","/v1/accounts:signInWithPhoneNumber",Ft(e,t));if(n.temporaryProof)throw Gt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithPhoneNumber",Ft(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Yn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Xn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class er{constructor(e){var t,n,r,i,s,o;const a=L(M(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);St(c&&u&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=L(M(e)).link,n=t?L(M(t)).deep_link_id:null,r=L(M(e)).deep_link_id;return(r?L(M(r)).link:null)||r||n||t||e}(e);try{return new er(t)}catch(s_){return null}}}class tr{constructor(){this.providerId=tr.PROVIDER_ID}static credential(e,t){return Kn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=er.parseLink(t);return St(n,"argument-error"),Kn._fromEmailAndCode(e,n.code,n.tenantId)}}tr.PROVIDER_ID="password",tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rr extends nr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends rr{constructor(){super("facebook.com")}static credential(e){return Jn._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch(s_){return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com",ir.PROVIDER_ID="facebook.com";class sr extends rr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jn._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return sr.credential(n,r)}catch(s_){return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com",sr.PROVIDER_ID="google.com";class or extends rr{constructor(){super("github.com")}static credential(e){return Jn._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch(s_){return null}}}or.GITHUB_SIGN_IN_METHOD="github.com",or.PROVIDER_ID="github.com";class ar extends rr{constructor(){super("twitter.com")}static credential(e,t){return Jn._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ar.credential(n,r)}catch(s_){return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com",ar.PROVIDER_ID="twitter.com";class cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await cn._fromIdTokenResponse(e,n,r),s=ur(n);return new cr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ur(n);return new cr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ur(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lr extends C{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lr(e,t,n,r)}}function dr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw lr._fromErrorAndOperation(e,n,t,r);throw n}))}async function hr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await en(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cr._forOperation(e,"link",r)}async function fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ze(r.app))return Promise.reject(_t(r));const i="reauthenticate";try{const s=await en(e,dr(r,i,t,e),n);St(s.idToken,r,"internal-error");const o=Yt(s.idToken);St(o,r,"internal-error");const{sub:a}=o;return St(e.uid===a,r,"user-mismatch"),cr._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&wt(r,"user-mismatch"),s}}async function pr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(_t(e));const r="signIn",i=await dr(e,r,t),s=await cr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function mr(e,t){return jt(e,"POST","/v2/accounts/mfaEnrollment:start",Ft(e,t))}new WeakMap;const gr="__sak";class vr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gr,"1"),this.storage.removeItem(gr),Promise.resolve(!0)):Promise.resolve(!1)}catch(s_){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yr extends vr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);kn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yr.type="LOCAL";const br=yr;class wr extends vr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wr.type="SESSION";const Ar=wr;class Er{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Er(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Er.receivers=[];class kr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=_r("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ir(){return window}function Sr(){return"undefined"!==typeof Ir().WorkerGlobalScope&&"function"===typeof Ir().importScripts}const Tr="firebaseLocalStorageDb",xr="firebaseLocalStorage",Cr="fbase_key";class Pr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Nr(e,t){return e.transaction([xr],t?"readwrite":"readonly").objectStore(xr)}function Or(){const e=indexedDB.open(Tr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(xr,{keyPath:Cr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(xr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Tr);return new Pr(e).toPromise()}(),t(await Or()))}))}))}async function Rr(e,t,n){const r=Nr(e,!0).put({[Cr]:t,value:n});return new Pr(r).toPromise()}function Dr(e,t){const n=Nr(e,!0).delete(t);return new Pr(n).toPromise()}class Lr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Or()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Er._getInstance(Sr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new kr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(s_){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Or();return await Rr(e,gr,"1"),await Dr(e,gr),!0}catch(s_){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Nr(e,!1).get(t),r=await new Pr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Dr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Nr(e,!1).getAll();return new Pr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Lr.type="LOCAL";const Mr=Lr;function Br(e,t){return jt(e,"POST","/v2/accounts/mfaSignIn:start",Ft(e,t))}Dn("rcb"),new Rt(3e4,6e4);const Fr="recaptcha";async function jr(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Hn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){St("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Un(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Bn){St((null===n||void 0===n?void 0:n.type)===Fr,e,"argument-error");return mr(e,await Ur(e,t,n))}return mr(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{St("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;St(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Un(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Bn){St((null===n||void 0===n?void 0:n.type)===Fr,e,"argument-error");return Br(e,await Ur(e,t,n))}return Br(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Un(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Bn){St((null===n||void 0===n?void 0:n.type)===Fr,e,"argument-error");return Zn(e,await Ur(e,t,n))}return Zn(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ur(e,t,n){St(n.type===Fr,e,"argument-error");const r=await n.verify();St("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Hr{constructor(e){this.providerId=Hr.PROVIDER_ID,this.auth=Pn(e)}verifyPhoneNumber(e,t){return jr(this.auth,e,j(t))}static credential(e,t){return Xn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Hr.credentialFromTaggedObject(t)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Xn._fromTokenResponse(n,r):null}}function Vr(e,t){return t?ln(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hr.PROVIDER_ID="phone",Hr.PHONE_SIGN_IN_METHOD="phone";class zr extends Gn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qr(e){return pr(e.auth,new zr(e),e.bypassAuthState)}function Gr(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),fr(n,new zr(e),e.bypassAuthState)}async function Qr(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),hr(n,new zr(e),e.bypassAuthState)}class $r{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qr;case"linkViaPopup":case"linkViaRedirect":return Qr;case"reauthViaPopup":case"reauthViaRedirect":return Gr;default:wt(this.auth,"internal-error")}}resolve(e){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kr=new Rt(2e3,1e4);class Wr extends $r{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){xt(1===this.filter.length,"Popup operations only handle one event");const e=_r();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(At(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(At(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(At(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Kr.get())};e()}}Wr.currentPopupAction=null;const Jr=new Map;class Zr extends $r{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Jr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ei(t),r=Xr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Jr.set(this.auth._key(),e)}return this.bypassAuthState||Jr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yr(e,t){Jr.set(e._key(),t)}function Xr(e){return ln(e._redirectPersistence)}function ei(e){return fn("pendingRedirect",e.config.apiKey,e.name)}async function ti(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(_t(e));const r=Pn(e),i=Vr(r,t),s=new Zr(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ni{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ii(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ii(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(At(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ri(e))}saveEventToCache(e){this.cachedEventUids.add(ri(e)),this.lastProcessedEventTime=Date.now()}}function ri(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ii(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oi=/^https?/;async function ai(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return jt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(ci(n))return}catch(s_){}wt(e,"unauthorized-domain")}function ci(e){const t=Ct(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!oi.test(n))return!1;if(si.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ui=new Rt(3e4,6e4);function li(){const e=Ir().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function di(e){return new Promise(((t,n)=>{var r,i,s;function o(){li(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{li(),n(At(e,"network-request-failed"))},timeout:ui.get()})}if(null===(i=null===(r=Ir().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ir().gapi)||void 0===s?void 0:s.load)){const t=Dn("iframefcb");return Ir()[t]=()=>{gapi.load?o():n(At(e,"network-request-failed"))},Rn(`${On.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw hi=null,e}))}let hi=null;const fi=new Rt(5e3,15e3),pi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gi(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:et},i=mi.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${D(r).slice(1)}`}async function vi(e){const t=await function(e){return hi=hi||di(e),hi}(e),n=Ir().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:gi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pi,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=At(e,"network-request-failed"),s=Ir().setTimeout((()=>{r(i)}),fi.get());function o(){Ir().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const yi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},yi),{width:r.toString(),height:i.toString(),top:s,left:o}),u=S().toLowerCase();n&&(a=yn(u)?"_blank":n),gn(u)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return _n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new bi(null);const d=window.open(t||"",a,l);St(d,e,"popup-blocked");try{d.focus()}catch(h){}return new bi(d)}const Ai="__/auth/handler",Ei="emulator/auth/handler",_i=encodeURIComponent("fac");async function ki(e,t,n,r,i,s){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:et,eventId:i};if(t instanceof nr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof rr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=await e._getAppCheckToken(),u=c?`#${_i}=${encodeURIComponent(c)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ai}`;return Dt(t,Ei)}(e)}?${D(a).slice(1)}${u}`}const Ii="webStorageSupport";const Si=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ar,this._completeRedirectFn=ti,this._overrideRedirectResult=Yr}async _openPopup(e,t,n,r){var i;xt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return wi(e,await ki(e,t,n,Ct(),r),_r())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ir().location.href=e}(await ki(e,t,n,Ct(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await vi(e),n=new ni(e);return t.register("authEvent",(t=>{St(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ii,{type:Ii},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ii];void 0!==i&&t(!!i),wt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ai(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return In()||vn()||_n()}};var Ti="@firebase/auth",xi="1.9.1";class Ci{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pi=k("authIdTokenMaxAge")||300;let Ni=null;var Oi,Ri;Oi={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=At("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},On=Oi,Ri="Browser",We(new U("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;St(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Ri,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sn(Ri)},u=new Cn(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ln);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),We(new U("auth-internal",(e=>(e=>new Ci(e))(Pn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),rt(Ti,xi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ri)),rt(Ti,xi,"esm2017");var Di,Li,Mi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),c=s(1),u=s(16777216);function l(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(c)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(l(t))throw Error("division by zero");if(l(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!l(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);d(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);l(s)&&(s=c),i=i.add(s),e=f(e,u)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(l(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(l(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:l(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(l(this)||l(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var c=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=c*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=c*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Li=Bi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var c=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+c),n);8>c?(c=o(Math.pow(n,c)),i=i.j(c).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},Di=Bi.Integer=r}).apply("undefined"!==typeof Mi?Mi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fi,ji,Ui,Hi,Vi,zi,qi,Gi,Qi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$i={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qi&&Qi];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,x=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(N)}};var N=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){_(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function O(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,R);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),F=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function H(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}H.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=z(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new j(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),G={};function Q(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[B]?e.K(t,n,o(r)?!!r.capture:!!r,i):$(e,t,n,!1,r,i)}function $(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,c=X(e);if(c||(e[q]=c=new H(e)),(n=c.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[B]?e.L(t,n,o(r)?!!r.capture:!!r,i):$(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function Z(e){return e in G?G[e]:G[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function X(e){return(e=e[q])instanceof H?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new H(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;A(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[B]=!0,ne.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(e){O.call(this),this.h=e,this.g={}}d(ce,O);var ue=[];function le(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}ce.prototype.N=function(){ce.aa.N.call(this),le(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var we={},Ae=null;function Ee(){return Ae=Ae||new ne}function _e(e){R.call(this,we.La,e)}function ke(e){const t=Ee();re(t,new _e(t))}function Ie(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=Ee();re(t,new Ie(t,e))}function Te(e,t){R.call(this,we.Ma,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ce(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,R),we.STAT_EVENT="statevent",d(Ie,R),we.Ma="timingevent",d(Te,R),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ne,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ne=new De;var Be={},Fe={};function je(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),ze(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=Q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function He(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xe(u(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Qe(e){0==e.j.G||e.J||cn(e.j,e)}function $e(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xe(u(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(l){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,c=r.L;c&&(a.I=c),a.B&&(Ge(a),ze(a)),r.g=o}else nn(r);0<n.i.length&&Yt(n)}else"stop"!=u[0]&&"close"!=u[0]||ln(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ln(n,7):Wt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}ke()}catch(l){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=h||7==t||ke(),Ge(this);var n=this.g.Z();this.X=n;t:if(He(this)){var r=Qt(this.g);e="";var s=r.length,o=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$e(this),Qe(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(c)){var l=c;break t}}l=null}if(!(n=l)){this.o=!1,this.s=3,Se(12),$e(this),Qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Fe){4==h&&(this.s=4,Se(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Be){this.s=4,Se(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if(He(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Se(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),$e(this),Qe(this)}else Pe(this.i,this.l,a,null),Ke(this,a);4==h&&$e(this),this.o&&!this.J&&(4==h?cn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),$e(this),Qe(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,$e(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Se(17)),$e(this),this.s=2,Qe(this)):qe(this,this.S-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,ct(this,e.s),this.l=e.l;var t=e.i,n=new At;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),ct(this,t[4]),this.l=ht(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new At(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ct(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new At(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function dt(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){Et(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return Et(e),t=St(e,t),e.g.has(t)}function It(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Bt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=At.prototype).add=function(e,t){Et(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,kt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Pt,pe),Pt.prototype.g=function(){return new Nt(this.l,this.j)},Pt.prototype.i=(mt={},function(){return mt}),d(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Bt,ne);var Ft=/^https?$/i,jt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ht(e),zt(e)}function Ht(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ft.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(c){a=""}e.l=a+" ["+e.Z()+"]",Ht(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){qt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Wi){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$t("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$t("baseRetryDelayMs",5e3,e),this.cb=$t("retryDelaySeedMs",1e4,e),this.Wa=$t("forwardChannelMaxRetries",2,e),this.wa=$t("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Zt(e),3==e.G){var t=e.U++,n=ot(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}dn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Zt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),x||(T(),x=!0),C.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),je(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){lt(t,n,e)})),e.l&&rt({},(function(e,n){lt(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const c=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Ct(c,e,"req"+n+"_")}catch(s){r&&r(c)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),x||(T(),x=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=xe(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function cn(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Te(r,n)),Yt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=xe(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=l(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=l(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=l(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=l(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),dn(e),Zt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ct(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&ct(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Pt({eb:n})):new Bt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Bt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?me(this.o):me(Ne),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(jt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Bt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),A(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),lt(n=ot(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,je(i,n,null)):je(i,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Ze(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=xe(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Jt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Wt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.G&&Yt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Gi=$i.createWebChannelTransport=function(){return new mn},qi=$i.getStatEventTarget=function(){return Ee()},zi=$i.Event=we,Vi=$i.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Hi=$i.ErrorCode=Oe,Re.COMPLETE="complete",Ui=$i.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ji=$i.WebChannel=ge,$i.FetchXmlHttpFactory=Pt,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Fi=$i.XhrIo=Bt}).apply("undefined"!==typeof Qi?Qi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ki="@firebase/firestore",Wi="4.7.10";class Ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let Zi="11.5.0";const Yi=new J("@firebase/firestore");function Xi(){return Yi.logLevel}function es(e){if(Yi.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(rs);Yi.debug(`Firestore (${Zi}): ${e}`,...i)}}function ts(e){if(Yi.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(rs);Yi.error(`Firestore (${Zi}): ${e}`,...i)}}function ns(e){if(Yi.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(rs);Yi.warn(`Firestore (${Zi}): ${e}`,...i)}}function rs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function is(){const e=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ts(e),new Error(e)}function ss(e,t){e||is()}function os(e,t){return e}const as={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cs extends C{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ls{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ds{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ji.UNAUTHENTICATED)))}shutdown(){}}class hs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fs{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ss(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new us,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{es("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(es("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new us)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(es("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ss("string"==typeof t.accessToken),new ls(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ss(null===e||"string"==typeof e),new Ji(e)}}class ps{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ms{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ps(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ji.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vs{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ze(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ss(void 0===this.o);const n=e=>{null!=e.error&&es("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,es("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{es("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):es("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new gs(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ss("string"==typeof e.token),this.R=e.token,new gs(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ys(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function bs(){return new TextEncoder}class ws{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ys(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function As(e,t){return e<t?-1:e>t?1:0}function Es(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return As(r,i);{const s=bs(),o=ks(s.encode(_s(e,n)),s.encode(_s(t,n)));return 0!==o?o:As(r,i)}}n+=r>65535?2:1}return As(e.length,t.length)}function _s(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ks(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return As(e[n],t[n]);return As(e.length,t.length)}function Is(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Ss=-62135596800,Ts=1e6;class xs{static now(){return xs.fromMillis(Date.now())}static fromDate(e){return xs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ts);return new xs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new cs(as.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new cs(as.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ss)throw new cs(as.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new cs(as.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ts}_compareTo(e){return this.seconds===e.seconds?As(this.nanoseconds,e.nanoseconds):As(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ss;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cs{static fromTimestamp(e){return new Cs(e)}static min(){return new Cs(new xs(0,0))}static max(){return new Cs(new xs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ps="__name__";class Ns{constructor(e,t,n){void 0===t?t=0:t>e.length&&is(),void 0===n?n=e.length-t:n>e.length-t&&is(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ns.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ns.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return As(e.length,t.length)}static compareSegments(e,t){const n=Ns.isNumericId(e),r=Ns.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ns.extractNumericId(e).compare(Ns.extractNumericId(t)):Es(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Os extends Ns{construct(e,t,n){return new Os(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new cs(as.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Os(e)}static emptyPath(){return new Os([])}}const Rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ds extends Ns{construct(e,t,n){return new Ds(e,t,n)}static isValidIdentifier(e){return Rs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ds.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ps}static keyField(){return new Ds([Ps])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new cs(as.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new cs(as.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new cs(as.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new cs(as.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ds(t)}static emptyPath(){return new Ds([])}}class Ls{constructor(e){this.path=e}static fromPath(e){return new Ls(Os.fromString(e))}static fromName(e){return new Ls(Os.fromString(e).popFirst(5))}static empty(){return new Ls(Os.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Os.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Os.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ls(new Os(e.slice()))}}const Ms=-1;class Bs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Bs.UNKNOWN_ID=-1;function Fs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Cs.fromTimestamp(1e9===r?new xs(n+1,0):new xs(n,r));return new Us(i,Ls.empty(),t)}function js(e){return new Us(e.readTime,e.key,Ms)}class Us{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Us(Cs.min(),Ls.empty(),Ms)}static max(){return new Us(Cs.max(),Ls.empty(),Ms)}}function Hs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ls.comparator(e.documentKey,t.documentKey),0!==n?n:As(e.largestBatchId,t.largestBatchId))}const Vs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qs(e){if(e.code!==as.FAILED_PRECONDITION||e.message!==Vs)throw e;es("LocalStore","Unexpectedly lost primary lease")}class Gs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&is(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gs(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gs?t:Gs.resolve(t)}catch(e){return Gs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gs.reject(t)}static resolve(e){return new Gs(((t,n)=>{t(e)}))}static reject(e){return new Gs(((t,n)=>{n(e)}))}static waitFor(e){return new Gs(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Gs.resolve(!1);for(const n of e)t=t.next((e=>e?Gs.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gs(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gs(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Qs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(e){return"IndexedDbTransactionError"===e.name}class Ks{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ks.ae=-1;const Ws=-1;function Js(e){return null==e}function Zs(e){return 0===e&&1/e==-1/0}function Ys(e){return"number"==typeof e&&Number.isInteger(e)&&!Zs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Xs="\x01";function eo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=no(t)),t=to(e.get(n),t);return no(t)}function to(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Xs:n+="\x01\x11";break;default:n+=t}}return n}function no(e){return e+Xs+"\x01"}const ro="remoteDocuments",io="owner",so="mutationQueues",oo="mutations";const ao="documentMutations",co="remoteDocumentsV14",uo="remoteDocumentGlobal",lo="targets",ho="targetDocuments",fo="targetGlobal",po="collectionParents",mo="clientMetadata",go="bundles",vo="namedQueries",yo="indexConfiguration",bo="indexState",wo="indexEntries",Ao="documentOverlays",Eo="globals",_o=[so,oo,ao,ro,lo,io,fo,ho,mo,uo,po,go,vo],ko=[so,oo,ao,co,lo,io,fo,ho,mo,uo,po,go,vo,Ao],Io=ko,So=[...Io,yo,bo,wo];function To(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Co(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Po{constructor(e,t){this.comparator=e,this.root=t||Oo.EMPTY}insert(e,t){return new Po(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oo.BLACK,null,null))}remove(e){return new Po(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Oo.RED,this.left=null!=r?r:Oo.EMPTY,this.right=null!=i?i:Oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Oo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Oo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw is();if(this.right.isRed())throw is();const e=this.left.check();if(e!==this.right.check())throw is();return e+(this.isRed()?0:1)}}Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1,Oo.EMPTY=new class{constructor(){this.size=0}get key(){throw is()}get value(){throw is()}get color(){throw is()}get left(){throw is()}get right(){throw is()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Oo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ro{constructor(e){this.comparator=e,this.data=new Po(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Do(this.data.getIterator())}getIteratorFrom(e){return new Do(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ro))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ro(this.comparator);return t.data=e,t}}class Do{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Lo{constructor(e){this.fields=e,e.sort(Ds.comparator)}static empty(){return new Lo([])}unionWith(e){let t=new Ro(Ds.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Mo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Mo("Invalid base64 string: "+e):e}}(e);return new Bo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return As(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bo.EMPTY_BYTE_STRING=new Bo("");const Fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(e){if(ss(!!e),"string"==typeof e){let t=0;const n=Fo.exec(e);if(ss(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uo(e.seconds),nanos:Uo(e.nanos)}}function Uo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ho(e){return"string"==typeof e?Bo.fromBase64String(e):Bo.fromUint8Array(e)}const Vo="server_timestamp",zo="__type__",qo="__previous_value__",Go="__local_write_time__";function Qo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zo])||void 0===n?void 0:n.stringValue)===Vo}function $o(e){const t=e.mapValue.fields[qo];return Qo(t)?$o(t):t}function Ko(e){const t=jo(e.mapValue.fields[Go].timestampValue);return new xs(t.seconds,t.nanos)}class Wo{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}const Jo="(default)";class Zo{constructor(e,t){this.projectId=e,this.database=t||Jo}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===Jo}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}const Yo="__type__",Xo="__max__",ea={mapValue:{fields:{__type__:{stringValue:Xo}}}},ta="__vector__",na="value";function ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qo(e)?4:wa(e)?9007199254740991:ya(e)?10:11:is()}function ia(e,t){if(e===t)return!0;const n=ra(e);if(n!==ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ko(e).isEqual(Ko(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=jo(e.timestampValue),r=jo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ho(e.bytesValue).isEqual(Ho(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uo(e.geoPointValue.latitude)===Uo(t.geoPointValue.latitude)&&Uo(e.geoPointValue.longitude)===Uo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uo(e.integerValue)===Uo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uo(e.doubleValue),r=Uo(t.doubleValue);return n===r?Zs(n)===Zs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Is(e.arrayValue.values||[],t.arrayValue.values||[],ia);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(To(n)!==To(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ia(n[i],r[i])))return!1;return!0}(e,t);default:return is()}}function sa(e,t){return void 0!==(e.values||[]).find((e=>ia(e,t)))}function oa(e,t){if(e===t)return 0;const n=ra(e),r=ra(t);if(n!==r)return As(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return As(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uo(e.integerValue||e.doubleValue),r=Uo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return aa(e.timestampValue,t.timestampValue);case 4:return aa(Ko(e),Ko(t));case 5:return Es(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ho(e),r=Ho(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=As(n[i],r[i]);if(0!==e)return e}return As(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=As(Uo(e.latitude),Uo(t.latitude));return 0!==n?n:As(Uo(e.longitude),Uo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ca(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},c=null===(n=o[na])||void 0===n?void 0:n.arrayValue,u=null===(r=a[na])||void 0===r?void 0:r.arrayValue,l=As((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==l?l:ca(c,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ea.mapValue&&t===ea.mapValue)return 0;if(e===ea.mapValue)return 1;if(t===ea.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Es(r[o],s[o]);if(0!==e)return e;const t=oa(n[r[o]],i[s[o]]);if(0!==t)return t}return As(r.length,s.length)}(e.mapValue,t.mapValue);default:throw is()}}function aa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return As(e,t);const n=jo(e),r=jo(t),i=As(n.seconds,r.seconds);return 0!==i?i:As(n.nanos,r.nanos)}function ca(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=oa(n[i],r[i]);if(e)return e}return As(n.length,r.length)}function ua(e){return la(e)}function la(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=jo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ho(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ls.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=la(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${la(e.fields[i])}`;return n+"}"}(e.mapValue):is()}function da(e){switch(ra(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$o(e);return t?16+da(t):16;case 5:return 2*e.stringValue.length;case 6:return Ho(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+da(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return xo(e.fields,((e,n)=>{t+=e.length+da(n)})),t}(e.mapValue);default:throw is()}}function ha(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function fa(e){return!!e&&"integerValue"in e}function pa(e){return!!e&&"arrayValue"in e}function ma(e){return!!e&&"nullValue"in e}function ga(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function va(e){return!!e&&"mapValue"in e}function ya(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Yo])||void 0===n?void 0:n.stringValue)===ta}function ba(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ba(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ba(e.arrayValue.values[n]);return t}return Object.assign({},e)}function wa(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Xo}class Aa{constructor(e){this.value=e}static empty(){return new Aa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!va(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ba(t)}setAll(e){let t=Ds.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ba(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());va(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];va(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Aa(ba(this.value))}}function Ea(e){const t=[];return xo(e.fields,((e,n)=>{const r=new Ds([e]);if(va(n)){const e=Ea(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Lo(t)}class _a{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new _a(e,0,Cs.min(),Cs.min(),Cs.min(),Aa.empty(),0)}static newFoundDocument(e,t,n,r){return new _a(e,1,t,Cs.min(),n,r,0)}static newNoDocument(e,t){return new _a(e,2,t,Cs.min(),Cs.min(),Aa.empty(),0)}static newUnknownDocument(e,t){return new _a(e,3,t,Cs.min(),Cs.min(),Aa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Aa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _a&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,t){this.position=e,this.inclusive=t}}function Ia(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ls.comparator(Ls.fromName(o.referenceValue),n.key):oa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Sa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ia(e.position[n],t.position[n]))return!1;return!0}class Ta{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function xa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ca{}class Pa extends Ca{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Fa(e,t,n):"array-contains"===t?new Va(e,n):"in"===t?new za(e,n):"not-in"===t?new qa(e,n):"array-contains-any"===t?new Ga(e,n):new Pa(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ja(e,n):new Ua(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oa(t,this.value)):null!==t&&ra(this.value)===ra(t)&&this.matchesComparison(oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return is()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends Ca{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Na(e,t)}matches(e){return Oa(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Oa(e){return"and"===e.op}function Ra(e){return Da(e)&&Oa(e)}function Da(e){for(const t of e.filters)if(t instanceof Na)return!1;return!0}function La(e){if(e instanceof Pa)return e.field.canonicalString()+e.op.toString()+ua(e.value);if(Ra(e))return e.filters.map((e=>La(e))).join(",");{const t=e.filters.map((e=>La(e))).join(",");return`${e.op}(${t})`}}function Ma(e,t){return e instanceof Pa?function(e,t){return t instanceof Pa&&e.op===t.op&&e.field.isEqual(t.field)&&ia(e.value,t.value)}(e,t):e instanceof Na?function(e,t){return t instanceof Na&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ma(n,t.filters[r])),!0)}(e,t):void is()}function Ba(e){return e instanceof Pa?function(e){return`${e.field.canonicalString()} ${e.op} ${ua(e.value)}`}(e):e instanceof Na?function(e){return e.op.toString()+" {"+e.getFilters().map(Ba).join(" ,")+"}"}(e):"Filter"}class Fa extends Pa{constructor(e,t,n){super(e,t,n),this.key=Ls.fromName(n.referenceValue)}matches(e){const t=Ls.comparator(e.key,this.key);return this.matchesComparison(t)}}class ja extends Pa{constructor(e,t){super(e,"in",t),this.keys=Ha("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ua extends Pa{constructor(e,t){super(e,"not-in",t),this.keys=Ha("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ha(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ls.fromName(e.referenceValue)))}class Va extends Pa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pa(t)&&sa(t.arrayValue,this.value)}}class za extends Pa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sa(this.value.arrayValue,t)}}class qa extends Pa{constructor(e,t){super(e,"not-in",t)}matches(e){if(sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sa(this.value.arrayValue,t)}}class Ga extends Pa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pa(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>sa(this.value.arrayValue,e)))}}class Qa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.le=null}}function $a(e){return new Qa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ka(e){const t=os(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>La(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Js(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ua(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ua(e))).join(",")),t.le=e}return t.le}function Wa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ma(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sa(e.startAt,t.startAt)&&Sa(e.endAt,t.endAt)}function Ja(e){return Ls.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Za{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ya(e,t,n,r,i,s,o,a){return new Za(e,t,n,r,i,s,o,a)}function Xa(e){return new Za(e)}function ec(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function tc(e){return null!==e.collectionGroup}function nc(e){const t=os(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ro(Ds.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Ta(r,n))})),e.has(Ds.keyField().canonicalString())||t.he.push(new Ta(Ds.keyField(),n))}return t.he}function rc(e){const t=os(e);return t.Pe||(t.Pe=ic(t,nc(e))),t.Pe}function ic(e,t){if("F"===e.limitType)return $a(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ta(e.field,t)}));const n=e.endAt?new ka(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ka(e.startAt.position,e.startAt.inclusive):null;return $a(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function sc(e,t){const n=e.filters.concat([t]);return new Za(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oc(e,t,n){return new Za(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ac(e,t){return Wa(rc(e),rc(t))&&e.limitType===t.limitType}function cc(e){return`${Ka(rc(e))}|lt:${e.limitType}`}function uc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ba(e))).join(", ")}]`),Js(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ua(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ua(e))).join(",")),`Target(${t})`}(rc(e))}; limitType=${e.limitType})`}function lc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ls.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of nc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ia(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ia(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nc(e),t))}(e,t)}function dc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hc(e){return(t,n)=>{let r=!1;for(const i of nc(e)){const e=fc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function fc(e,t,n){const r=e.field.isKeyField()?Ls.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oa(r,i):is()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return is()}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Co(this.inner)}size(){return this.innerSize}}const mc=new Po(Ls.comparator);function gc(){return mc}const vc=new Po(Ls.comparator);function yc(){let e=vc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function bc(e){let t=vc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function wc(){return Ec()}function Ac(){return Ec()}function Ec(){return new pc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _c=new Po(Ls.comparator),kc=new Ro(Ls.comparator);function Ic(){let e=kc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Sc=new Ro(As);function Tc(){return Sc}function xc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zs(t)?"-0":t}}function Cc(e){return{integerValue:""+e}}function Pc(e,t){return Ys(t)?Cc(t):xc(e,t)}class Nc{constructor(){this._=void 0}}function Oc(e,t,n){return e instanceof Lc?function(e,t){const n={fields:{[zo]:{stringValue:Vo},[Go]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qo(t)&&(t=$o(t)),t&&(n.fields[qo]=t),{mapValue:n}}(n,t):e instanceof Mc?Bc(e,t):e instanceof Fc?jc(e,t):function(e,t){const n=Dc(e,t),r=Hc(n)+Hc(e.Ie);return fa(n)&&fa(e.Ie)?Cc(r):xc(e.serializer,r)}(e,t)}function Rc(e,t,n){return e instanceof Mc?Bc(e,t):e instanceof Fc?jc(e,t):n}function Dc(e,t){return e instanceof Uc?function(e){return fa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Lc extends Nc{}class Mc extends Nc{constructor(e){super(),this.elements=e}}function Bc(e,t){const n=Vc(t);for(const r of e.elements)n.some((e=>ia(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Fc extends Nc{constructor(e){super(),this.elements=e}}function jc(e,t){let n=Vc(t);for(const r of e.elements)n=n.filter((e=>!ia(e,r)));return{arrayValue:{values:n}}}class Uc extends Nc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Hc(e){return Uo(e.integerValue||e.doubleValue)}function Vc(e){return pa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class zc{constructor(e,t){this.version=e,this.transformResults=t}}class qc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qc}static exists(e){return new qc(void 0,e)}static updateTime(e){return new qc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Qc{}function $c(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ru(e.key,qc.none()):new Yc(e.key,e.data,qc.none());{const n=e.data,r=Aa.empty();let i=new Ro(Ds.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Xc(e.key,r,new Lo(i.toArray()),qc.none())}}function Kc(e,t,n){e instanceof Yc?function(e,t,n){const r=e.value.clone(),i=tu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xc?function(e,t,n){if(!Gc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=tu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(eu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wc(e,t,n,r){return e instanceof Yc?function(e,t,n,r){if(!Gc(e.precondition,t))return n;const i=e.value.clone(),s=nu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xc?function(e,t,n,r){if(!Gc(e.precondition,t))return n;const i=nu(e.fieldTransforms,r,t),s=t.data;return s.setAll(eu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Gc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Jc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Dc(r.transform,e||null);null!=i&&(null===n&&(n=Aa.empty()),n.set(r.field,i))}return n||null}function Zc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Is(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mc&&t instanceof Mc||e instanceof Fc&&t instanceof Fc?Is(e.elements,t.elements,ia):e instanceof Uc&&t instanceof Uc?ia(e.Ie,t.Ie):e instanceof Lc&&t instanceof Lc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Yc extends Qc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xc extends Qc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function eu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function tu(e,t,n){const r=new Map;ss(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Rc(o,a,n[i]))}return r}function nu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Oc(e,s,t))}return r}class ru extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iu extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class su{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Kc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Wc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Wc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ac();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=$c(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Cs.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ic())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,((e,t)=>Zc(e,t)))&&Is(this.baseMutations,e.baseMutations,((e,t)=>Zc(e,t)))}}class ou{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ss(e.mutations.length===n.length);let r=_c;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ou(e,t,n,r)}}class au{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cu{constructor(e,t){this.count=e,this.unchangedNames=t}}var uu,lu;function du(e){switch(e){case as.OK:return is();case as.CANCELLED:case as.UNKNOWN:case as.DEADLINE_EXCEEDED:case as.RESOURCE_EXHAUSTED:case as.INTERNAL:case as.UNAVAILABLE:case as.UNAUTHENTICATED:return!1;case as.INVALID_ARGUMENT:case as.NOT_FOUND:case as.ALREADY_EXISTS:case as.PERMISSION_DENIED:case as.FAILED_PRECONDITION:case as.ABORTED:case as.OUT_OF_RANGE:case as.UNIMPLEMENTED:case as.DATA_LOSS:return!0;default:return is()}}function hu(e){if(void 0===e)return ts("GRPC error has no .code"),as.UNKNOWN;switch(e){case uu.OK:return as.OK;case uu.CANCELLED:return as.CANCELLED;case uu.UNKNOWN:return as.UNKNOWN;case uu.DEADLINE_EXCEEDED:return as.DEADLINE_EXCEEDED;case uu.RESOURCE_EXHAUSTED:return as.RESOURCE_EXHAUSTED;case uu.INTERNAL:return as.INTERNAL;case uu.UNAVAILABLE:return as.UNAVAILABLE;case uu.UNAUTHENTICATED:return as.UNAUTHENTICATED;case uu.INVALID_ARGUMENT:return as.INVALID_ARGUMENT;case uu.NOT_FOUND:return as.NOT_FOUND;case uu.ALREADY_EXISTS:return as.ALREADY_EXISTS;case uu.PERMISSION_DENIED:return as.PERMISSION_DENIED;case uu.FAILED_PRECONDITION:return as.FAILED_PRECONDITION;case uu.ABORTED:return as.ABORTED;case uu.OUT_OF_RANGE:return as.OUT_OF_RANGE;case uu.UNIMPLEMENTED:return as.UNIMPLEMENTED;case uu.DATA_LOSS:return as.DATA_LOSS;default:return is()}}(lu=uu||(uu={}))[lu.OK=0]="OK",lu[lu.CANCELLED=1]="CANCELLED",lu[lu.UNKNOWN=2]="UNKNOWN",lu[lu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lu[lu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lu[lu.NOT_FOUND=5]="NOT_FOUND",lu[lu.ALREADY_EXISTS=6]="ALREADY_EXISTS",lu[lu.PERMISSION_DENIED=7]="PERMISSION_DENIED",lu[lu.UNAUTHENTICATED=16]="UNAUTHENTICATED",lu[lu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lu[lu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lu[lu.ABORTED=10]="ABORTED",lu[lu.OUT_OF_RANGE=11]="OUT_OF_RANGE",lu[lu.UNIMPLEMENTED=12]="UNIMPLEMENTED",lu[lu.INTERNAL=13]="INTERNAL",lu[lu.UNAVAILABLE=14]="UNAVAILABLE",lu[lu.DATA_LOSS=15]="DATA_LOSS";let fu=null;const pu=new Di([4294967295,4294967295],0);function mu(e){const t=bs().encode(e),n=new Li;return n.update(t),new Uint8Array(n.digest())}function gu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Di([n,r],0),new Di([i,s],0)]}class vu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(n<0)throw new yu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new yu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Di.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Di.fromNumber(n)));return 1===r.compare(pu)&&(r=new Di([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=mu(e),[n,r]=gu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new vu(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=mu(e),[n,r]=gu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new bu(Cs.min(),r,new Po(As),gc(),Ic())}}class wu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new wu(n,t,Ic(),Ic(),Ic())}}class Au{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Eu{constructor(e,t){this.targetId=e,this.ge=t}}class _u{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ku{constructor(){this.pe=0,this.ye=Tu(),this.we=Bo.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ic(),t=Ic(),n=Ic();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:is()}})),new wu(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Tu()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ss(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Iu{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gc(),this.$e=Su(),this.Ue=Su(),this.Ke=new Po(As)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:is()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Ja(i))if(0===n){const e=new Ls(i.path);this.ze(t,e,_a.newNoDocument(e,Cs.min()))}else ss(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==fu||fu.rt(function(e,t,n,r,i){var s,o,a,c,u,l;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(l=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Ho(n).toUint8Array()}catch(e){if(e instanceof Mo)return ns("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new vu(s,r,i)}catch(e){return ns(e instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ee?null:o}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Ja(i.target)){const t=new Ls(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,_a.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Ic();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new bu(e,t,this.Ke,this.Qe,n);return this.Qe=gc(),this.$e=Su(),this.Ue=Su(),this.Ke=new Po(As),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ku,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ro(As),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ro(As),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||es("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ku),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Su(){return new Po(Ls.comparator)}function Tu(){return new Po(Ls.comparator)}const xu={asc:"ASCENDING",desc:"DESCENDING"},Cu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pu={and:"AND",or:"OR"};class Nu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ou(e,t){return e.useProto3Json||Js(t)?t:{value:t}}function Ru(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Du(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Lu(e,t){return Ru(e,t.toTimestamp())}function Mu(e){return ss(!!e),Cs.fromTimestamp(function(e){const t=jo(e);return new xs(t.seconds,t.nanos)}(e))}function Bu(e,t){return Fu(e,t).canonicalString()}function Fu(e,t){const n=function(e){return new Os(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ju(e){const t=Os.fromString(e);return ss(sl(t)),t}function Uu(e,t){return Bu(e.databaseId,t.path)}function Hu(e,t){const n=ju(t);if(n.get(1)!==e.databaseId.projectId)throw new cs(as.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new cs(as.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ls(Gu(n))}function Vu(e,t){return Bu(e.databaseId,t)}function zu(e){const t=ju(e);return 4===t.length?Os.emptyPath():Gu(t)}function qu(e){return new Os(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gu(e){return ss(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qu(e,t,n){return{name:Uu(e,t),fields:n.value.mapValue.fields}}function $u(e,t){let n;if(t instanceof Yc)n={update:Qu(e,t.key,t.value)};else if(t instanceof ru)n={delete:Uu(e,t.key)};else if(t instanceof Xc)n={update:Qu(e,t.key,t.data),updateMask:il(t.fieldMask)};else{if(!(t instanceof iu))return is();n={verify:Uu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Lc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw is()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:is()}(e,t.precondition)),n}function Ku(e,t){return{documents:[Vu(e,t.path)]}}function Wu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vu(e,i);const s=function(e){if(0!==e.length)return rl(Na.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:tl(e.field),direction:Yu(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ou(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Ju(e){let t=zu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ss(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Zu(e);return t instanceof Na&&Ra(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Ta(nl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Js(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new ka(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new ka(n,t)}(n.endAt)),Ya(t,i,o,s,a,"F",c,u)}function Zu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nl(e.unaryFilter.field);return Pa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nl(e.unaryFilter.field);return Pa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nl(e.unaryFilter.field);return Pa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nl(e.unaryFilter.field);return Pa.create(i,"!=",{nullValue:"NULL_VALUE"});default:return is()}}(e):void 0!==e.fieldFilter?function(e){return Pa.create(nl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return is()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Na.create(e.compositeFilter.filters.map((e=>Zu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return is()}}(e.compositeFilter.op))}(e):is()}function Yu(e){return xu[e]}function Xu(e){return Cu[e]}function el(e){return Pu[e]}function tl(e){return{fieldPath:e.canonicalString()}}function nl(e){return Ds.fromServerFormat(e.fieldPath)}function rl(e){return e instanceof Pa?function(e){if("=="===e.op){if(ga(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NAN"}};if(ma(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ga(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NAN"}};if(ma(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(e.field),op:Xu(e.op),value:e.value}}}(e):e instanceof Na?function(e){const t=e.getFilters().map((e=>rl(e)));return 1===t.length?t[0]:{compositeFilter:{op:el(e.op),filters:t}}}(e):is()}function il(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function sl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ol{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cs.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cs.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bo.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ol(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class al{constructor(e){this.Tt=e}}function cl(e){const t=Ju({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oc(t,t.limit,"L"):t}class ul{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Uo(e.integerValue));else if("doubleValue"in e){const n=Uo(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Zs(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=jo(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ho(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?wa(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ya(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):is()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=na,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Uo(o)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Ls.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}ul.xt=new ul;class ll{constructor(){this.Tn=new dl}addToCollectionParentIndex(e,t){return this.Tn.add(t),Gs.resolve()}getCollectionParents(e,t){return Gs.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Gs.resolve()}deleteFieldIndex(e,t){return Gs.resolve()}deleteAllFieldIndexes(e){return Gs.resolve()}createTargetIndexes(e,t){return Gs.resolve()}getDocumentsMatchingTarget(e,t){return Gs.resolve(null)}getIndexType(e,t){return Gs.resolve(0)}getFieldIndexes(e,t){return Gs.resolve([])}getNextCollectionGroupToUpdate(e){return Gs.resolve(null)}getMinOffset(e,t){return Gs.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return Gs.resolve(Us.min())}updateCollectionGroup(e,t,n){return Gs.resolve()}updateIndexEntries(e,t){return Gs.resolve()}}class dl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ro(Os.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ro(Os.comparator)).toArray()}}new Uint8Array(0);const hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fl=41943040;class pl{static withCacheSize(e){return new pl(e,pl.DEFAULT_COLLECTION_PERCENTILE,pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}pl.DEFAULT_COLLECTION_PERCENTILE=10,pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pl.DEFAULT=new pl(fl,pl.DEFAULT_COLLECTION_PERCENTILE,pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pl.DISABLED=new pl(-1,0,0);class ml{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ml(0)}static Kn(){return new ml(-1)}}const gl="LruGarbageCollector",vl=1048576;function yl(e,t){let[n,r]=e,[i,s]=t;const o=As(n,i);return 0===o?As(r,s):o}class bl{constructor(e){this.Hn=e,this.buffer=new Ro(yl),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();yl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){es(gl,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$s(e)?es(gl,"Ignoring IndexedDB error during garbage collection: ",e):await qs(e)}await this.er(3e5)}))}}class Al{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Gs.resolve(Ks.ae);const n=new bl(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(es("LruGarbageCollector","Garbage collection skipped; disabled"),Gs.resolve(hl)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(es("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hl):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,o,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(es("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Xi()<=G.DEBUG&&es("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-u}ms`),Gs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function El(e,t){return new Al(e,t)}class _l{constructor(){this.changes=new pc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_a.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Il{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Wc(n.mutation,e,Lo.empty(),xs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ic()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ic();const r=wc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=yc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=wc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ic())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=gc();const s=Ec(),o=Ec();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Xc)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Wc(o.mutation,t,o.mutation.getFieldMask(),xs.now())):s.set(t.key,Lo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new kl(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Ec();let r=new Po(((e,t)=>e-t)),i=Ic();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Lo.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Ic()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=Ac();c.forEach((e=>{if(!i.has(e)){const r=$c(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Gs.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ls.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gs.resolve(wc());let o=Ms,a=i;return s.next((t=>Gs.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Gs.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ic()))).next((e=>({batchId:o,changes:bc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ls(t)).next((e=>{let t=yc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=yc();return this.indexManager.getCollectionParents(e,i).next((o=>Gs.forEach(o,(o=>{const a=function(e,t){return new Za(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_a.newInvalidDocument(r)))}));let n=yc();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Wc(s.mutation,r,Lo.empty(),xs.now()),lc(t,r)&&(n=n.insert(e,r))})),n}))}}class Sl{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Gs.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Mu(e.createTime)}}(t)),Gs.resolve()}getNamedQuery(e,t){return Gs.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:cl(e.bundledQuery),readTime:Mu(e.readTime)}}(t)),Gs.resolve()}}class Tl{constructor(){this.overlays=new Po(Ls.comparator),this.Rr=new Map}getOverlay(e,t){return Gs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wc();return Gs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Gs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Gs.resolve()}getOverlaysForCollection(e,t,n){const r=wc(),i=t.length+1,s=new Ls(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Po(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=wc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=wc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Gs.resolve(o)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new au(t,n));let i=this.Rr.get(t);void 0===i&&(i=Ic(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class xl{constructor(){this.sessionToken=Bo.EMPTY_BYTE_STRING}getSessionToken(e){return Gs.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Gs.resolve()}}class Cl{constructor(){this.Vr=new Ro(Pl.mr),this.gr=new Ro(Pl.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Pl(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Pl(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new Ls(new Os([])),n=new Pl(t,e),r=new Pl(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ls(new Os([])),n=new Pl(t,e),r=new Pl(t,e+1);let i=Ic();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Pl(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Pl{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ls.comparator(e.key,t.key)||As(e.Cr,t.Cr)}static pr(e,t){return As(e.Cr,t.Cr)||Ls.comparator(e.key,t.key)}}class Nl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ro(Pl.mr)}checkEmpty(e){return Gs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new su(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Mr=this.Mr.add(new Pl(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Gs.resolve(s)}lookupMutationBatch(e,t){return Gs.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Gs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gs.resolve(0===this.mutationQueue.length?Ws:this.Fr-1)}getAllMutationBatches(e){return Gs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pl(t,0),r=new Pl(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Gs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ro(As);return t.forEach((e=>{const t=new Pl(e,0),r=new Pl(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Gs.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ls.isDocumentKey(i)||(i=i.child(""));const s=new Pl(new Ls(i),0);let o=new Ro(As);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Cr)),!0)}),s),Gs.resolve(this.Br(o))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ss(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Gs.forEach(t.mutations,(r=>{const i=new Pl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Pl(t,0),r=this.Mr.firstAfterOrEqual(n);return Gs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gs.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ol{constructor(e){this.kr=e,this.docs=new Po(Ls.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gs.resolve(n?n.document.mutableCopy():_a.newInvalidDocument(t))}getEntries(e,t){let n=gc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_a.newInvalidDocument(e))})),Gs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=gc();const s=t.path,o=new Ls(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Hs(js(o),n)<=0||(r.has(o.key)||lc(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Gs.resolve(i)}getAllFromCollectionGroup(e,t,n,r){is()}qr(e,t){return Gs.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Rl(this)}getSize(e){return Gs.resolve(this.size)}}class Rl extends _l{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Gs.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Dl{constructor(e){this.persistence=e,this.Qr=new pc((e=>Ka(e)),Wa),this.lastRemoteSnapshotVersion=Cs.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Cl,this.targetCount=0,this.Kr=ml.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Gs.resolve()}getLastRemoteSnapshotVersion(e){return Gs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gs.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Gs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Gs.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Gs.resolve()}updateTargetData(e,t){return this.zn(t),Gs.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Gs.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Gs.waitFor(i).next((()=>r))}getTargetCount(e){return Gs.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Gs.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Gs.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gs.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Gs.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Gs.resolve(n)}containsKey(e,t){return Gs.resolve(this.Ur.containsKey(t))}}class Ll{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ks(0),this.zr=!1,this.zr=!0,this.jr=new xl,this.referenceDelegate=e(this),this.Hr=new Dl(this),this.indexManager=new ll,this.remoteDocumentCache=function(e){return new Ol(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new al(t),this.Yr=new Sl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Nl(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){es("MemoryPersistence","Starting transaction:",e);const r=new Ml(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Gs.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Ml extends zs{constructor(e){super(),this.currentSequenceNumber=e}}class Bl{constructor(e){this.persistence=e,this.ti=new Cl,this.ni=null}static ri(e){return new Bl(e)}get ii(){if(this.ni)return this.ni;throw is()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Gs.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Gs.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Gs.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gs.forEach(this.ii,(n=>{const r=Ls.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Cs.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Gs.or([()=>Gs.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Fl{constructor(e,t){this.persistence=e,this.oi=new pc((e=>eo(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=El(this,t)}static ri(e,t){return new Fl(e,t)}Zr(){}Xr(e){return Gs.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Gs.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Gs.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Cs.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Gs.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Gs.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Gs.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Gs.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=da(e.data.value)),t}ar(e,t,n){return Gs.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Gs.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Ic(),r=Ic();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new jl(e,t.fromCache,n,r)}}class Ul{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hl{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=T()?8:Qs(S())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ul;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Xi()<=G.DEBUG&&es("QueryEngine","SDK will not create cache indexes for query:",uc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Gs.resolve()):(Xi()<=G.DEBUG&&es("QueryEngine","Query:",uc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Xi()<=G.DEBUG&&es("QueryEngine","The SDK decides to create cache indexes for query:",uc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rc(t))):Gs.resolve())}rs(e,t){if(ec(t))return Gs.resolve(null);let n=rc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=oc(t,null,"F"),n=rc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ic(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,oc(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return ec(t)||r.isEqual(Cs.min())?Gs.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?Gs.resolve(null):(Xi()<=G.DEBUG&&es("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uc(t)),this.hs(e,s,t,Fs(r,Ms)).next((e=>e)))}))}cs(e,t){let n=new Ro(hc(e));return t.forEach(((t,r)=>{lc(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Xi()<=G.DEBUG&&es("QueryEngine","Using full collection scan to execute query:",uc(t)),this.ns.getDocumentsMatchingQuery(e,t,Us.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Vl="LocalStore";class zl{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Po(As),this.Is=new pc((e=>Ka(e)),Wa),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Il(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function ql(e,t,n,r){return new zl(e,t,n,r)}async function Gl(e,t){const n=os(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Ic();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ql(e){const t=os(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function $l(e,t,n){let r=Ic(),i=Ic();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=gc();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Cs.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):es(Vl,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function Kl(e,t){const n=os(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Ws),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Wl(e,t){const n=os(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Gs.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new ol(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Jl(e,t,n){const r=os(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!$s(e))throw e;es(Vl,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Zl(e,t,n){const r=os(e);let i=Cs.min(),s=Ic();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=os(e),i=r.Is.get(n);return void 0!==i?Gs.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,rc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Cs.min(),n?s:Ic()))).next((e=>(Yl(r,dc(t),e),{documents:e,gs:s})))))}function Yl(e,t,n){let r=e.Es.get(t)||Cs.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Xl{constructor(){this.activeTargetIds=Tc()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ed{constructor(){this.ho=new Xl,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Xl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class td{To(e){}shutdown(){}}const nd="ConnectivityMonitor";class rd{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){es(nd,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){es(nd,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let id=null;function sd(){return null===id?id=268435456+Math.round(2147483648*Math.random()):id++,"0x"+id.toString(16)}const od="RestConnection",ad={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cd{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Jo?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=sd(),o=this.bo(e,t.toUriEncodedString());es(od,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(e,o,a,n).then((t=>(es(od,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw ns(od,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=ad[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class ud{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const ld="WebChannelConnection";class dd extends cd{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=sd();return new Promise(((s,o)=>{const a=new Fi;a.setWithCredentials(!0),a.listenOnce(Ui.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Hi.NO_ERROR:const t=a.getResponseJson();es(ld,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Hi.TIMEOUT:es(ld,`RPC '${e}' ${i} timed out`),o(new cs(as.DEADLINE_EXCEEDED,"Request time out"));break;case Hi.HTTP_ERROR:const n=a.getStatus();if(es(ld,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(as).indexOf(t)>=0?t:as.UNKNOWN}(t.status);o(new cs(e,t.message))}else o(new cs(as.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new cs(as.UNAVAILABLE,"Connection failed."));break;default:is()}}finally{es(ld,`RPC '${e}' ${i} completed.`)}}));const c=JSON.stringify(r);es(ld,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",c,n,15)}))}Wo(e,t,n){const r=sd(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gi(),o=qi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");es(ld,`Creating RPC '${e}' stream ${r}: ${u}`,a);const l=s.createWebChannel(u,a);let d=!1,h=!1;const f=new ud({Fo:t=>{h?es(ld,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(es(ld,`Opening RPC '${e}' stream ${r} transport.`),l.open(),d=!0),es(ld,`RPC '${e}' stream ${r} sending:`,t),l.send(t))},Mo:()=>l.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(l,ji.EventType.OPEN,(()=>{h||(es(ld,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(l,ji.EventType.CLOSE,(()=>{h||(h=!0,es(ld,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(l,ji.EventType.ERROR,(t=>{h||(h=!0,ns(ld,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new cs(as.UNAVAILABLE,"The operation could not be completed")))})),p(l,ji.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ss(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){es(ld,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=uu[e];if(void 0!==t)return hu(t)}(t),i=o.message;void 0===n&&(n=as.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Uo(new cs(n,i)),l.close()}else es(ld,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),p(o,zi.STAT_EVENT,(t=>{t.stat===Vi.PROXY?es(ld,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Vi.NOPROXY&&es(ld,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function hd(){return"undefined"!=typeof document?document:null}function fd(e){return new Nu(e,!0)}class pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&es("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const md="PersistentStream";class gd{constructor(e,t,n,r,i,s,o,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pd(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===as.RESOURCE_EXHAUSTED?(ts(t.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===as.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new cs(as.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return es(md,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(es(md,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vd extends gd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:is()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ss(void 0===t||"string"==typeof t),Bo.fromBase64String(t||"")):(ss(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Bo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?as.UNKNOWN:hu(e.code);return new cs(t,e.message||"")}(o);n=new _u(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hu(e,r.document.name),s=Mu(r.document.updateTime),o=r.document.createTime?Mu(r.document.createTime):Cs.min(),a=new Aa({mapValue:{fields:r.document.fields}}),c=_a.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Au(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hu(e,r.document),s=r.readTime?Mu(r.readTime):Cs.min(),o=_a.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Au([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hu(e,r.document),s=r.removedTargetIds||[];n=new Au([],s,i,null)}else{if(!("filter"in t))return is();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new cu(r,i),o=e.targetId;n=new Eu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Cs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Cs.min():t.readTime?Mu(t.readTime):Cs.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=qu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ja(r)?{documents:Ku(e,r)}:{query:Wu(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Du(e,t.resumeToken);const r=Ou(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Cs.min())>0){n.readTime=Ru(e,t.snapshotVersion.toTimestamp());const r=Ou(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return is()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=qu(this.serializer),t.removeTarget=e,this.I_(t)}}class yd extends gd{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ss(!!e.streamToken),this.lastStreamToken=e.streamToken,ss(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ss(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(ss(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Mu(e.updateTime):Mu(t);return n.isEqual(Cs.min())&&(n=Mu(t)),new zc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Mu(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=qu(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$u(this.serializer,e)))};this.I_(t)}}class bd{}class wd extends bd{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new cs(as.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,Fu(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===as.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new cs(as.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Co(e,Fu(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===as.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new cs(as.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Ad{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ts(t),this.N_=!1):es("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Ed="RemoteStore";class _d{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Od(this)&&(es(Ed,"Restarting streams for network reachability change."),await async function(e){const t=os(e);t.W_.add(4),await Id(t),t.j_.set("Unknown"),t.W_.delete(4),await kd(t)}(this))}))})),this.j_=new Ad(n,r)}}async function kd(e){if(Od(e))for(const t of e.G_)await t(!0)}async function Id(e){for(const t of e.G_)await t(!1)}function Sd(e,t){const n=os(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Nd(n)?Pd(n):Zd(n).c_()&&xd(n,t))}function Td(e,t){const n=os(e),r=Zd(n);n.K_.delete(t),r.c_()&&Cd(n,t),0===n.K_.size&&(r.c_()?r.P_():Od(n)&&n.j_.set("Unknown"))}function xd(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Cs.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Zd(e).y_(t)}function Cd(e,t){e.H_.Ne(t),Zd(e).w_(t)}function Pd(e){e.H_=new Iu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Zd(e).start(),e.j_.B_()}function Nd(e){return Od(e)&&!Zd(e).u_()&&e.K_.size>0}function Od(e){return 0===os(e).W_.size}function Rd(e){e.H_=void 0}async function Dd(e){e.j_.set("Online")}async function Ld(e){e.K_.forEach(((t,n)=>{xd(e,t)}))}async function Md(e,t){Rd(e),Nd(e)?(e.j_.q_(t),Pd(e)):e.j_.set("Unknown")}async function Bd(e,t,n){if(e.j_.set("Online"),t instanceof _u&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){es(Ed,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fd(e,n)}else if(t instanceof Au?e.H_.We(t):t instanceof Eu?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Cs.min()))try{const t=await Ql(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Bo.EMPTY_BYTE_STRING,r.snapshotVersion)),Cd(e,t);const i=new ol(r.target,t,n,r.sequenceNumber);xd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){es(Ed,"Failed to raise snapshot:",t),await Fd(e,t)}}async function Fd(e,t,n){if(!$s(t))throw t;e.W_.add(1),await Id(e),e.j_.set("Offline"),n||(n=()=>Ql(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{es(Ed,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await kd(e)}))}function jd(e,t){return t().catch((n=>Fd(e,n,t)))}async function Ud(e){const t=os(e),n=Yd(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Ws;for(;Hd(t);)try{const e=await Kl(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Vd(t,e)}catch(e){await Fd(t,e)}zd(t)&&qd(t)}function Hd(e){return Od(e)&&e.U_.length<10}function Vd(e,t){e.U_.push(t);const n=Yd(e);n.c_()&&n.S_&&n.b_(t.mutations)}function zd(e){return Od(e)&&!Yd(e).u_()&&e.U_.length>0}function qd(e){Yd(e).start()}async function Gd(e){Yd(e).C_()}async function Qd(e){const t=Yd(e);for(const n of e.U_)t.b_(n.mutations)}async function $d(e,t,n){const r=e.U_.shift(),i=ou.from(r,t,n);await jd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ud(e)}async function Kd(e,t){t&&Yd(e).S_&&await async function(e,t){if(function(e){return du(e)&&e!==as.ABORTED}(t.code)){const n=e.U_.shift();Yd(e).h_(),await jd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ud(e)}}(e,t),zd(e)&&qd(e)}async function Wd(e,t){const n=os(e);n.asyncQueue.verifyOperationInProgress(),es(Ed,"RemoteStore received new credentials");const r=Od(n);n.W_.add(3),await Id(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await kd(n)}async function Jd(e,t){const n=os(e);t?(n.W_.delete(2),await kd(n)):t||(n.W_.add(2),await Id(n),n.j_.set("Unknown"))}function Zd(e){return e.J_||(e.J_=function(e,t,n){const r=os(e);return r.M_(),new vd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Dd.bind(null,e),No:Ld.bind(null,e),Lo:Md.bind(null,e),p_:Bd.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Nd(e)?Pd(e):e.j_.set("Unknown")):(await e.J_.stop(),Rd(e))}))),e.J_}function Yd(e){return e.Y_||(e.Y_=function(e,t,n){const r=os(e);return r.M_(),new yd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Gd.bind(null,e),Lo:Kd.bind(null,e),D_:Qd.bind(null,e),v_:$d.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Ud(e)):(await e.Y_.stop(),e.U_.length>0&&(es(Ed,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Xd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Xd(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cs(as.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eh(e,t){if(ts("AsyncQueue",`${t}: ${e}`),$s(e))return new cs(as.UNAVAILABLE,`${t}: ${e}`);throw e}class th{static emptySet(e){return new th(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ls.comparator(t.key,n.key):(e,t)=>Ls.comparator(e.key,t.key),this.keyedMap=yc(),this.sortedSet=new Po(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof th))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new th;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class nh{constructor(){this.Z_=new Po(Ls.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):is():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class rh{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new rh(e,t,th.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ih{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class sh{constructor(){this.queries=oh(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=os(e),r=n.queries;n.queries=oh(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new cs(as.ABORTED,"Firestore shutting down"))}}function oh(){return new pc((e=>cc(e)),ac)}async function ah(e,t){const n=os(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new ih,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=eh(e,`Initialization of query '${uc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&dh(n)}async function ch(e,t){const n=os(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uh(e,t){const n=os(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&dh(n)}function lh(e,t,n){const r=os(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function dh(e){e.ia.forEach((e=>{e.next()}))}var hh,fh;(fh=hh||(hh={}))._a="default",fh.Cache="cache";class ph{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hh.Cache}}class mh{constructor(e){this.key=e}}class gh{constructor(e){this.key=e}}class vh{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ic(),this.mutatedKeys=Ic(),this.ya=hc(e),this.wa=new th(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new nh,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=lc(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?d!==h&&(n.track({type:3,doc:l}),f=!0):this.va(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.ya(l,a)>0||c&&this.ya(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:o,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return is()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const o=t&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,c=a!==this.ga;return this.ga=a,0!==s.length||c?{snapshot:new rh(this.query,e.wa,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nh,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ic(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new gh(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new mh(n))})),t}Oa(e){this.fa=e.gs,this.pa=Ic();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return rh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const yh="SyncEngine";class bh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wh{constructor(e){this.key=e,this.Ba=!1}}class Ah{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new pc((e=>cc(e)),ac),this.qa=new Map,this.Qa=new Set,this.$a=new Po(Ls.comparator),this.Ua=new Map,this.Ka=new Cl,this.Wa={},this.Ga=new Map,this.za=ml.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Eh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=zh(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await kh(r,t,n,!0),i}async function _h(e,t){const n=zh(e);await kh(n,t,!0,!1)}async function kh(e,t,n,r){const i=await Wl(e.localStore,rc(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Ih(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Sd(e.remoteStore,i),a}async function Ih(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Zl(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Bh(e,t.targetId,a.Ma),a.snapshot}(e,t,n,r);const s=await Zl(e.localStore,t,!0),o=new vh(t,s.gs),a=o.ba(s.documents),c=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);Bh(e,n,u.Ma);const l=new bh(t,n,o);return e.ka.set(t,l),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),u.snapshot}async function Sh(e,t,n){const r=os(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!ac(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jl(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Td(r.remoteStore,i.targetId),Lh(r,i.targetId)})).catch(qs)):(Lh(r,i.targetId),await Jl(r.localStore,i.targetId,!0))}async function Th(e,t){const n=os(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Td(n.remoteStore,r.targetId))}async function xh(e,t){const n=os(e);try{const e=await function(e,t){const n=os(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Bo.EMPTY_BYTE_STRING,Cs.min()).withLastLimboFreeSnapshotVersion(Cs.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,u,s)&&o.push(n.Hr.updateTargetData(e,u))}));let a=gc(),c=Ic();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($l(e,s,t.documentUpdates).next((e=>{a=e.Vs,c=e.fs}))),!r.isEqual(Cs.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Gs.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(ss(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?ss(r.Ba):e.removedDocuments.size>0&&(ss(r.Ba),r.Ba=!1))})),await Uh(n,e,t)}catch(e){await qs(e)}}function Ch(e,t,n){const r=os(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=os(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&dh(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ph(e,t,n){const r=os(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let e=new Po(Ls.comparator);e=e.insert(s,_a.newNoDocument(s,Cs.min()));const n=Ic().add(s),i=new bu(Cs.min(),new Map,new Po(As),e,n);await xh(r,i),r.$a=r.$a.remove(s),r.Ua.delete(t),jh(r)}else await Jl(r.localStore,t,!1).then((()=>Lh(r,t,n))).catch(qs)}async function Nh(e,t){const n=os(e),r=t.batch.batchId;try{const e=await function(e,t){const n=os(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Gs.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ss(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ic();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Dh(n,r,null),Rh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uh(n,e)}catch(e){await qs(e)}}async function Oh(e,t,n){const r=os(e);try{const e=await function(e,t){const n=os(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ss(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Dh(r,t,n),Rh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Uh(r,e)}catch(n){await qs(n)}}function Rh(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Dh(e,t,n){const r=os(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Mh(e,t)}))}function Mh(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Td(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),jh(e))}function Bh(e,t,n){for(const r of n)r instanceof mh?(e.Ka.addReference(r.key,t),Fh(e,r)):r instanceof gh?(es(yh,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Mh(e,r.key)):is()}function Fh(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(es(yh,"New document in limbo: "+n),e.Qa.add(r),jh(e))}function jh(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Ls(Os.fromString(t)),r=e.za.next();e.Ua.set(r,new wh(n)),e.$a=e.$a.insert(n,r),Sd(e.remoteStore,new ol(rc(Xa(n.path)),r,"TargetPurposeLimboResolution",Ks.ae))}}async function Uh(e,t,n){const r=os(e),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{o.push(r.Ha(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=jl.Yi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.La.p_(i),await async function(e,t){const n=os(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gs.forEach(t,(t=>Gs.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gs.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!$s(e))throw e;es(Vl,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function Hh(e,t){const n=os(e);if(!n.currentUser.isEqual(t)){es(yh,"User change. New user:",t.toKey());const e=await Gl(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new cs(as.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Uh(n,e.Rs)}}function Vh(e,t){const n=os(e),r=n.Ua.get(t);if(r&&r.Ba)return Ic().add(r.key);{let e=Ic();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function zh(e){const t=os(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ph.bind(null,t),t.La.p_=uh.bind(null,t.eventManager),t.La.Ja=lh.bind(null,t.eventManager),t}function qh(e){const t=os(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Oh.bind(null,t),t}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ql(this.persistence,new Hl,e.initialUser,this.serializer)}Xa(e){return new Ll(Bl.ri,this.serializer)}Za(e){return new ed}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class Qh extends Gh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ss(this.persistence.referenceDelegate instanceof Fl);const n=this.persistence.referenceDelegate.garbageCollector;return new wl(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?pl.withCacheSize(this.cacheSizeBytes):pl.DEFAULT;return new Ll((e=>Fl.ri(e,t)),this.serializer)}}class $h{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ch(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hh.bind(null,this.syncEngine),await Jd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sh}createDatastore(e){const t=fd(e.databaseInfo.databaseId),n=function(e){return new dd(e)}(e.databaseInfo);return function(e,t,n,r){return new wd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new _d(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ch(this.syncEngine,e,0)),rd.D()?new rd:new td)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Ah(e,t,n,r,i,s);return o&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=os(e);es(Ed,"RemoteStore shutting down."),t.W_.add(5),await Id(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}$h.provider={build:()=>new $h};class Kh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Wh="FirestoreClient";class Jh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ji.UNAUTHENTICATED,this.clientId=ws.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{es(Wh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(es(Wh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=eh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zh(e,t){e.asyncQueue.verifyOperationInProgress(),es(Wh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Gl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Yh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xh(e);es(Wh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Wd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Wd(t.remoteStore,n))),e._onlineComponents=t}async function Xh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){es(Wh,"Using user provided OfflineComponentProvider");try{await Zh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===as.FAILED_PRECONDITION||e.code===as.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ns("Error using user provided cache. Falling back to memory cache: "+n),await Zh(e,new Gh)}}else es(Wh,"Using default OfflineComponentProvider"),await Zh(e,new Qh(void 0));return e._offlineComponents}async function ef(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(es(Wh,"Using user provided OnlineComponentProvider"),await Yh(e,e._uninitializedComponentsProvider._online)):(es(Wh,"Using default OnlineComponentProvider"),await Yh(e,new $h))),e._onlineComponents}function tf(e){return ef(e).then((e=>e.syncEngine))}async function nf(e){const t=await ef(e),n=t.eventManager;return n.onListen=Eh.bind(null,t.syncEngine),n.onUnlisten=Sh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_h.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Th.bind(null,t.syncEngine),n}function rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new us;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Kh({next:a=>{s.su(),t.enqueueAndForget((()=>ch(e,o)));const c=a.docs.has(n);!c&&a.fromCache?i.reject(new cs(as.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&a.fromCache&&r&&"server"===r.source?i.reject(new cs(as.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new ph(Xa(n.path),s,{includeMetadataChanges:!0,Ta:!0});return ah(e,o)}(await nf(e),e.asyncQueue,t,n,r))),r.promise}function sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new us;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Kh({next:n=>{s.su(),t.enqueueAndForget((()=>ch(e,o))),n.fromCache&&"server"===r.source?i.reject(new cs(as.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new ph(n,s,{includeMetadataChanges:!0,Ta:!0});return ah(e,o)}(await nf(e),e.asyncQueue,t,n,r))),r.promise}function of(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const af=new Map;function cf(e,t,n){if(!n)throw new cs(as.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uf(e){if(!Ls.isDocumentKey(e))throw new cs(as.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lf(e){if(Ls.isDocumentKey(e))throw new cs(as.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function df(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":is()}function hf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new cs(as.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(e);throw new cs(as.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const ff="firestore.googleapis.com",pf=!0;class mf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new cs(as.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ff,this.ssl=pf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:pf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=fl;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<vl)throw new cs(as.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new cs(as.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=of(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new cs(as.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new cs(as.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new cs(as.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new cs(as.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new cs(as.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ds;switch(e.type){case"firstParty":return new ms(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new cs(as.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=af.get(e);t&&(es("ComponentProvider","Removing Datastore"),af.delete(e),t.terminate())}(this),Promise.resolve()}}function vf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=hf(e,gf))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;s.host!==ff&&s.host!==a&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!O(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ji.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[y(JSON.stringify({alg:"none",type:"JWT"})),y(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new cs(as.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ji(s)}e._authCredentials=new hs(new ls(t,n))}}class yf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class bf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bf(this.firestore,e,this._key)}}class wf extends yf{constructor(e,t,n){super(e,t,Xa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bf(this.firestore,null,new Ls(e))}withConverter(e){return new wf(this.firestore,e,this._path)}}function Af(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=j(e),cf("collection","path",t),e instanceof gf){const n=Os.fromString(t,...r);return lf(n),new wf(e,null,n)}{if(!(e instanceof bf||e instanceof wf))throw new cs(as.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Os.fromString(t,...r));return lf(n),new wf(e.firestore,null,n)}}function Ef(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=j(e),1===arguments.length&&(t=ws.newId()),cf("doc","path",t),e instanceof gf){const n=Os.fromString(t,...r);return uf(n),new bf(e,null,new Ls(n))}{if(!(e instanceof bf||e instanceof wf))throw new cs(as.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Os.fromString(t,...r));return uf(n),new bf(e.firestore,e instanceof wf?e.converter:null,new Ls(n))}}const _f="AsyncQueue";class kf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pd(this,"async_queue_retry"),this.Su=()=>{const e=hd();e&&es(_f,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=hd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=hd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new us;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$s(e))throw e;es(_f,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ts("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Xd.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&is()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class If extends gf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new kf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kf(e),this._firestoreClient=void 0,await e}}}function Sf(e){if(e._terminated)throw new cs(as.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Tf(e),e._firestoreClient}function Tf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Wo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,of(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Jh(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class xf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xf(Bo.fromBase64String(e))}catch(e){throw new cs(as.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new xf(Bo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new cs(as.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ds(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pf{constructor(e){this._methodName=e}}class Nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new cs(as.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new cs(as.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return As(this._lat,e._lat)||As(this._long,e._long)}}class Of{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Rf=/^__.*__$/;class Df{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class Lf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw is()}}class Bf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Mf(this.Lu)&&Rf.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ff{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fd(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bf({Lu:e,methodName:t,zu:n,path:Ds.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(e){const t=e._freezeSettings(),n=fd(e._databaseId);return new Ff(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Uf(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ju(s.merge||s.mergeFields?2:0,t,n,i);Kf("Data must be an object, but it was:",o,r);const a=Qf(r,o);let c,u;if(s.merge)c=new Lo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Wf(t,r,n);if(!o.contains(i))throw new cs(as.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Xf(e,i)||e.push(i)}c=new Lo(e),u=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=o.fieldTransforms;return new Df(new Aa(a),c,u)}class Hf extends Pf{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function Vf(e,t,n,r){const i=e.ju(1,t,n);Kf("Data must be an object, but it was:",i,r);const s=[],o=Aa.empty();xo(r,((e,r)=>{const a=Zf(t,e,n);r=j(r);const c=i.Uu(a);if(r instanceof Hf)s.push(a);else{const e=Gf(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Lo(s);return new Lf(o,a,i.fieldTransforms)}function zf(e,t,n,r,i,s){const o=e.ju(1,t,n),a=[Wf(t,r,n)],c=[i];if(s.length%2!=0)throw new cs(as.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Wf(t,s[h])),c.push(s[h+1]);const u=[],l=Aa.empty();for(let h=a.length-1;h>=0;--h)if(!Xf(u,a[h])){const e=a[h];let t=c[h];t=j(t);const n=o.Uu(e);if(t instanceof Hf)u.push(e);else{const r=Gf(t,n);null!=r&&(u.push(e),l.set(e,r))}}const d=new Lo(u);return new Lf(l,d,o.fieldTransforms)}function qf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Gf(n,e.ju(r?4:3,t))}function Gf(e,t){if($f(e=j(e)))return Kf("Unsupported field value:",t,e),Qf(e,t);if(e instanceof Pf)return function(e,t){if(!Mf(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gf(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=j(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=xs.fromDate(e);return{timestampValue:Ru(t.serializer,n)}}if(e instanceof xs){const n=new xs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ru(t.serializer,n)}}if(e instanceof Nf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xf)return{bytesValue:Du(t.serializer,e._byteString)};if(e instanceof bf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Bu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Of)return function(e,t){return{mapValue:{fields:{[Yo]:{stringValue:ta},[na]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return xc(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${df(e)}`)}(e,t)}function Qf(e,t){const n={};return Co(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xo(e,((e,r)=>{const i=Gf(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $f(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xs||e instanceof Nf||e instanceof xf||e instanceof bf||e instanceof Pf||e instanceof Of)}function Kf(e,t,n){if(!$f(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=df(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Wf(e,t,n){if((t=j(t))instanceof Cf)return t._internalPath;if("string"==typeof t)return Zf(e,t);throw Yf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jf=new RegExp("[~\\*/\\[\\]]");function Zf(e,t,n){if(t.search(Jf)>=0)throw Yf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cf(...t.split("."))._internalPath}catch(r){throw Yf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yf(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new cs(as.INVALID_ARGUMENT,a+e+c)}function Xf(e,t){return e.some((e=>e.isEqual(t)))}class ep{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(np("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tp extends ep{data(){return super.data()}}function np(e,t){return"string"==typeof t?Zf(e,t):t instanceof Cf?t._internalPath:t._delegate._internalPath}function rp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new cs(as.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class sp extends ip{}class op extends sp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new op(e,t,n)}_apply(e){const t=this._parse(e);return lp(e._query,t),new yf(e.firestore,e.converter,sc(e._query,t))}_parse(e){const t=jf(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new cs(as.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){up(o,s);const t=[];for(const n of o)t.push(cp(r,e,n));a={arrayValue:{values:t}}}else a=cp(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||up(o,s),a=qf(n,t,o,"in"===s||"not-in"===s);return Pa.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ap extends ip{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ap(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Na.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)lp(n,i),n=sc(n,i)}(e._query,t),new yf(e.firestore,e.converter,sc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function cp(e,t,n){if("string"==typeof(n=j(n))){if(""===n)throw new cs(as.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tc(t)&&-1!==n.indexOf("/"))throw new cs(as.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Os.fromString(n));if(!Ls.isDocumentKey(r))throw new cs(as.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ha(e,new Ls(r))}if(n instanceof bf)return ha(e,n._key);throw new cs(as.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function up(e,t){if(!Array.isArray(e)||0===e.length)throw new cs(as.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new cs(as.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new cs(as.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw is()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[na].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Uo(e.doubleValue)));return new Of(i)}convertGeoPoint(e){return new Nf(Uo(e.latitude),Uo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=$o(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const t=jo(e);return new xs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Os.fromString(e);ss(sl(n));const r=new Zo(n.get(1),n.get(3)),i=new Ls(n.popFirst(5));return r.isEqual(t)||ts(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function hp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pp extends ep{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mp extends pp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new mp(this._firestore,this._userDataWriter,n.key,n,new fp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new cs(as.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new mp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new mp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:vp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return is()}}function yp(e){e=hf(e,bf);const t=hf(e.firestore,If);return rf(Sf(t),e._key).then((n=>Ep(t,e,n)))}class bp extends dp{constructor(e){super(),this.firestore=e}convertBytes(e){return new xf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bf(this.firestore,null,t)}}function wp(e,t,n){e=hf(e,bf);const r=hf(e.firestore,If),i=hp(e.converter,t,n);return Ap(r,[Uf(jf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qc.none())])}function Ap(e,t){return function(e,t){const n=new us;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qh(e);try{const e=await function(e,t){const n=os(e),r=xs.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ic());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=gc(),c=Ic();return n.ds.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Jc(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Xc(e.key,t,Ea(t.value.mapValue),qc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:bc(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Po(As)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Uh(r,e.changes),await Ud(r.remoteStore)}catch(e){const t=eh(e,"Failed to persist write");n.reject(t)}}(await tf(e),t,n))),n.promise}(Sf(e),t)}function Ep(e,t,n){const r=n.docs.get(t._key),i=new bp(e);return new pp(e,i,t._key,r,new fp(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zi=e}(et),We(new U("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new If(new fs(e.getProvider("auth-internal")),new vs(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new cs(as.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),rt(Ki,Wi,e),rt(Ki,Wi,"esm2017")}();const _p=tt({apiKey:"AIzaSyDWAFLA7k2qSTRfqzYBLwpDtjzt68j08_M",authDomain:"daily-quotes-app-9bf66.firebaseapp.com",projectId:"daily-quotes-app-9bf66",storageBucket:"daily-quotes-app-9bf66.appspot.com",messagingSenderId:"287571952965",appId:"1:287571952965:web:b6801a07c2869e10792a2c"}),kp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt();const t=Je(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Je(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(O(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;wt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Si,persistence:[Mr,br,Ar]}),r=k("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pi)return;const r=null===t||void 0===t?void 0:t.token;Ni!==r&&(Ni=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){j(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){j(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=E("auth");return s&&Vn(n,`http://${s}`),n}(_p);kp.useDeviceLanguage();const Ip=function(e,t){const n="object"==typeof e?e:nt(),r="string"==typeof e?e:t||Jo,i=Je(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=E(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&vf(i,...e)}return i}(_p),Sp=[{id:1,category:"motivation",text:"\ub2f9\uc2e0\uc758 \ubbf8\ub798\ub294 \uc9c0\uae08 \ubb34\uc5c7\uc744 \ud558\ub294\uac00\uc5d0 \ub2ec\ub824 \uc788\ub2e4.",author:"\ub9c8\ud558\ud2b8\ub9c8 \uac04\ub514",explanation:"\ud604\uc7ac\uc758 \uc791\uc740 \ud589\ub3d9\ub4e4\uc774 \ubaa8\uc5ec \uc6b0\ub9ac\uc758 \ubbf8\ub798\ub97c \ub9cc\ub4e4\uc5b4\uac11\ub2c8\ub2e4. \uc9c0\uae08 \uc774 \uc21c\uac04\uc758 \uc120\ud0dd\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."},{id:2,category:"healing",text:"\uad1c\ucc2e\uc544\uc694, \ub2f9\uc2e0\uc740 \uc798\ud558\uace0 \uc788\uc5b4\uc694.",author:"Daily Thought",explanation:"\ub54c\ub85c\ub294 \uc6b0\ub9ac \ubaa8\ub450 \uc704\ub85c\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \uc9c0\uae08 \uc774 \uc21c\uac04 \ucd5c\uc120\uc744 \ub2e4\ud558\uace0 \uc788\ub2e4\ub294 \uac83\uc744 \uc78a\uc9c0 \ub9c8\uc138\uc694."},{id:3,category:"wisdom",text:"\uc2e4\ud328\ub294 \uc131\uacf5\uc758 \uc5b4\uba38\ub2c8\uac00 \uc544\ub2c8\ub77c, \uc131\uacf5\uc758 \uacfc\uc815\uc774\ub2e4.",author:"Daily Thought",explanation:"\uc2e4\ud328\ub294 \ub05d\uc774 \uc544\ub2cc \ubc30\uc6c0\uc758 \uae30\ud68c\uc785\ub2c8\ub2e4. \uac01 \uc2e4\ud328\ub294 \uc131\uacf5\uc73c\ub85c \uac00\ub294 \ud558\ub098\uc758 \ub2e8\uacc4\uc785\ub2c8\ub2e4."},{id:4,category:"motivation",text:"\uc791\uc740 \uc9c4\uc804\uc774\ub77c\ub3c4 \ub9e4\uc77c \uc774\ub8e8\uc5b4\ub0b8\ub2e4\uba74, \ud070 \ubcc0\ud654\ub294 \ubc18\ub4dc\uc2dc \ucc3e\uc544\uc628\ub2e4.",author:"Daily Thought",explanation:"1%\uc758 \uc791\uc740 \uac1c\uc120\ub3c4 365\uc77c \ub3d9\uc548 \uc9c0\uc18d\ub41c\ub2e4\uba74, 37\ubc30 \uc774\uc0c1\uc758 \uc131\uc7a5\uc744 \uc774\ub8f0 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{id:5,category:"healing",text:"\ub2f9\uc2e0\uc758 \ud398\uc774\uc2a4\ub300\ub85c \uac00\uba74 \ub429\ub2c8\ub2e4.",author:"Daily Thought",explanation:"\ub0a8\ub4e4\uacfc \ube44\uad50\ud558\uc9c0 \ub9c8\uc138\uc694. \ub2f9\uc2e0\ub9cc\uc758 \uc18d\ub3c4\ub85c \ucc9c\ucc9c\ud788 \ub098\uc544\uac00\ub294 \uac83\ub3c4 \uad1c\ucc2e\uc2b5\ub2c8\ub2e4."},{id:6,category:"wisdom",text:"\uc624\ub298 \ud560 \uc218 \uc788\ub294 \uc77c\uc5d0 \uc9d1\uc911\ud558\uc138\uc694.",author:"Daily Thought",explanation:"\ubbf8\ub798\uc758 \uac71\uc815\uc774\ub098 \uacfc\uac70\uc758 \ud6c4\ud68c \ub300\uc2e0, \ud604\uc7ac\uc5d0 \uc9d1\uc911\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \ud604\uba85\ud55c \uc120\ud0dd\uc785\ub2c8\ub2e4."},{id:7,category:"motivation",text:"\uc2dc\uc791\uc774 \ubc18\uc774\ub2e4.",author:"\uc544\ub9ac\uc2a4\ud1a0\ud154\ub808\uc2a4",explanation:"\uc5b4\ub5a4 \uc77c\uc774\ub4e0 \uc2dc\uc791\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \uc5b4\ub835\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc2dc\uc791\ud558\ub294 \uc21c\uac04 \uc774\ubbf8 \uc808\ubc18\uc740 \uc131\uacf5\ud55c \uac83\uc785\ub2c8\ub2e4."},{id:8,category:"healing",text:"\uc644\ubcbd\ud558\uc9c0 \uc54a\uc544\ub3c4 \uad1c\ucc2e\uc544\uc694.",author:"Daily Thought",explanation:"\uc6b0\ub9ac \ubaa8\ub450\ub294 \ubd88\uc644\uc804\ud569\ub2c8\ub2e4. \uadf8\ub798\uc11c \ub354 \uc544\ub984\ub2f5\uace0, \ub354 \uc778\uac04\uc801\uc785\ub2c8\ub2e4."},{id:9,category:"wisdom",text:"\ubc30\uc6c0\uc5d0\ub294 \ub05d\uc774 \uc5c6\ub2e4.",author:"\uacf5\uc790",explanation:"\uc778\uc0dd\uc740 \ub04a\uc784\uc5c6\ub294 \ubc30\uc6c0\uc758 \uc5ec\uc815\uc785\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \uac83\uc744 \ubc30\uc6b0\ub294 \uc790\uc138\ub294 \uc601\uc6d0\ud55c \uc131\uc7a5\uc758 \ube44\uacb0\uc785\ub2c8\ub2e4."},{id:10,category:"motivation",text:"\uc624\ub298 \ub2f9\uc2e0\uc774 \ud560 \uc218 \uc788\ub294 \ucd5c\uc120\uc744 \ub2e4\ud558\uc138\uc694.",author:"Daily Thought",explanation:"\uc5b4\uc81c\ubcf4\ub2e4 \ub098\uc740 \uc624\ub298, \uc624\ub298\ubcf4\ub2e4 \ub098\uc740 \ub0b4\uc77c\uc744 \ub9cc\ub4e4\uc5b4\uac00\ub294 \uac83\uc774 \uc9c4\uc815\ud55c \uc131\uc7a5\uc785\ub2c8\ub2e4."}];const Tp=function(e){let{user:t,savedThoughts:n,setSavedThoughts:r,bookmarks:i,setBookmarks:s}=e;const[a,u]=(0,o.useState)(!1),[l,d]=(0,o.useState)(!1),[h,f]=(0,o.useState)(""),{t:m}=p();return(0,c.jsxs)("div",{className:"data-management",children:[(0,c.jsx)("h3",{children:"\ub370\uc774\ud130 \uad00\ub9ac"}),(0,c.jsxs)("div",{className:"data-actions",children:[(0,c.jsx)("button",{className:"export-button",onClick:()=>{u(!0);try{const e={thoughts:n,bookmarks:i,exportDate:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`dailythought-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}catch(e){console.error("\ub370\uc774\ud130 \ub0b4\ubcf4\ub0b4\uae30 \uc2e4\ud328:",e)}finally{u(!1)}},disabled:a,children:a?"\ub0b4\ubcf4\ub0b4\ub294 \uc911...":"\ub370\uc774\ud130 \ub0b4\ubcf4\ub0b4\uae30"}),(0,c.jsxs)("div",{className:"import-section",children:[(0,c.jsx)("input",{type:"file",id:"import-file",accept:".json",onChange:e=>{d(!0),f("");const t=e.target.files[0];if(!t)return void d(!1);const n=new FileReader;n.onload=t=>{try{const n=JSON.parse(t.target.result);if(!n.thoughts||!n.bookmarks)throw new Error("Invalid data format");r(n.thoughts),s(n.bookmarks),localStorage.setItem("savedThoughts",JSON.stringify(n.thoughts)),localStorage.setItem("bookmarks",JSON.stringify(n.bookmarks)),e.target.value=""}catch(n){console.error("\ub370\uc774\ud130 \uac00\uc838\uc624\uae30 \uc2e4\ud328:",n),f(m("settings.data.importError"))}finally{d(!1)}},n.onerror=()=>{f(m("settings.data.importError")),d(!1)},n.readAsText(t)},disabled:l,style:{display:"none"}}),(0,c.jsx)("label",{htmlFor:"import-file",className:"import-button "+(l?"disabled":""),children:l?"\uac00\uc838\uc624\ub294 \uc911...":"\ub370\uc774\ud130 \uac00\uc838\uc624\uae30"})]})]}),h&&(0,c.jsx)("p",{className:"error-message",children:h}),(0,c.jsxs)("div",{className:"data-info",children:[(0,c.jsxs)("p",{children:["\uc800\uc7a5\ub41c \uc0dd\uac01: ",n.length,"\uac1c"]}),(0,c.jsxs)("p",{children:["\ubd81\ub9c8\ud06c\ub41c \uba85\uc5b8: ",i.length,"\uac1c"]})]})]})};const xp=function(e){let{quote:t,thought:n}=e;const[r,i]=(0,o.useState)(!1),[s,a]=(0,o.useState)("quoteOnly"),{t:u}=p(),l=()=>"quoteOnly"===s?`"${t.text}" - ${t.author}`:`"${t.text}" - ${t.author}\n\n${u("thought.title")}: ${n}`;return(0,c.jsxs)("div",{className:"share-container",children:[(0,c.jsx)("button",{className:"share-button",onClick:()=>i(!r),children:"\uacf5\uc720"}),r&&(0,c.jsxs)("div",{className:"share-options",children:[(0,c.jsxs)("div",{className:"share-mode-buttons",children:[(0,c.jsx)("button",{className:"mode-button "+("quoteOnly"===s?"active":""),onClick:()=>a("quoteOnly"),children:u("share.quoteOnly")}),(0,c.jsx)("button",{className:"mode-button "+("quoteAndThought"===s?"active":""),onClick:()=>a("quoteAndThought"),disabled:!n,children:u("share.quoteAndThought")})]}),(0,c.jsxs)("div",{className:"share-platform-buttons",children:[(0,c.jsx)("button",{onClick:()=>{const e=encodeURIComponent(l());window.open(`https://twitter.com/intent/tweet?text=${e}`,"_blank"),i(!1)},children:u("share.twitter")}),(0,c.jsx)("button",{onClick:()=>{const e=encodeURIComponent(l());window.open(`https://www.facebook.com/sharer/sharer.php?quote=${e}`,"_blank"),i(!1)},children:u("share.facebook")}),(0,c.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(l()),alert(u("share.instagram")),i(!1)},children:u("share.instagram")}),(0,c.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(l()),alert(u("share.kakao")),i(!1)},children:u("share.kakao")}),(0,c.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(l()),alert(u("share.copied")),i(!1)},children:u("share.copy")})]})]})]})};const Cp=function(e){let{user:t}=e;const[n,r]=(0,o.useState)({daily:!0,weekly:!1,email:!1}),{t:i}=p();(0,o.useEffect)((()=>{if("Notification"in window){const e=localStorage.getItem("notificationSettings");if(e){const{enabled:t,time:n}=JSON.parse(e);r({daily:t,weekly:!1,email:!1})}}}),[]);const s=e=>{r((t=>({...t,[e]:!t[e]})))},a=(e,t)=>{const n={enabled:e,time:t};localStorage.setItem("notificationSettings",JSON.stringify(n)),e?u(t):l()},u=e=>{l();const[t,n]=e.split(":"),r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),parseInt(t),parseInt(n),0);i<r&&i.setDate(i.getDate()+1);const s=setTimeout((()=>{d(),u(e)}),i-r);localStorage.setItem("notificationId",s)},l=()=>{const e=localStorage.getItem("notificationId");e&&(clearTimeout(parseInt(e)),localStorage.removeItem("notificationId"))},d=()=>{"granted"===Notification.permission&&new Notification(i("app.title"),{body:i("notification.body"),icon:"/logo192.png"})};return(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h2",{children:"\uc54c\ub9bc \uc124\uc815"}),(0,c.jsxs)("div",{className:"settings-content",children:[(0,c.jsx)("div",{className:"setting-item",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:n.daily,onChange:()=>{n.daily||"granted"===Notification.permission?(r((e=>({...e,daily:!e.daily}))),a(!n.daily,"09:00")):(async()=>{try{"granted"===await Notification.requestPermission()&&(r({daily:!0,weekly:!1,email:!1}),a(!0,"09:00"))}catch(e){console.error("\uc54c\ub9bc \uad8c\ud55c \uc694\uccad \uc2e4\ud328:",e)}})()}}),"\ub9e4\uc77c \uc0c8\ub85c\uc6b4 \uba85\uc5b8 \uc54c\ub9bc"]})}),(0,c.jsx)("div",{className:"setting-item",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:n.weekly,onChange:()=>s("weekly")}),"\uc8fc\uac04 \ub9ac\ub9c8\uc778\ub354"]})}),(0,c.jsx)("div",{className:"setting-item",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:n.email,onChange:()=>s("email")}),"\uc774\uba54\uc77c \uc54c\ub9bc"]})})]})]})};const Pp=function(){const{theme:e,setTheme:t}=function(){const e=(0,o.useContext)(u);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}(),[n,r]=(0,o.useState)("#4CAF50");return(0,o.useEffect)((()=>{const e=localStorage.getItem("theme"),n=localStorage.getItem("accentColor");e&&(t(e),document.documentElement.setAttribute("data-theme",e)),n&&(r(n),document.documentElement.style.setProperty("--accent-color",n))}),[]),(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h2",{children:"\ud14c\ub9c8 \uc124\uc815"}),(0,c.jsxs)("div",{className:"settings-content",children:[(0,c.jsxs)("div",{className:"setting-item",children:[(0,c.jsx)("label",{children:"\ud14c\ub9c8 \uc120\ud0dd:"}),(0,c.jsxs)("select",{value:e,onChange:e=>{return n=e.target.value,t(n),document.documentElement.setAttribute("data-theme",n),void localStorage.setItem("theme",n);var n},children:[(0,c.jsx)("option",{value:"light",children:"\ubc1d\uc740 \ud14c\ub9c8"}),(0,c.jsx)("option",{value:"dark",children:"\uc5b4\ub450\uc6b4 \ud14c\ub9c8"}),(0,c.jsx)("option",{value:"system",children:"\uc2dc\uc2a4\ud15c \uc124\uc815"})]})]}),(0,c.jsxs)("div",{className:"accent-color",children:[(0,c.jsx)("label",{children:"\uac15\uc870 \uc0c9\uc0c1:"}),(0,c.jsx)("div",{className:"color-buttons",children:[{name:"\ucd08\ub85d",value:"#4CAF50"},{name:"\ud30c\ub791",value:"#2196F3"},{name:"\ubcf4\ub77c",value:"#9C27B0"},{name:"\uc8fc\ud669",value:"#FF9800"},{name:"\ube68\uac15",value:"#F44336"}].map((e=>(0,c.jsx)("button",{className:"color-button "+(n===e.value?"active":""),style:{backgroundColor:e.value},onClick:()=>(e=>{r(e),document.documentElement.style.setProperty("--accent-color",e),localStorage.setItem("accentColor",e)})(e.value),title:e.name},e.value)))})]})]})]})};const Np=function(){const{language:e,setLanguage:t}=p();return(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h2",{children:"\uc5b8\uc5b4 \uc124\uc815"}),(0,c.jsx)("div",{className:"settings-content",children:(0,c.jsxs)("div",{className:"setting-item",children:[(0,c.jsx)("label",{children:"\uc5b8\uc5b4 \uc120\ud0dd:"}),(0,c.jsxs)("select",{value:e,onChange:e=>t(e.target.value),children:[(0,c.jsx)("option",{value:"ko",children:"\ud55c\uad6d\uc5b4"}),(0,c.jsx)("option",{value:"en",children:"English"})]})]})})]})};var Op,Rp;!function(e){e.NUMBER="NUMBER_NUMBER",e.HEX="NUMBER_HEX",e.STR="NUMBER_STR",e.BIGINT="NUMBER_BIGINT"}(Op||(Op={})),function(e){e.HEX="BYTES_HEX",e.UINT8ARRAY="BYTES_UINT8ARRAY"}(Rp||(Rp={}));const Dp={number:Op.BIGINT,bytes:Rp.HEX},Lp={number:Op.HEX,bytes:Rp.HEX};var Mp,Bp;!function(e){e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized",e.COMMITTED="committed"}(Mp||(Mp={})),function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"}(Bp||(Bp={}));const Fp=Object.getPrototypeOf(Uint8Array);var jp=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Up=Symbol.for("web3/base-provider");class Hp{static isWeb3Provider(e){return e instanceof Hp||Boolean(e&&e[Up])}get[Up](){return!0}send(e,t){this.request(e).then((e=>{t(null,e)})).catch((e=>{t(e)}))}sendAsync(e){return jp(this,void 0,void 0,(function*(){return this.request(e)}))}asEIP1193Provider(){const e=Object.create(this),t=e.request;return e.request=function(e){return jp(this,void 0,void 0,(function*(){return(yield t(e)).result}))},e.asEIP1193Provider=void 0,e}}class Vp extends Array{constructor(e){super(),this._accountProvider=e}}const zp=4001,qp=4100,Gp=4200,Qp=4900,$p=4901,Kp=-32700,Wp=-32600,Jp=-32601,Zp=-32602,Yp=-32603,Xp=-32e3,em=-32001,tm=-32002,nm=-32003,rm=-32004,im=-32005,sm=-32006;class om extends Error{get innerError(){return this.cause instanceof am?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new am(e):this.cause=e}constructor(e,t){super(e),Array.isArray(t)?this.cause=new am(t):this.cause=t,this.name=this.constructor.name,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=(new Error).stack}static convertToString(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e||void 0===e)return"undefined";const n=JSON.stringify(e,((e,t)=>"bigint"===typeof t?t.toString():t));return t&&["bigint","string"].includes(typeof e)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class am extends om{constructor(e){super(`Multiple errors occurred: [${e.map((e=>e.message)).join("], [")}]`),this.code=208,this.errors=e}}class cm extends om{constructor(e,t){super(`Invalid value given "${om.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class um extends om{constructor(){super("Private key must be 32 bytes."),this.code=701}}class lm extends om{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702}}class dm extends om{constructor(e){super(`"${e}"`),this.code=802}}class hm extends om{constructor(){super("Invalid key derivation function"),this.code=703}}class fm extends om{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704}}class pm extends om{constructor(){super("Unsupported key store version"),this.code=705}}class mm extends om{constructor(){super("Password cannot be empty"),this.code=706}}class gm extends om{constructor(){super("Initialization vector must be 16 bytes"),this.code=707}}class vm extends om{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709}}class ym extends om{constructor(e,t){super(e),this.code=500,t&&(this.errorCode=t.code,this.errorReason=t.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class bm extends ym{constructor(e){super("Connection not open",e),this.code=503}}class wm extends ym{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=505}}class Am extends ym{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506}}class Em extends ym{constructor(e){super(`Request already sent with following id: ${e}`),this.code=507}}class _m extends om{constructor(e,t){super(e),this.code=300,this.receipt=t}}class km extends om{constructor(e,t){super(`The resolver at ${e} does not implement requested method: "${t}".`),this.address=e,this.name=t,this.code=301}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class Im extends _m{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,"object"===typeof e.data){let t;t=e.data&&"originalError"in e.data?e.data.originalError:e.data,this.data=t.data,this.cause=new Im(t)}else this.data=e.data}setDecodedProperties(e,t,n){this.errorName=e,this.errorSignature=t,this.errorArgs=n}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Sm extends _m{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.cause=new Im(e)}}class Tm extends cm{constructor(e){var t,n;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(n=e.input)&&void 0!==n?n:"undefined"}`,'You can\'t have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.'),this.code=311}}class xm extends om{constructor(e){super(`ENS is not supported on network ${e}`),this.code=902}}class Cm extends om{constructor(){super("Network not synced"),this.code=903}}class Pm extends om{constructor(e){super(`Invalid parameters passed. "${"undefined"!==typeof e?e:""}"`),this.hint=e,this.code=207}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class Nm extends om{constructor(){super(...arguments),this.code=201}}class Om extends om{constructor(){super("The method you're trying to call is not implemented."),this.code=202}}class Rm extends om{constructor(){super(...arguments),this.code=203}}class Dm extends om{constructor(){super(...arguments),this.code=204}}class Lm extends om{constructor(e,t){super(e),this.code=205,this.props=null!==t&&void 0!==t?t:{}}}class Mm extends om{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=206}}class Bm extends om{constructor(){super(...arguments),this.code=600}}class Fm extends om{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=602}}class jm extends om{constructor(){super(...arguments),this.code=603}}class Um extends om{constructor(){super(...arguments),this.code=604}}class Hm extends cm{constructor(){super(...arguments),this.code=801}}class Vm extends om{constructor(e,t){super(e),this.receipt=t,this.code=400}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class zm extends om{constructor(e,t,n,r){super("Transaction has been reverted by the EVM"+(void 0===n?"":`:\n ${om.convertToString(n)}`)),this.reason=e,this.signature=t,this.receipt=n,this.data=r,this.code=402}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class qm extends zm{constructor(e,t,n,r,i,s,o){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=n,this.customErrorArguments=r,this.signature=i,this.receipt=s,this.data=o,this.code=438}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class Gm extends Vm{constructor(e){super("Transaction has been reverted by the EVM"+(void 0===e?"":`:\n ${om.convertToString(e)}`),e),this.code=405}}class Qm extends Vm{constructor(){super("Raw transaction undefined"),this.code=407}}class $m extends Vm{constructor(){super("Transaction not found"),this.code=430}}class Km extends cm{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=408}}class Wm extends cm{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=437}}class Jm extends cm{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410}}class Zm extends cm{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411}}class Ym extends cm{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412}}class Xm extends cm{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435}}class eg extends cm{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436}}class tg extends cm{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413}}class ng extends cm{constructor(e){var t,n;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${null!==(t=e.chain)&&void 0!==t?t:"undefined"}, "hardfork": ${null!==(n=e.hardfork)&&void 0!==n?n:"undefined"}`),this.code=414}}class rg extends om{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440}}class ig extends cm{constructor(e){var t,n,r,i;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(n=e.gasPrice)&&void 0!==n?n:"undefined"}, maxPriorityFeePerGas: ${null!==(r=e.maxPriorityFeePerGas)&&void 0!==r?r:"undefined"}, maxFeePerGas: ${null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"}`,'"gas" is missing'),this.code=415,this.cause=new rg}}class sg extends om{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441}}class og extends cm{constructor(e){var t,n,r,i;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(n=e.gasPrice)&&void 0!==n?n:"undefined"}, maxPriorityFeePerGas: ${null!==(r=e.maxPriorityFeePerGas)&&void 0!==r?r:"undefined"}, maxFeePerGas: ${null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.cause=new sg}}class ag extends cm{constructor(e){var t,n;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(n=e.gasPrice)&&void 0!==n?n:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=416}}class cg extends cm{constructor(e){var t,n;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(n=e.maxFeePerGas)&&void 0!==n?n:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417}}class ug extends cm{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=418}}class lg extends cm{constructor(e){var t,n;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(n=e.maxFeePerGas)&&void 0!==n?n:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419}}class dg extends cm{constructor(e){super(e,"invalid transaction object"),this.code=420}}class hg extends cm{constructor(e){var t,n;super(`nonce: ${null!==(t=e.nonce)&&void 0!==t?t:"undefined"}, chainId: ${null!==(n=e.chainId)&&void 0!==n?n:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=421}}class fg extends cm{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422}}class pg extends cm{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423}}class mg extends cm{constructor(e){super(e,"unsupported transaction type"),this.code=424}}class gg extends cm{constructor(e){var t,n;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(n=e.input)&&void 0!==n?n:"undefined"}`,'You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.'),this.code=425}}class vg extends om{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!\n\tTransaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=431}}function yg(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!\n\tTransaction Hash: ${e?e.toString():"not available"}`}class bg extends om{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${yg(e.transactionHash)}`),this.code=426}}class wg extends om{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${yg(e.transactionHash)}`),this.code=432}}class Ag extends cm{constructor(e){var t,n;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${null===(t=e.blockHash)||void 0===t?void 0:t.toString()}, transactionHash: ${null===(n=e.transactionHash)||void 0===n?void 0:n.toString()}`,"Receipt missing or blockHash null"),this.code=427}}class Eg extends cm{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=428}}class _g extends om{constructor(e){super(`Invalid signature. "${e}"`),this.code=433}}class kg extends cm{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429}}class Ig extends om{constructor(e,t){const n=[];e.forEach((e=>n.push(e.keyword))),super(`The following properties are invalid for the transaction type ${t}: ${n.join(", ")}`),this.code=439}}class Sg extends cm{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class Tg extends cm{constructor(e){super(e,"can not parse as number data"),this.code=1003}}class xg extends cm{constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class Cg extends cm{constructor(e){super(e,"not a valid string"),this.code=1001}}class Pg extends cm{constructor(e){super(e,"invalid unit"),this.code=1004}}class Ng extends cm{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=1015}}class Og extends cm{constructor(e){super(e,"can not be converted to hex"),this.code=1006}}class Rg extends cm{constructor(e){super(e,"value greater than the nibble width"),this.code=1014}}class Dg extends cm{constructor(e){super(e,"not a valid boolean."),this.code=1008}}class Lg extends cm{constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}}class Mg extends cm{constructor(e){super(e,"invalid size given."),this.code=1010}}class Bg extends cm{constructor(e){super(e,"value is larger than size."),this.code=1011}}class Fg extends cm{constructor(e){super(e,"invalid string given"),this.code=1012}}const jg=e=>(e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&(void 0===e.result||null===e.result)&&"error"in e&&("number"===typeof e.id||"string"===typeof e.id))(e)?e.error.message:"";class Ug extends om{constructor(e,t,n,r){var i;let s;super(null!==t&&void 0!==t?t:`Returned error: ${Array.isArray(e)?e.map((e=>jg(e))).join(","):jg(e)}`),this.code=100,t||(this.data=Array.isArray(e)?e.map((e=>{var t;return null===(t=e.error)||void 0===t?void 0:t.data})):null===(i=null===e||void 0===e?void 0:e.error)||void 0===i?void 0:i.data),this.statusCode=r,this.request=n,"error"in e?s=e.error:e instanceof Array&&(s=e.filter((e=>e.error)).map((e=>e.error))),Array.isArray(s)&&s.length>0?this.cause=new am(s):this.cause=s}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class Hg extends Ug{constructor(e,t){let n;super(e,void 0,t),this.code=101,"error"in e?n=e.error:e instanceof Array&&(n=e.map((e=>e.error))),Array.isArray(n)?this.cause=new am(n):this.cause=n}}class Vg extends om{constructor(e,t){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}class zg extends om{constructor(e,t){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}const qg="An Rpc error has occured with a code of *code*",Gg={[Kp]:{message:"Parse error",description:"Invalid JSON"},[Wp]:{message:"Invalid request",description:"JSON is not a valid request object\t"},[Jp]:{message:"Method not found",description:"Method does not exist\t"},[Zp]:{message:"Invalid params",description:"Invalid method parameters"},[Yp]:{message:"Internal error",description:"Internal JSON-RPC error"},[Xp]:{message:"Invalid input",description:"Missing or invalid parameters"},[em]:{message:"Resource not found",description:"Requested resource not found"},[tm]:{message:"Resource unavailable",description:"Requested resource not available"},[nm]:{message:"Transaction rejected",description:"Transaction creation failed"},[rm]:{message:"Method not supported",description:"Method is not implemented"},[im]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[sm]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[zp]:{name:"User Rejected Request",message:"The user rejected the request."},[qp]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[Gp]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[Qp]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[$p]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class Qg extends om{constructor(e,t){super(null!==t&&void 0!==t?t:qg.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class $g extends om{constructor(e,t){var n,r,i,s;if(e)if(null===(n=Gg[e])||void 0===n?void 0:n.message)super(Gg[e].message);else{const t=Object.keys(Gg).find((t=>"string"===typeof t&&e>=parseInt(t.split("-")[0],10)&&e<=parseInt(t.split("-")[1],10)));super(null!==(i=null===(r=Gg[null!==t&&void 0!==t?t:""])||void 0===r?void 0:r.message)&&void 0!==i?i:qg.replace("*code*",null!==(s=null===e||void 0===e?void 0:e.toString())&&void 0!==s?s:'""'))}else super();this.code=e,this.data=t}}const Kg=new Map;Kg.set(Kp,{error:class extends Qg{constructor(e){super(e,Gg[-32700].message),this.code=Kp}}}),Kg.set(Wp,{error:class extends Qg{constructor(e){super(e,Gg[-32600].message),this.code=Wp}}}),Kg.set(Jp,{error:class extends Qg{constructor(e){super(e,Gg[-32601].message),this.code=Jp}}}),Kg.set(Zp,{error:class extends Qg{constructor(e){super(e,Gg[-32602].message),this.code=Zp}}}),Kg.set(Yp,{error:class extends Qg{constructor(e){super(e,Gg[-32603].message),this.code=Yp}}}),Kg.set(Xp,{error:class extends Qg{constructor(e){super(e,Gg[-32e3].message),this.code=Xp}}}),Kg.set(rm,{error:class extends Qg{constructor(e){super(e,Gg[-32004].message),this.code=rm}}}),Kg.set(tm,{error:class extends Qg{constructor(e){super(e,Gg[-32002].message),this.code=tm}}}),Kg.set(nm,{error:class extends Qg{constructor(e){super(e,Gg[-32003].message),this.code=nm}}}),Kg.set(em,{error:class extends Qg{constructor(e){super(e,Gg[-32001].message),this.code=em}}}),Kg.set(sm,{error:class extends Qg{constructor(e){super(e,Gg[-32006].message),this.code=sm}}}),Kg.set(im,{error:class extends Qg{constructor(e){super(e,Gg[-32005].message),this.code=im}}});class Wg extends om{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function Jg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Zg(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function Yg(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Jg(e.outputLen),Jg(e.blockLen)}function Xg(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ev(e,t){Zg(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const tv={number:Jg,bool:function(e){if("boolean"!==typeof e)throw new Error(`boolean expected, not ${e}`)},bytes:Zg,hash:Yg,exists:Xg,output:ev},nv=tv,rv=BigInt(2**32-1),iv=BigInt(32);function sv(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&rv),l:Number(e>>iv&rv)}:{h:0|Number(e>>iv&rv),l:0|Number(e&rv)}}function ov(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=sv(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const av=(e,t,n)=>e<<n|t>>>32-n,cv=(e,t,n)=>t<<n|e>>>32-n,uv=(e,t,n)=>t<<n-32|e>>>64-n,lv=(e,t,n)=>e<<n-32|t>>>64-n;const dv={fromBig:sv,split:ov,toBig:(e,t)=>BigInt(e>>>0)<<iv|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:av,rotlSL:cv,rotlBH:uv,rotlBL:lv,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},hv="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const fv=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),pv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mv=(e,t)=>e<<32-t|e>>>t,gv=(e,t)=>e<<t|e>>>32-t>>>0,vv=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],yv=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function bv(e){for(let t=0;t<e.length;t++)e[t]=yv(e[t])}function wv(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Av(e){return"string"===typeof e&&(e=wv(e)),Zg(e),e}function Ev(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Zg(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class _v{clone(){return this._cloneInto()}}const kv={}.toString;function Iv(e,t){if(void 0!==t&&"[object Object]"!==kv.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Sv(e){const t=t=>e().update(Av(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Tv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(hv&&"function"===typeof hv.getRandomValues)return hv.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const xv=[],Cv=[],Pv=[],Nv=BigInt(0),Ov=BigInt(1),Rv=BigInt(2),Dv=BigInt(7),Lv=BigInt(256),Mv=BigInt(113);for(let n=0,pO=Ov,mO=1,gO=0;n<24;n++){[mO,gO]=[gO,(2*mO+3*gO)%5],xv.push(2*(5*gO+mO)),Cv.push((n+1)*(n+2)/2%64);let e=Nv;for(let t=0;t<7;t++)pO=(pO<<Ov^(pO>>Dv)*Mv)%Lv,pO&Rv&&(e^=Ov<<(Ov<<BigInt(t))-Ov);Pv.push(e)}const[Bv,Fv]=ov(Pv,!0),jv=(e,t,n)=>n>32?uv(e,t,n):av(e,t,n),Uv=(e,t,n)=>n>32?lv(e,t,n):cv(e,t,n);class Hv extends _v{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Jg(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fv(this.state)}keccak(){vv||bv(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=jv(s,o,1)^n[t],c=Uv(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Cv[n],s=jv(t,i,r),o=Uv(t,i,r),a=xv[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Bv[r],e[1]^=Fv[r]}n.fill(0)}(this.state32,this.rounds),vv||bv(this.state32),this.posOut=0,this.pos=0}update(e){Xg(this);const{blockLen:t,state:n}=this,r=(e=Av(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Xg(this,!1),Zg(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Jg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ev(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Hv(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Vv=(e,t,n)=>Sv((()=>new Hv(t,e,n))),zv=Vv(1,144,28),qv=Vv(1,136,32),Gv=Vv(1,104,48),Qv=Vv(1,72,64),$v=(nv.bool,nv.bytes);function Kv(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)}function Wv(e){return t=>(nv.bytes(t),e(t))}(()=>{const e="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!==typeof module&&"function"===typeof module.require&&module.require.bind(module);t&&!e&&t("crypto")})(),Wv(zv);const Jv=(()=>{const e=Wv(qv);return e.create=qv.create,e})();Wv(Gv),Wv(Qv);var Zv,Yv;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Zv||(Zv={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Yv||(Yv={}));const Xv=Zv.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ey=e=>{switch(typeof e){case"undefined":return Xv.undefined;case"string":return Xv.string;case"number":return isNaN(e)?Xv.nan:Xv.number;case"boolean":return Xv.boolean;case"function":return Xv.function;case"bigint":return Xv.bigint;case"symbol":return Xv.symbol;case"object":return Array.isArray(e)?Xv.array:null===e?Xv.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Xv.promise:"undefined"!==typeof Map&&e instanceof Map?Xv.map:"undefined"!==typeof Set&&e instanceof Set?Xv.set:"undefined"!==typeof Date&&e instanceof Date?Xv.date:Xv.object;default:return Xv.unknown}},ty=Zv.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ny extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof ny))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Zv.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ny.create=e=>new ny(e);const ry=(e,t)=>{let n;switch(e.code){case ty.invalid_type:n=e.received===Xv.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ty.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Zv.jsonStringifyReplacer)}`;break;case ty.unrecognized_keys:n=`Unrecognized key(s) in object: ${Zv.joinValues(e.keys,", ")}`;break;case ty.invalid_union:n="Invalid input";break;case ty.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Zv.joinValues(e.options)}`;break;case ty.invalid_enum_value:n=`Invalid enum value. Expected ${Zv.joinValues(e.options)}, received '${e.received}'`;break;case ty.invalid_arguments:n="Invalid function arguments";break;case ty.invalid_return_type:n="Invalid function return type";break;case ty.invalid_date:n="Invalid date";break;case ty.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Zv.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ty.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ty.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ty.custom:n="Invalid input";break;case ty.invalid_intersection_types:n="Intersection results could not be merged";break;case ty.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ty.not_finite:n="Number must be finite";break;default:n=t.defaultError,Zv.assertNever(e)}return{message:n}};let iy=ry;function sy(){return iy}const oy=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let a="";const c=r.filter((e=>!!e)).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}};function ay(e,t){const n=sy(),r=oy({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ry?void 0:ry].filter((e=>!!e))});e.common.issues.push(r)}class cy{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return uy;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return cy.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return uy;if("aborted"===i.status)return uy;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const uy=Object.freeze({status:"aborted"}),ly=e=>({status:"dirty",value:e}),dy=e=>({status:"valid",value:e}),hy=e=>"aborted"===e.status,fy=e=>"dirty"===e.status,py=e=>"valid"===e.status,my=e=>"undefined"!==typeof Promise&&e instanceof Promise;function gy(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function vy(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var yy,by,wy;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(yy||(yy={}));class Ay{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ey=(e,t)=>{if(py(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ny(e.common.issues);return this._error=t,this._error}}};function _y(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var s,o;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!==a&&void 0!==a?a:i.defaultError}:"undefined"===typeof i.data?{message:null!==(s=null!==a&&void 0!==a?a:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!==a&&void 0!==a?a:n)&&void 0!==o?o:i.defaultError}},description:i}}class ky{get description(){return this._def.description}_getType(e){return ey(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ey(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cy,ctx:{common:e.parent.common,data:e.data,parsedType:ey(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(my(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ey(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Ey(r,i)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ey(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return py(t)?{value:t.value}:{issues:r.common.issues}}catch(i){(null===(n=null===(t=null===i||void 0===i?void 0:i.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>py(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ey(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(my(r)?r:Promise.resolve(r));return Ey(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),s=()=>r.addIssue({code:ty.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Ib({schema:this,typeName:Fb.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Sb.create(this,this._def)}nullable(){return Tb.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ob.create(this)}promise(){return kb.create(this,this._def)}or(e){return ub.create([this,e],this._def)}and(e){return fb.create(this,e,this._def)}transform(e){return new Ib({..._y(this._def),schema:this,typeName:Fb.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new xb({..._y(this._def),innerType:this,defaultValue:t,typeName:Fb.ZodDefault})}brand(){return new Ob({typeName:Fb.ZodBranded,type:this,..._y(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Cb({..._y(this._def),innerType:this,catchValue:t,typeName:Fb.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Rb.create(this,e)}readonly(){return Db.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Iy=/^c[^\s-]{8,}$/i,Sy=/^[0-9a-z]+$/,Ty=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cy=/^[a-z0-9_-]{21}$/i,Py=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ny=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ry;const Dy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ly=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,My=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,By=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Uy="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Hy=new RegExp(`^${Uy}$`);function Vy(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function zy(e){let t=`${Uy}T${Vy(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function qy(e,t){return!("v4"!==t&&t||!Dy.test(e))||!("v6"!==t&&t||!My.test(e))}function Gy(e,t){if(!Py.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&(!(!i.typ||!i.alg)&&(!t||i.alg===t))}catch(s_){return!1}}function Qy(e,t){return!("v4"!==t&&t||!Ly.test(e))||!("v6"!==t&&t||!By.test(e))}class $y extends ky{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Xv.string){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.string,received:t.parsedType}),uy}const t=new cy;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const i=e.data.length>r.value,s=e.data.length<r.value;(i||s)&&(n=this._getOrReturnCtx(e,n),i?ay(n,{code:ty.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&ay(n,{code:ty.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)Oy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"email",code:ty.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Ry||(Ry=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ry.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"emoji",code:ty.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)xy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"uuid",code:ty.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)Cy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"nanoid",code:ty.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)Iy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"cuid",code:ty.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)Sy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"cuid2",code:ty.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)Ty.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"ulid",code:ty.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(s_){n=this._getOrReturnCtx(e,n),ay(n,{validation:"url",code:ty.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"regex",code:ty.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){zy(r).test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){Hy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){new RegExp(`^${Vy(r)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?Ny.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"duration",code:ty.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?qy(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"ip",code:ty.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Gy(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"jwt",code:ty.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?Qy(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"cidr",code:ty.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Fy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"base64",code:ty.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?jy.test(e.data)||(n=this._getOrReturnCtx(e,n),ay(n,{validation:"base64url",code:ty.invalid_string,message:r.message}),t.dirty()):Zv.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:ty.invalid_string,...yy.errToObj(n)})}_addCheck(e){return new $y({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...yy.errToObj(e)})}url(e){return this._addCheck({kind:"url",...yy.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...yy.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...yy.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...yy.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...yy.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...yy.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...yy.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...yy.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...yy.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...yy.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...yy.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...yy.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...yy.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...yy.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...yy.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...yy.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...yy.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...yy.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...yy.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...yy.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...yy.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...yy.errToObj(t)})}nonempty(e){return this.min(1,yy.errToObj(e))}trim(){return new $y({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $y({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $y({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ky(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}$y.create=e=>{var t;return new $y({checks:[],typeName:Fb.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,..._y(e)})};class Wy extends ky{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Xv.number){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.number,received:t.parsedType}),uy}let t;const n=new cy;for(const r of this._def.checks)if("int"===r.kind)Zv.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Ky(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.not_finite,message:r.message}),n.dirty()):Zv.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,yy.toString(t))}gt(e,t){return this.setLimit("min",e,!1,yy.toString(t))}lte(e,t){return this.setLimit("max",e,!0,yy.toString(t))}lt(e,t){return this.setLimit("max",e,!1,yy.toString(t))}setLimit(e,t,n,r){return new Wy({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:yy.toString(r)}]})}_addCheck(e){return new Wy({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:yy.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yy.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yy.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yy.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yy.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:yy.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:yy.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yy.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yy.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Zv.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Wy.create=e=>new Wy({checks:[],typeName:Fb.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,..._y(e)});class Jy extends ky{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(s_){return this._getInvalidInput(e)}if(this._getType(e)!==Xv.bigint)return this._getInvalidInput(e);let t;const n=new cy;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ay(t,{code:ty.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Zv.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.bigint,received:t.parsedType}),uy}gte(e,t){return this.setLimit("min",e,!0,yy.toString(t))}gt(e,t){return this.setLimit("min",e,!1,yy.toString(t))}lte(e,t){return this.setLimit("max",e,!0,yy.toString(t))}lt(e,t){return this.setLimit("max",e,!1,yy.toString(t))}setLimit(e,t,n,r){return new Jy({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:yy.toString(r)}]})}_addCheck(e){return new Jy({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yy.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yy.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yy.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yy.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:yy.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Jy.create=e=>{var t;return new Jy({checks:[],typeName:Fb.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,..._y(e)})};class Zy extends ky{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Xv.boolean){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.boolean,received:t.parsedType}),uy}return dy(e.data)}}Zy.create=e=>new Zy({typeName:Fb.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,..._y(e)});class Yy extends ky{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Xv.date){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.date,received:t.parsedType}),uy}if(isNaN(e.data.getTime())){return ay(this._getOrReturnCtx(e),{code:ty.invalid_date}),uy}const t=new cy;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ay(n,{code:ty.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Zv.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yy({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:yy.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:yy.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Yy.create=e=>new Yy({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Fb.ZodDate,..._y(e)});class Xy extends ky{_parse(e){if(this._getType(e)!==Xv.symbol){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.symbol,received:t.parsedType}),uy}return dy(e.data)}}Xy.create=e=>new Xy({typeName:Fb.ZodSymbol,..._y(e)});class eb extends ky{_parse(e){if(this._getType(e)!==Xv.undefined){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.undefined,received:t.parsedType}),uy}return dy(e.data)}}eb.create=e=>new eb({typeName:Fb.ZodUndefined,..._y(e)});class tb extends ky{_parse(e){if(this._getType(e)!==Xv.null){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.null,received:t.parsedType}),uy}return dy(e.data)}}tb.create=e=>new tb({typeName:Fb.ZodNull,..._y(e)});class nb extends ky{constructor(){super(...arguments),this._any=!0}_parse(e){return dy(e.data)}}nb.create=e=>new nb({typeName:Fb.ZodAny,..._y(e)});class rb extends ky{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dy(e.data)}}rb.create=e=>new rb({typeName:Fb.ZodUnknown,..._y(e)});class ib extends ky{_parse(e){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.never,received:t.parsedType}),uy}}ib.create=e=>new ib({typeName:Fb.ZodNever,..._y(e)});class sb extends ky{_parse(e){if(this._getType(e)!==Xv.undefined){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.void,received:t.parsedType}),uy}return dy(e.data)}}sb.create=e=>new sb({typeName:Fb.ZodVoid,..._y(e)});class ob extends ky{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Xv.array)return ay(t,{code:ty.invalid_type,expected:Xv.array,received:t.parsedType}),uy;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(ay(t,{code:e?ty.too_big:ty.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ay(t,{code:ty.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ay(t,{code:ty.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Ay(t,e,t.path,n))))).then((e=>cy.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new Ay(t,e,t.path,n))));return cy.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new ob({...this._def,minLength:{value:e,message:yy.toString(t)}})}max(e,t){return new ob({...this._def,maxLength:{value:e,message:yy.toString(t)}})}length(e,t){return new ob({...this._def,exactLength:{value:e,message:yy.toString(t)}})}nonempty(e){return this.min(1,e)}}function ab(e){if(e instanceof cb){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Sb.create(ab(r))}return new cb({...e._def,shape:()=>t})}return e instanceof ob?new ob({...e._def,type:ab(e.element)}):e instanceof Sb?Sb.create(ab(e.unwrap())):e instanceof Tb?Tb.create(ab(e.unwrap())):e instanceof pb?pb.create(e.items.map((e=>ab(e)))):e}ob.create=(e,t)=>new ob({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Fb.ZodArray,..._y(t)});class cb extends ky{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Zv.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Xv.object){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.object,received:t.parsedType}),uy}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof ib&&"strip"===this._def.unknownKeys))for(const a in n.data)i.includes(a)||s.push(a);const o=[];for(const a of i){const e=r[a],t=n.data[a];o.push({key:{status:"valid",value:a},value:e._parse(new Ay(n,t,n.path,a)),alwaysSet:a in n.data})}if(this._def.catchall instanceof ib){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(ay(n,{code:ty.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Ay(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>cy.mergeObjectSync(t,e))):cy.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return yy.errToObj,new cb({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,o;const a=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=yy.errToObj(e).message)&&void 0!==o?o:a}:{message:a}}}:{}})}strip(){return new cb({...this._def,unknownKeys:"strip"})}passthrough(){return new cb({...this._def,unknownKeys:"passthrough"})}extend(e){return new cb({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new cb({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fb.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new cb({...this._def,catchall:e})}pick(e){const t={};return Zv.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new cb({...this._def,shape:()=>t})}omit(e){const t={};return Zv.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new cb({...this._def,shape:()=>t})}deepPartial(){return ab(this)}partial(e){const t={};return Zv.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new cb({...this._def,shape:()=>t})}required(e){const t={};return Zv.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Sb;)e=e._def.innerType;t[n]=e}})),new cb({...this._def,shape:()=>t})}keyof(){return Ab(Zv.objectKeys(this.shape))}}cb.create=(e,t)=>new cb({shape:()=>e,unknownKeys:"strip",catchall:ib.create(),typeName:Fb.ZodObject,..._y(t)}),cb.strictCreate=(e,t)=>new cb({shape:()=>e,unknownKeys:"strict",catchall:ib.create(),typeName:Fb.ZodObject,..._y(t)}),cb.lazycreate=(e,t)=>new cb({shape:e,unknownKeys:"strip",catchall:ib.create(),typeName:Fb.ZodObject,..._y(t)});class ub extends ky{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new ny(e.ctx.common.issues)));return ay(t,{code:ty.invalid_union,unionErrors:n}),uy}));{let e;const r=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new ny(e)));return ay(t,{code:ty.invalid_union,unionErrors:i}),uy}}get options(){return this._def.options}}ub.create=(e,t)=>new ub({options:e,typeName:Fb.ZodUnion,..._y(t)});const lb=e=>e instanceof bb?lb(e.schema):e instanceof Ib?lb(e.innerType()):e instanceof wb?[e.value]:e instanceof Eb?e.options:e instanceof _b?Zv.objectValues(e.enum):e instanceof xb?lb(e._def.innerType):e instanceof eb?[void 0]:e instanceof tb?[null]:e instanceof Sb?[void 0,...lb(e.unwrap())]:e instanceof Tb?[null,...lb(e.unwrap())]:e instanceof Ob||e instanceof Db?lb(e.unwrap()):e instanceof Cb?lb(e._def.innerType):[];class db extends ky{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Xv.object)return ay(t,{code:ty.invalid_type,expected:Xv.object,received:t.parsedType}),uy;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(ay(t,{code:ty.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),uy)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=lb(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new db({typeName:Fb.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,..._y(n)})}}function hb(e,t){const n=ey(e),r=ey(t);if(e===t)return{valid:!0,data:e};if(n===Xv.object&&r===Xv.object){const n=Zv.objectKeys(t),r=Zv.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const s of r){const n=hb(e[s],t[s]);if(!n.valid)return{valid:!1};i[s]=n.data}return{valid:!0,data:i}}if(n===Xv.array&&r===Xv.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=hb(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===Xv.date&&r===Xv.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class fb extends ky{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(hy(e)||hy(r))return uy;const i=hb(e.value,r.value);return i.valid?((fy(e)||fy(r))&&t.dirty(),{status:t.value,value:i.data}):(ay(n,{code:ty.invalid_intersection_types}),uy)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fb.create=(e,t,n)=>new fb({left:e,right:t,typeName:Fb.ZodIntersection,..._y(n)});class pb extends ky{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Xv.array)return ay(n,{code:ty.invalid_type,expected:Xv.array,received:n.parsedType}),uy;if(n.data.length<this._def.items.length)return ay(n,{code:ty.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),uy;!this._def.rest&&n.data.length>this._def.items.length&&(ay(n,{code:ty.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Ay(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>cy.mergeArray(t,e))):cy.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new pb({...this._def,rest:e})}}pb.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pb({items:e,typeName:Fb.ZodTuple,rest:null,..._y(t)})};class mb extends ky{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Xv.object)return ay(n,{code:ty.invalid_type,expected:Xv.object,received:n.parsedType}),uy;const r=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)r.push({key:i._parse(new Ay(n,o,n.path,o)),value:s._parse(new Ay(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?cy.mergeObjectAsync(t,r):cy.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new mb(t instanceof ky?{keyType:e,valueType:t,typeName:Fb.ZodRecord,..._y(n)}:{keyType:$y.create(),valueType:e,typeName:Fb.ZodRecord,..._y(t)})}}class gb extends ky{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Xv.map)return ay(n,{code:ty.invalid_type,expected:Xv.map,received:n.parsedType}),uy;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(((e,t)=>{let[s,o]=e;return{key:r._parse(new Ay(n,s,n.path,[t,"key"])),value:i._parse(new Ay(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return uy;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return uy;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}gb.create=(e,t,n)=>new gb({valueType:t,keyType:e,typeName:Fb.ZodMap,..._y(n)});class vb extends ky{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Xv.set)return ay(n,{code:ty.invalid_type,expected:Xv.set,received:n.parsedType}),uy;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ay(n,{code:ty.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ay(n,{code:ty.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return uy;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>i._parse(new Ay(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>s(e))):s(o)}min(e,t){return new vb({...this._def,minSize:{value:e,message:yy.toString(t)}})}max(e,t){return new vb({...this._def,maxSize:{value:e,message:yy.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}vb.create=(e,t)=>new vb({valueType:e,minSize:null,maxSize:null,typeName:Fb.ZodSet,..._y(t)});class yb extends ky{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Xv.function)return ay(t,{code:ty.invalid_type,expected:Xv.function,received:t.parsedType}),uy;function n(e,n){return oy({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sy(),ry].filter((e=>!!e)),issueData:{code:ty.invalid_arguments,argumentsError:n}})}function r(e,n){return oy({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sy(),ry].filter((e=>!!e)),issueData:{code:ty.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof kb){const e=this;return dy((async function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const c=new ny([]),u=await e._def.args.parseAsync(o,i).catch((e=>{throw c.addIssue(n(o,e)),c})),l=await Reflect.apply(s,this,u);return await e._def.returns._def.type.parseAsync(l,i).catch((e=>{throw c.addIssue(r(l,e)),c}))}))}{const e=this;return dy((function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const c=e._def.args.safeParse(o,i);if(!c.success)throw new ny([n(o,c.error)]);const u=Reflect.apply(s,this,c.data),l=e._def.returns.safeParse(u,i);if(!l.success)throw new ny([r(u,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yb({...this._def,args:pb.create(t).rest(rb.create())})}returns(e){return new yb({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new yb({args:e||pb.create([]).rest(rb.create()),returns:t||rb.create(),typeName:Fb.ZodFunction,..._y(n)})}}class bb extends ky{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}bb.create=(e,t)=>new bb({getter:e,typeName:Fb.ZodLazy,..._y(t)});class wb extends ky{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ay(t,{received:t.data,code:ty.invalid_literal,expected:this._def.value}),uy}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ab(e,t){return new Eb({values:e,typeName:Fb.ZodEnum,..._y(t)})}wb.create=(e,t)=>new wb({value:e,typeName:Fb.ZodLiteral,..._y(t)});class Eb extends ky{constructor(){super(...arguments),by.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ay(t,{expected:Zv.joinValues(n),received:t.parsedType,code:ty.invalid_type}),uy}if(gy(this,by,"f")||vy(this,by,new Set(this._def.values),"f"),!gy(this,by,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ay(t,{received:t.data,code:ty.invalid_enum_value,options:n}),uy}return dy(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Eb.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Eb.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}by=new WeakMap,Eb.create=Ab;class _b extends ky{constructor(){super(...arguments),wy.set(this,void 0)}_parse(e){const t=Zv.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Xv.string&&n.parsedType!==Xv.number){const e=Zv.objectValues(t);return ay(n,{expected:Zv.joinValues(e),received:n.parsedType,code:ty.invalid_type}),uy}if(gy(this,wy,"f")||vy(this,wy,new Set(Zv.getValidEnumValues(this._def.values)),"f"),!gy(this,wy,"f").has(e.data)){const e=Zv.objectValues(t);return ay(n,{received:n.data,code:ty.invalid_enum_value,options:e}),uy}return dy(e.data)}get enum(){return this._def.values}}wy=new WeakMap,_b.create=(e,t)=>new _b({values:e,typeName:Fb.ZodNativeEnum,..._y(t)});class kb extends ky{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Xv.promise&&!1===t.common.async)return ay(t,{code:ty.invalid_type,expected:Xv.promise,received:t.parsedType}),uy;const n=t.parsedType===Xv.promise?t.data:Promise.resolve(t.data);return dy(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}kb.create=(e,t)=>new kb({type:e,typeName:Fb.ZodPromise,..._y(t)});class Ib extends ky{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fb.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{ay(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return uy;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?uy:"dirty"===r.status||"dirty"===t.value?ly(r.value):r}));{if("aborted"===t.value)return uy;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?uy:"dirty"===r.status||"dirty"===t.value?ly(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?uy:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?uy:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!py(e))return e;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>py(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}Zv.assertNever(r)}}Ib.create=(e,t,n)=>new Ib({schema:e,typeName:Fb.ZodEffects,effect:t,..._y(n)}),Ib.createWithPreprocess=(e,t,n)=>new Ib({schema:t,effect:{type:"preprocess",transform:e},typeName:Fb.ZodEffects,..._y(n)});class Sb extends ky{_parse(e){return this._getType(e)===Xv.undefined?dy(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sb.create=(e,t)=>new Sb({innerType:e,typeName:Fb.ZodOptional,..._y(t)});class Tb extends ky{_parse(e){return this._getType(e)===Xv.null?dy(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tb.create=(e,t)=>new Tb({innerType:e,typeName:Fb.ZodNullable,..._y(t)});class xb extends ky{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Xv.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}xb.create=(e,t)=>new xb({innerType:e,typeName:Fb.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,..._y(t)});class Cb extends ky{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return my(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ny(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ny(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Cb.create=(e,t)=>new Cb({innerType:e,typeName:Fb.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,..._y(t)});class Pb extends ky{_parse(e){if(this._getType(e)!==Xv.nan){const t=this._getOrReturnCtx(e);return ay(t,{code:ty.invalid_type,expected:Xv.nan,received:t.parsedType}),uy}return{status:"valid",value:e.data}}}Pb.create=e=>new Pb({typeName:Fb.ZodNaN,..._y(e)});const Nb=Symbol("zod_brand");class Ob extends ky{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Rb extends ky{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?uy:"dirty"===e.status?(t.dirty(),ly(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?uy:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Rb({in:e,out:t,typeName:Fb.ZodPipeline})}}class Db extends ky{_parse(e){const t=this._def.innerType._parse(e),n=e=>(py(e)&&(e.value=Object.freeze(e.value)),e);return my(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Lb(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function Mb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?nb.create().superRefine(((r,i)=>{var s,o;const a=e(r);if(a instanceof Promise)return a.then((e=>{var s,o;if(!e){const e=Lb(t,r),a=null===(o=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===o||o;i.addIssue({code:"custom",...e,fatal:a})}}));if(!a){const e=Lb(t,r),a=null===(o=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===o||o;i.addIssue({code:"custom",...e,fatal:a})}})):nb.create()}Db.create=(e,t)=>new Db({innerType:e,typeName:Fb.ZodReadonly,..._y(t)});const Bb={object:cb.lazycreate};var Fb;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Fb||(Fb={}));const jb=$y.create,Ub=Wy.create,Hb=Pb.create,Vb=Jy.create,zb=Zy.create,qb=Yy.create,Gb=Xy.create,Qb=eb.create,$b=tb.create,Kb=nb.create,Wb=rb.create,Jb=ib.create,Zb=sb.create,Yb=ob.create,Xb=cb.create,ew=cb.strictCreate,tw=ub.create,nw=db.create,rw=fb.create,iw=pb.create,sw=mb.create,ow=gb.create,aw=vb.create,cw=yb.create,uw=bb.create,lw=wb.create,dw=Eb.create,hw=_b.create,fw=kb.create,pw=Ib.create,mw=Sb.create,gw=Tb.create,vw=Ib.createWithPreprocess,yw=Rb.create,bw={string:e=>$y.create({...e,coerce:!0}),number:e=>Wy.create({...e,coerce:!0}),boolean:e=>Zy.create({...e,coerce:!0}),bigint:e=>Jy.create({...e,coerce:!0}),date:e=>Yy.create({...e,coerce:!0})},ww=uy;var Aw=Object.freeze({__proto__:null,defaultErrorMap:ry,setErrorMap:function(e){iy=e},getErrorMap:sy,makeIssue:oy,EMPTY_PATH:[],addIssueToContext:ay,ParseStatus:cy,INVALID:uy,DIRTY:ly,OK:dy,isAborted:hy,isDirty:fy,isValid:py,isAsync:my,get util(){return Zv},get objectUtil(){return Yv},ZodParsedType:Xv,getParsedType:ey,ZodType:ky,datetimeRegex:zy,ZodString:$y,ZodNumber:Wy,ZodBigInt:Jy,ZodBoolean:Zy,ZodDate:Yy,ZodSymbol:Xy,ZodUndefined:eb,ZodNull:tb,ZodAny:nb,ZodUnknown:rb,ZodNever:ib,ZodVoid:sb,ZodArray:ob,ZodObject:cb,ZodUnion:ub,ZodDiscriminatedUnion:db,ZodIntersection:fb,ZodTuple:pb,ZodRecord:mb,ZodMap:gb,ZodSet:vb,ZodFunction:yb,ZodLazy:bb,ZodLiteral:wb,ZodEnum:Eb,ZodNativeEnum:_b,ZodPromise:kb,ZodEffects:Ib,ZodTransformer:Ib,ZodOptional:Sb,ZodNullable:Tb,ZodDefault:xb,ZodCatch:Cb,ZodNaN:Pb,BRAND:Nb,ZodBranded:Ob,ZodPipeline:Rb,ZodReadonly:Db,custom:Mb,Schema:ky,ZodSchema:ky,late:Bb,get ZodFirstPartyTypeKind(){return Fb},coerce:bw,any:Kb,array:Yb,bigint:Vb,boolean:zb,date:qb,discriminatedUnion:nw,effect:pw,enum:dw,function:cw,instanceof:function(e){return Mb((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:rw,lazy:uw,literal:lw,map:ow,nan:Hb,nativeEnum:hw,never:Jb,null:$b,nullable:gw,number:Ub,object:Xb,oboolean:()=>zb().optional(),onumber:()=>Ub().optional(),optional:mw,ostring:()=>jb().optional(),pipeline:yw,preprocess:vw,promise:fw,record:sw,set:aw,strictObject:ew,string:jb,symbol:Gb,transformer:pw,tuple:iw,undefined:Qb,union:tw,unknown:Wb,void:Zb,NEVER:ww,ZodIssueCode:ty,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:ny});const Ew=e=>e.message?e.message:"unspecified error";class _w extends om{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:\n${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(Ew)}}const kw=["bool","int","uint","bytes","string","address","tuple"],Iw=e=>"object"===typeof e&&"type"in e&&"name"in e,Sw=e=>"string"===typeof e,Tw=e=>"string"===typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function xw(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!("undefined"!==typeof t&&t>0&&e.length!==2+2*t)}const Cw=e=>"number"===typeof e||"bigint"===typeof e||"string"===typeof e&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function Pw(e){if("string"!==typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return e.startsWith("0x")}const Nw=function(e){for(const[t,n]of Object.entries(e))if(void 0!==n&&n.length>0&&0===n[0])throw new Error(`${t} cannot have leading zeroes, received: ${n.toString()}`)},Ow=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Rw=e=>{let t,n=e.replace(/ /,""),r=!1,i=[];if(e.includes("[")&&(n=n.slice(0,n.indexOf("[")),i=[...e.matchAll(/(?:\[(\d*)\])/g)].map((e=>parseInt(e[1],10))).map((e=>Number.isNaN(e)?-1:e)),r=i.length>0),kw.includes(n))return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:i};if(n.startsWith("int"))t=parseInt(n.substring(3),10),n="int";else if(n.startsWith("uint"))t=parseInt(e.substring(4),10),n="uint";else{if(!n.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};t=parseInt(n.substring(5),10),n="bytes"}return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:i}},Dw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).includes("type"))throw new _w([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:n,baseTypeSize:r}=Rw(e);if(!n&&!Ow.includes(e))throw new _w([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(n){if("tuple"===n)throw new Error('"tuple" type is not implemented directly.');return{format:`${n}${null!==r&&void 0!==r?r:""}`,required:!0}}return e?{format:e,required:!0}:{}},Lw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/0";const n={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[r,i]of e.entries()){let e,s,o=[];Iw(i)?(e=i.type,s=i.name||`${t}/${r}`,o=i.components):"string"===typeof i?(e=i,s=`${t}/${r}`):Array.isArray(i)&&(i[0]&&"string"===typeof i[0]&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(e=i[0],s=`${t}/${r}`,o=i[1]):(e="tuple",s=`${t}/${r}`,o=i));const{baseType:a,isArray:c,arraySizes:u}=Rw(e);let l,d=n;for(let t=u.length-1;t>0;t-=1)l={type:"array",$id:s,items:[],maxItems:u[t],minItems:u[t]},u[t]<0&&(delete l.maxItems,delete l.minItems),Array.isArray(d.items)?0===d.items.length?d.items=[l]:d.items.push(l):d.items=[d.items,l],d=l;if("tuple"!==a||c)if("tuple"===a&&c){const e=u[0],t=Object.assign({type:"array",$id:s,items:Lw(o,s)},e>=0&&{minItems:e,maxItems:e});d.items.push(t)}else if(c){const t=u[0],n=Object.assign({type:"array",$id:s,items:Dw(e)},t>=0&&{minItems:t,maxItems:t});d.items.push(n)}else Array.isArray(d.items),d.items.push(Object.assign({$id:s},Dw(e)));else{const e=Lw(o,s);e.$id=s,d.items.push(e)}d=n}return n},Mw=e=>Lw(e),Bw=(e,t)=>1===t?e:Bw(e[0],t-1),Fw=(e,t,n)=>{const r=[];for(const[i,s]of e.entries()){let e,o,a=[];Iw(s)?(e=s.type,o=s.name,a=s.components):"string"===typeof s?e=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(e=s[0],a=s[1]):(e="tuple",a=s));const{baseType:c,isArray:u,arraySizes:l}=Rw(e),d=Array.isArray(t)?t[i]:t[o];if("tuple"!==c||u)if("tuple"===c&&u){const e=[];for(const t of d)if(l.length>1){const r=Bw(t,l.length-1),i=[];for(const e of r)i.push(Fw(a,e,n));e.push(i)}else e.push(Fw(a,t,n));r.push(e)}else r.push(d);else r.push(Fw(a,d,n))}return(n=null!==n&&void 0!==n?n:[]).push(...r),n},jw=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`)},Uw=e=>{if(!Tw(e))throw new Error("Invalid hex string");const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?t?-r:r:r<Number.MIN_SAFE_INTEGER?r:t?-1*Number(r):Number(r)},Hw=e=>{if(("number"===typeof e||"bigint"===typeof e)&&e<0)return`-0x${e.toString(16).slice(1)}`;if(("number"===typeof e||"bigint"===typeof e)&&e>=0)return`0x${e.toString(16)}`;if("string"===typeof e&&Tw(e)){const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e];return`${t?"-":""}0x${n.split(/^(-)?0(x|X)/).slice(-1)[0].replace(/^0+/,"").toLowerCase()}`}if("string"===typeof e&&!Tw(e))return Hw(BigInt(e));throw new Tg(e)},Vw=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if("string"===typeof e&&!Tw(e))return e.padStart(t,n);const r="string"===typeof e&&Tw(e)?e:Hw(e),[i,s]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${i}${s.padStart(t,n)}`};function zw(e){let t="0x";for(const n of e){const e=n.toString(16);t+=1===e.length?`0${e}`:e}return t}const qw={zero:48,nine:57,A:65,F:70,a:97,f:102};function Gw(e){return e>=qw.zero&&e<=qw.nine?e-qw.zero:e>=qw.A&&e<=qw.F?e-(qw.A-10):e>=qw.a&&e<=qw.f?e-(qw.a-10):void 0}function Qw(e){let t=0;if(!e.startsWith("0")||"x"!==e[1]&&"X"!==e[1]||(t=2),e.length%2!==0)throw new Sg(`hex string has odd length: ${e}`);const n=(e.length-t)/2,r=new Uint8Array(n);for(let i=0,s=t;i<n;i+=1){const t=Gw(e.charCodeAt(s++)),n=Gw(e.charCodeAt(s++));if(void 0===t||void 0===n)throw new Sg(`Invalid byte sequence ("${e[s-2]}${e[s-1]}" in "${e}").`);r[i]=16*t+n}return r}function $w(e){var t;return e instanceof Uint8Array||"Uint8Array"!==(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)?e:Uint8Array.from(e)}const Kw=e=>{var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null===e||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name)},Ww=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"bytes"};if("string"!==typeof e&&!Array.isArray(e)&&!Kw(e))return!1;if("string"===typeof e&&Tw(e)&&e.startsWith("-"))return!1;if("string"===typeof e&&!Tw(e))return!1;if("string"===typeof e){if(e.length%2!==0)return!1;t=Qw(e)}else if(Array.isArray(e)){if(e.some((e=>e<0||e>255||!Number.isInteger(e))))return!1;t=new Uint8Array(e)}else t=e;if(null===n||void 0===n?void 0:n.abiType){const{baseTypeSize:e}=Rw(n.abiType);return!e||t.length===e}return!(null===n||void 0===n?void 0:n.size)||t.length===(null===n||void 0===n?void 0:n.size)},Jw=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),n=wv(t.toLowerCase()),r=zw(Jv($w(n))).slice(2);for(let i=0;i<40;i+=1)if(parseInt(r[i],16)>7&&t[i].toUpperCase()!==t[i]||parseInt(r[i],16)<=7&&t[i].toLowerCase()!==t[i])return!1;return!0},Zw=function(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!("string"!==typeof e&&!Kw(e))&&(t=Kw(e)?zw(e):"string"!==typeof e||Tw(e)||e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||(!n||Jw(t))))},Yw=(e,t)=>{if(t===BigInt(0))return BigInt(1);let n=e;for(let r=1;r<t;r+=1)n*=e;return n},Xw=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"uint"};if(!["number","string","bigint"].includes(typeof e)||"string"===typeof e&&0===e.length)return!1;if(null===n||void 0===n?void 0:n.abiType){const{baseTypeSize:e}=Rw(n.abiType);e&&(t=e)}else n.bitSize&&(t=n.bitSize);const r=Yw(BigInt(2),BigInt(null!==t&&void 0!==t?t:256))-BigInt(1);try{const t="string"===typeof e&&Tw(e)?BigInt(Uw(e)):BigInt(e);return t>=0&&t<=r}catch(i){return!1}},eA=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"int"};if(!["number","string","bigint"].includes(typeof e))return!1;if("number"===typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;if(null===n||void 0===n?void 0:n.abiType){const{baseTypeSize:e,baseType:r}=Rw(n.abiType);if("int"!==r)return!1;e&&(t=e)}else n.bitSize&&(t=n.bitSize);const r=Yw(BigInt(2),BigInt((null!==t&&void 0!==t?t:256)-1)),i=BigInt(-1)*Yw(BigInt(2),BigInt((null!==t&&void 0!==t?t:256)-1));try{const t="string"===typeof e&&Tw(e)?BigInt(Uw(e)):BigInt(e);return t>=i&&t<=r}catch(s){return!1}},tA=e=>!!eA(e)||(!("string"!==typeof e||!/[0-9.]/.test(e)||e.indexOf(".")!==e.lastIndexOf("."))||"number"===typeof e),nA=e=>Xw(e),rA=e=>Object.values(Mp).includes(e),iA=e=>rA(e)||nA(e),sA=e=>"string"===typeof e&&(!!/^(0x)?[0-9a-f]{512}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e))),oA=(e,t)=>{if("string"===typeof t&&!Tw(t))return!1;if(!sA(e))return!1;const n="string"===typeof t?Qw(t):t,r=zw(Jv(n)).slice(2);for(let i=0;i<12;i+=4){const t=(parseInt(r.slice(i,i+2),16)<<8)+parseInt(r.slice(i+2,i+4),16)&2047,n=1<<t%4;if((jw(e.charCodeAt(e.length-1-Math.floor(t/4)))&n)!==n)return!1}return!0},aA=e=>void 0===e||null===e,cA=e=>"object"===typeof e&&!aA(e)&&!Array.isArray(e)&&!(e instanceof Fp),uA=e=>"string"===typeof e&&(!!/^(0x)?[0-9a-f]{64}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e))),lA={address:e=>Zw(e),bloom:e=>sA(e),blockNumber:e=>nA(e),blockTag:e=>rA(e),blockNumberOrTag:e=>iA(e),bool:e=>{return!!["number","string","boolean"].includes(typeof(t=e))&&("boolean"===typeof t||("string"!==typeof t||Tw(t)?"string"===typeof t&&Tw(t)?"0x1"===t||"0x0"===t:1===t||0===t:"1"===t||"0"===t));var t},bytes:e=>Ww(e),filter:e=>(e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(aA(e)||"object"!==typeof e)return!1;if(!Object.keys(e).every((e=>t.includes(e))))return!1;if(!aA(e.fromBlock)&&!iA(e.fromBlock)||!aA(e.toBlock)&&!iA(e.toBlock))return!1;if(!aA(e.address))if(Array.isArray(e.address)){if(!e.address.every((e=>Zw(e))))return!1}else if(!Zw(e.address))return!1;return!(!aA(e.topics)&&!e.topics.every((e=>!!aA(e)||(Array.isArray(e)?e.every((e=>uA(e))):!!uA(e)))))})(e),hex:e=>Tw(e),uint:e=>Xw(e),int:e=>eA(e),number:e=>tA(e),string:e=>Sw(e)};for(let n=8;n<=256;n+=8)lA[`int${n}`]=e=>eA(e,{bitSize:n}),lA[`uint${n}`]=e=>Xw(e,{bitSize:n});for(let n=1;n<=32;n+=1)lA[`bytes${n}`]=e=>Ww(e,{size:n});lA.bytes256=lA.bytes;const dA=lA,hA=e=>{if((!(null===e||void 0===e?void 0:e.type)||"object"===(null===e||void 0===e?void 0:e.type))&&(null===e||void 0===e?void 0:e.properties)){const t={};for(const n of Object.keys(e.properties)){const r=hA(e.properties[n]);r&&(t[n]=r)}return Array.isArray(e.required)?Aw.object(t).partial().required(e.required.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:!0})),{})):Aw.object(t).partial()}if("array"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map((e=>e.$id))).size===e.items.length){const t=[];for(const n of e.items){const e=hA(n);e&&t.push(e)}return Aw.tuple(t)}const t=Array.isArray(e.items)?e.items[0]:e.items;let n=Aw.array(hA(t));return n=void 0!==e.minItems?n.min(e.minItems):n,n=void 0!==e.maxItems?n.max(e.maxItems):n,n}if(e.oneOf&&Array.isArray(e.oneOf))return Aw.union(e.oneOf.map((e=>hA(e))));if(null===e||void 0===e?void 0:e.format){if(!dA[e.format])throw new Wg(e.format);return Aw.any().refine(dA[e.format],(t=>({params:{value:t,format:e.format}})))}return(null===e||void 0===e?void 0:e.type)&&"object"!==(null===e||void 0===e?void 0:e.type)&&"function"===typeof Aw[String(e.type)]?Aw[String(e.type)]():Aw.object({data:Aw.any()}).partial()};class fA{static factory(){return fA.validatorInstance||(fA.validatorInstance=new fA),fA.validatorInstance}validate(e,t,n){var r,i;const s=hA(e).safeParse(t);if(!s.success){const e=this.convertErrors(null!==(i=null===(r=s.error)||void 0===r?void 0:r.issues)&&void 0!==i?i:[]);if(e){if(null===n||void 0===n?void 0:n.silent)return e;throw new _w(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map((e=>{var t;let n,r,i,s;s=e.path.join("/");const o=String(e.path[e.path.length-1]),a=e.path.join("/");if(e.code===ty.too_big)r="maxItems",s=`${a}/maxItems`,i={limit:e.maximum},n=`must NOT have more than ${e.maximum} items`;else if(e.code===ty.too_small)r="minItems",s=`${a}/minItems`,i={limit:e.minimum},n=`must NOT have fewer than ${e.minimum} items`;else if(e.code===ty.custom){const{value:r,format:o}=null!==(t=e.params)&&void 0!==t?t:{};n="undefined"===typeof r?`value at "/${s}" is required`:`value "${"object"===typeof r?JSON.stringify(r):r}" at "/${s}" must pass "${o}" validation`,i={value:r}}return{keyword:null!==r&&void 0!==r?r:o,instancePath:a?`/${a}`:"",schemaPath:s?`#${s}`:"#",params:null!==i&&void 0!==i?i:{value:e.message},message:null!==n&&void 0!==n?n:e.message}}))}}const pA=new class{constructor(){this._validator=fA.factory()}validateJSONSchema(e,t,n){return this._validator.validate(e,t,n)}validate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{silent:!1};var r,i;const s=Mw(e);if(!Array.isArray(s.items)||0!==(null===(r=s.items)||void 0===r?void 0:r.length)||0!==t.length){if(Array.isArray(s.items)&&0===(null===(i=s.items)||void 0===i?void 0:i.length)&&0!==t.length)throw new _w([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(s,t,n)}}};function mA(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null===e||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name)}function gA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(r);let s=0;for(const o of t)i.set(o,s),s+=o.length;return i}function vA(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n+=1)if(e[n]!==t[n])return!1;return!0}const yA={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},bA="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",wA=e=>{if(pA.validate(["bytes"],[e]),mA(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"===typeof e)return Qw(e);throw new Sg(e)},{uint8ArrayToHexString:AA}=e,EA=e=>AA(wA(e)),_A=e=>"string"===typeof e&&"0x"!==e.slice(0,2).toLowerCase()?wA(`0x${e}`):wA(e),kA=e=>(pA.validate(["hex"],[e]),Uw(e)),IA=kA,SA=(e,t)=>{"bigint"!==typeof e&&pA.validate(["int"],[e]);let n=Hw(e);return t&&(n.startsWith("-")||n.length%2!==1?n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n},TA=SA,xA=e=>kA(e).toString(),CA=e=>{pA.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),EA((new TextEncoder).encode(t))},PA=CA,NA=CA,OA=e=>Kv(_A(e)),RA=e=>"string"===typeof e?OA(e):(pA.validate(["bytes"],[e]),Kv(e)),DA=wv,LA=OA,MA=e=>{pA.validate(["string"],[e]);let t="";for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n).toString(16);t+=r.length%2!==0?`0${r}`:r}return`0x${t}`},BA=MA,FA=e=>new TextDecoder("ascii").decode(_A(e)),jA=FA,UA=(e,t)=>{if("string"===typeof e&&Zw(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"===typeof e)return t?"bool":e?"0x01":"0x00";if("number"===typeof e)return t?e<0?"int256":"uint256":SA(e);if("bigint"===typeof e)return t?"bigint":SA(e);if(mA(e))return t?"bytes":EA(e);if("object"===typeof e&&e)return t?"string":CA(JSON.stringify(e));if("string"===typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":SA(e);if(Tw(e))return t?"bytes":e;if(Cw(e)&&!eA(e)&&!Xw(e))return t?"bytes":`0x${e}`;if(Cw(e)&&!eA(e)&&Xw(e))return t?"uint":SA(e);if(!Number.isFinite(e))return t?"string":CA(e)}throw new Og(e)},HA=e=>{if("number"===typeof e)return e>1e20?(console.warn(bA),BigInt(e)):e;if("bigint"===typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"===typeof e&&Tw(e))return kA(e);try{return HA(BigInt(e))}catch(s_){throw new Tg(e)}},VA=e=>{if("number"===typeof e)return BigInt(e);if("bigint"===typeof e)return e;if("string"===typeof e&&Cw(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new Tg(e)},zA=(e,t)=>{let n;if("string"===typeof t){if(n=yA[t],!n)throw new Pg(t)}else{if(t<0||!Number.isInteger(t))throw new Ng(t);n=Yw(BigInt(10),BigInt(t))}const r=String(HA(e)),i=n.toString().length-1;if(i<=0)return r.toString();const s=r.padStart(i,"0"),o=s.slice(0,-i),a=s.slice(-i).replace(/\.?0+$/,"");if(""===o)return a?`0.${a}`:"0";if(""===a)return o;return`${o}.${a}`.slice(0,o.length+i+1)},qA=(e,t)=>{let n;if(pA.validate(["number"],[e]),"string"===typeof t){if(n=yA[t],!n)throw new Pg(t)}else{if(t<0||!Number.isInteger(t))throw new Ng(t);n=Yw(BigInt(10),BigInt(t))}let r=e;"number"===typeof r&&(r<1e-15&&console.warn(bA),r>1e20?(console.warn(bA),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[i,s]=String("string"!==typeof r||Tw(r)?HA(r):r).split(".").concat(""),o=BigInt(`${i}${s}`)*n,a=s.length;return 0===a?o.toString():o.toString().slice(0,-a)},GA=e=>{if(!Zw(e,!1))throw new xg(e);const t=e.toLowerCase().replace(/^0x/i,""),n=zw(Jv($w(DA(t))));if(aA(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<t.length;s+=1)parseInt(i[s],16)>7?r+=t[s].toUpperCase():r+=t[s];return r},QA=e=>{if("boolean"===typeof e)return e;if("number"===typeof e&&(0===e||1===e))return Boolean(e);if("bigint"===typeof e&&(e===BigInt(0)||e===BigInt(1)))return Boolean(e);if("string"===typeof e&&!Tw(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&Boolean(Number(e));if("string"===typeof e&&Tw(e)&&("0x1"===e||"0x0"===e))return Boolean(HA(e));throw new Dg(e)};var $A=n(926);const KA=$A;class WA extends KA{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const JA=Tw,ZA=Cw,YA=Jw,XA=Zw,eE=sA,tE=oA,nE=(e,t)=>{if(!sA(e))return!1;if(!Zw(t))return!1;const n=Vw(t,64);return oA(e,n)},rE=(e,t)=>!!sA(e)&&(!!Zw(t)&&oA(e,t)),iE=uA,sE=(e,t)=>!!sA(e)&&(!!uA(t)&&oA(e,t)),oE=(e,t)=>{const n="string"===typeof e&&rA(e),r="string"===typeof t&&rA(t);if(e===t||("earliest"===e||0===e)&&("earliest"===t||0===t))return 0;if("earliest"===e)return-1;if("earliest"===t)return 1;if(n&&r){const n={[Mp.EARLIEST]:1,[Mp.FINALIZED]:2,[Mp.SAFE]:3,[Mp.LATEST]:4,[Mp.PENDING]:5};return n[e]<n[t]?-1:1}if(n&&!r||!n&&r)throw new Fg("Cannot compare blocktag with provided non-blocktag input.");const i=BigInt(e),s=BigInt(t);return i<s?-1:i===s?0:1},aE=e=>"object"===typeof e&&!aA(e)&&0!==Object.keys(e).length&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some((t=>t in e)),cE=aA,uE=e=>"object"===typeof e&&!aA(e)&&!Array.isArray(e)&&!(e instanceof Fp),lE=function(e){if(!uE(e))return e;const t=Object.assign({},e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)for(const e in s)uE(s[e])?(t[e]||(t[e]={}),t[e]=lE(t[e],s[e])):!aA(s[e])&&Object.hasOwnProperty.call(s,e)&&(Array.isArray(s[e])||s[e]instanceof Fp?t[e]=s[e].slice(0):t[e]=s[e]);return t},dE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"string"===typeof e?Tw(e)?Vw(e,t,n):e.padStart(t,n):(pA.validate(["int"],[e]),Vw(e,t,n))},hE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if("string"===typeof e&&!Tw(e))return e.padEnd(t,n);const r="string"===typeof e&&Tw(e)?e:SA(e),i=r.startsWith("-")?3:2;return pA.validate([r.startsWith("-")?"int":"uint"],[e]),r.padEnd(t+i,n)},fE=hE,pE=dE,mE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;pA.validate(["int"],[e]);const n=HA(e);if(n>=0)return dE(UA(n),t);const r=Yw(BigInt(2),BigInt(4*t));if(-n>=r)throw new Rg(`value: ${e}, nibbleWidth: ${t}`);const i=BigInt(n);return dE(SA(i+r),t)},gE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;pA.validate(["int"],[e]);const n=HA(e);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>4*t)throw new Rg(`value: "${e}", nibbleWidth: "${t}"`);if(4*t!==r)return n;const i=Yw(BigInt(2),BigInt(t)*BigInt(4));return HA(BigInt(n)-i)},{parseBaseType:vE}=e,yE=e=>"object"===typeof e&&!aA(e)&&"number"in e&&"bytes"in e,bE=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e);for(const s of t){if(i.oneOf&&n){const e=n,t=r.find((t=>{let[n]=t;return n===e}));t&&t[0]===n&&(i=i.oneOf[t[1]])}if(!i.properties&&!i.items)return;if(i.properties)i=i.properties[s];else if(i.items&&i.items.properties){i=i.items.properties[s]}else i.items&&cA(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(s,10)]);i&&s&&(n=s)}return i},wE=(e,t,n)=>{try{const{baseType:r,baseTypeSize:i}=vE(t);if("int"===r||"uint"===r)switch(n.number){case Op.NUMBER:return Number(VA(e));case Op.HEX:return SA(VA(e));case Op.STR:return VA(e).toString();case Op.BIGINT:return VA(e);default:throw new Nm(`Invalid format: ${String(n.number)}`)}if("bytes"===r){let t;switch(i?"string"===typeof e?t=dE(e,2*i):mA(e)&&(t=gA(new Uint8Array(i-e.length),e)):t=e,n.bytes){case Rp.HEX:return EA(wA(t));case Rp.UINT8ARRAY:return wA(t);default:throw new Nm(`Invalid format: ${String(n.bytes)}`)}}if("string"===r)return String(e)}catch(r){return e}return e},AE=e=>{let{value:t,schemaProp:n,schema:r,object:i,key:s,dataPath:o,format:a,oneOfPath:c=[]}=e;var u,l;if(Array.isArray(t)){let e=n;if(void 0!==(null===n||void 0===n?void 0:n.oneOf)&&n.oneOf.forEach(((r,i)=>{var o,a;!Array.isArray(null===n||void 0===n?void 0:n.items)&&("object"===typeof t[0]&&"object"===(null===(o=null===r||void 0===r?void 0:r.items)||void 0===o?void 0:o.type)||"string"===typeof t[0]&&"object"!==(null===(a=null===r||void 0===r?void 0:r.items)||void 0===a?void 0:a.type))&&(e=r,c.push([s,i]))})),aA(null===e||void 0===e?void 0:e.items))return delete i[s],o.pop(),!0;if(cA(e.items)&&!aA(e.items.format)){for(let n=0;n<t.length;n+=1)i[s][n]=wE(t[n],null===(u=null===e||void 0===e?void 0:e.items)||void 0===u?void 0:u.format,a);return o.pop(),!0}if(!Array.isArray(null===e||void 0===e?void 0:e.items)&&"object"===(null===(l=null===e||void 0===e?void 0:e.items)||void 0===l?void 0:l.type)){for(const e of t)EE(e,r,o,a,c);return o.pop(),!0}if(Array.isArray(null===e||void 0===e?void 0:e.items)){for(let n=0;n<t.length;n+=1)i[s][n]=wE(t[n],e.items[n].format,a);return o.pop(),!0}}return!1},EE=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];var s;if(!cA(e)&&!Array.isArray(e))return wE(e,null===t||void 0===t?void 0:t.format,r);const o=e;if(Array.isArray(o)&&"array"===(null===t||void 0===t?void 0:t.type)&&"object"===(null===(s=null===t||void 0===t?void 0:t.items)||void 0===s?void 0:s.type))AE({value:o,schemaProp:t,schema:t,object:o,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,c]of Object.entries(o)){n.push(a);let e=bE(t,n,i);if(aA(e))delete o[a],n.pop();else if(cA(c))EE(c,t,n,r,i),n.pop();else if(!AE({value:c,schemaProp:e,schema:t,object:o,key:a,dataPath:n,format:r,oneOfPath:i})){if(void 0===(null===e||void 0===e?void 0:e.format)&&void 0!==(null===e||void 0===e?void 0:e.oneOf))for(const[t,n]of e.oneOf.entries())if(void 0!==(null===n||void 0===n?void 0:n.format)){e=n;break}o[a]=wE(c,e.format,r),n.pop()}}return o},_E=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dp;n=cA(t)?lE({},t):Array.isArray(t)?[...t]:t;const i=cA(e)?e:Mw(e);if(!i.properties&&!i.items&&!i.format)throw new Nm("Invalid json schema for formatting");return EE(n,i,[],r)},kE="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",IE=e=>{let t;return t="bigint"===typeof e||"number"===typeof e?wv(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!==typeof e||Tw(e)?wA(e):wv(e),EA(Jv($w(t)))},SE=e=>{let t;t="string"===typeof e?e.startsWith("0x")&&Tw(e)?_A(e):wv(e):e;const n=IE(t);return n===kE?void 0:n},TE=e=>{const t=SE(e);return aA(t)?kE:t},xE=(e,t)=>{const n=/^(\d+).*$/.exec(e.slice(t));return n?parseInt(n[1],10):0},CE=e=>e.toString(2).length,PE=(e,t)=>{const n=t.toString();if("string"===e){if("string"===typeof t)return CA(t);throw new Cg(t)}if("bool"===e||"boolean"===e){if("boolean"===typeof t)return t?"01":"00";throw new Dg(t)}if("address"===e){if(!Zw(n))throw new xg(n);return n}const r=(e=>e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:"uint"===e?"uint256":e)(e);if(e.startsWith("uint")){const e=xE(r,4);if(e%8||e<8||e>256)throw new Mg(n);const t=HA(n);if(CE(t)>e)throw new Bg(n);if(t<BigInt(0))throw new Lg(n);return e?pE(t.toString(16),e/8*2):t.toString(16)}if(e.startsWith("int")){const t=xE(r,3);if(t%8||t<8||t>256)throw new Mg(e);const i=HA(n);if(CE(i)>t)throw new Bg(n);return i<BigInt(0)?mE(i.toString(),t/8*2):t?pE(i.toString(16),t/4):i.toString(16)}if("bytes"===r){if(n.replace(/^0x/i,"").length%2!==0)throw new Sg(n);return n}if(e.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new Sg(n);const t=xE(e,5);if(!t||t<1||t>64||t<n.replace(/^0x/i,"").length/2)throw new Sg(n);return fE(n,2*t)}return""},NE=e=>{const[t,n]=(e=>{if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");let t,n;if("object"===typeof e&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,n="v"in e?e.v:e.value,t="bigint"===t.toLowerCase()?"int":t;else{if("bigint"===typeof e)return["int",e];t=UA(e,!0),n=UA(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")}return!t.startsWith("int")&&!t.startsWith("uint")||"string"!==typeof n||/^(-)?0x/i.test(n)||(n=VA(n)),[t,n]})(e);if(Array.isArray(n)){const e=n.map((e=>PE(t,e).replace("0x","")));return e.join("")}return PE(t,n).replace("0x","")},OE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`0x${t.map(NE).join("").toLowerCase()}`},RE=function(){return SE(OE(...arguments))},DE=function(){return TE(OE(...arguments))},LE=e=>SE(`0x${("number"===typeof e?e.toString():e).padStart(64,"0")}`);const ME=e=>function(e){return Tv(e)}(e),BE=e=>EA(ME(e));var FE=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function jE(e){return("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}function UE(e,t,n){return FE(this,void 0,void 0,(function*(){let r;const i=yield Promise.race([e instanceof Promise?e:e(),new Promise(((e,i)=>{r=setTimeout((()=>n?i(n):e(void 0)),t)}))]);if(r&&clearTimeout(r),i instanceof Error)throw i;return i}))}function HE(e,t){let n;return[new Promise(((r,i)=>{n=setInterval(function s(){return(()=>{FE(this,void 0,void 0,(function*(){try{const i=yield UE(e,t);aA(i)||(clearInterval(n),r(i))}catch(s){clearInterval(n),i(s)}}))})(),s}(),t)})),n]}function VE(e,t){return FE(this,void 0,void 0,(function*(){return HE(e,t)[0]}))}function zE(e,t){let n;const r=new Promise(((r,i)=>{n=setTimeout((()=>{i(t)}),e)}));return[n,r]}function qE(e,t){let n;const r=new Promise(((r,i)=>{n=setInterval((()=>{(()=>{FE(this,void 0,void 0,(function*(){const t=yield e();t&&(clearInterval(n),i(t))}))})()}),t)}));return[n,r]}const GE=()=>{const e=ME(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=EA(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},QE=e=>{const t=e.error.code;return Kg.has(t)||t>=-32099&&t<=-32e3},$E=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&aA(e.error)&&("number"===typeof e.id||"string"===typeof e.id),KE=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&aA(e.result)&&"error"in e&&("number"===typeof e.id||"string"===typeof e.id),WE=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&!aA(e.params)&&!aA(e.method),JE=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e,ZE=e=>$E(e)||KE(e),YE=e=>Array.isArray(e)?e.every(ZE):ZE(e),XE=e=>Array.isArray(e)&&e.length>0&&YE(e);let e_;const t_=e=>{e_=e},n_=e=>{var t,n,r,i;return"undefined"!==typeof e_&&(e_+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(r=null!==(n=e.id)&&void 0!==n?n:e_)&&void 0!==r?r:GE(),method:e.method,params:null!==(i=e.params)&&void 0!==i?i:void 0}},r_=e=>e.map((e=>n_(e))),i_=e=>Array.isArray(e)&&e.length>0;var s_,o_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class a_{constructor(){let{timeout:e,eagerStart:t,timeoutMessage:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"};this[s_]="Promise",this._state="pending",this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),this._timeoutMessage=n,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return o_(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return o_(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return o_(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new Rm(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}s_=Symbol.toStringTag;class c_{constructor(e,t){this.eventEmitter=e,this.autoReconnect=t,this.chunkTimeout=15e3}clearQueues(){"function"===typeof this._clearQueues&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((e=>{let n,r=e;this.lastChunk&&(r=this.lastChunk+r);try{n=JSON.parse(r)}catch(i){return this.lastChunk=r,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),void(this.lastChunkTimeout=setTimeout((()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new Hg({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))}),this.chunkTimeout))}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,n&&t.push(n)})),t}}var u_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class l_ extends Hp{constructor(){super(...arguments),this._eventEmitter=new $A,this._chainId="",this._accounts=[]}_getChainId(){return u_(this,void 0,void 0,(function*(){var e;const t=yield this.request(n_({method:"eth_chainId",params:[]}));return null!==(e=null===t||void 0===t?void 0:t.result)&&void 0!==e?e:""}))}_getAccounts(){return u_(this,void 0,void 0,(function*(){var e;const t=yield this.request(n_({method:"eth_accounts",params:[]}));return null!==(e=null===t||void 0===t?void 0:t.result)&&void 0!==e?e:[]}))}_onConnect(){Promise.all([this._getChainId().then((e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))})).catch((e=>{console.error(e)})),this._getAccounts().then((e=>{this._accounts.length===e.length&&e.every((t=>e.includes(t)))||(this._accounts=e,this._onAccountsChanged())})).catch((e=>{console.error(e)}))]).then((()=>this._eventEmitter.emit("connect",{chainId:this._chainId}))).catch((e=>{console.error(e)}))}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new $g(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var d_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const h_={autoReconnect:!0,delay:5e3,maxAttempts:5};class f_ extends l_{get SocketConnection(){return this._socketConnection}constructor(e,t,n){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new Fm(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},h_),null!==n&&void 0!==n?n:{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new c_(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError((()=>{this._clearQueues()})),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(!this.isReconnecting)throw this._connectionStatus="disconnected",e&&e.message?new ym(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new Fm(this._socketPath);setImmediate((()=>{this._reconnect()}))}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){const n=null!==e&&void 0!==e?e:1e3;this._removeSocketListeners(),"disconnected"!==this.getStatus()&&this._closeSocketConnection(n,t),this._onDisconnect(n,t)}safeDisconnect(e,t){return d_(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return function*(){let s=0;yield d_(n,void 0,void 0,(function*(){return new Promise((e=>{const t=setInterval((()=>{r&&s>=5&&this.clearQueues(),0===this.getPendingRequestQueueSize()&&0===this.getSentRequestsQueueSize()&&(clearInterval(t),e(!0)),s+=1}),i)}))})),n.disconnect(e,t)}()}))}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((e,t)=>{e.deferredPromise.reject(new Am),this._sentRequestsQueue.delete(t)})),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout((()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1}),this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new wm(this._reconnectOptions.maxAttempts))))}request(e){return d_(this,void 0,void 0,(function*(){if(cE(this._socketConnection))throw new Error("Connection is undefined");"disconnected"===this.getStatus()&&this.connect();const t=i_(e)?e[0].id:e.id;if(!t)throw new Um("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new Em(t);const n=new a_;n.catch((e=>{this._eventEmitter.emit("error",e)}));const r={payload:e,deferredPromise:n};if("connecting"===this.getStatus())return this._pendingRequestsQueue.set(t,r),r.deferredPromise;this._sentRequestsQueue.set(t,r);try{this._sendToSocket(r.payload)}catch(i){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",i)}return n}))}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[t,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(t),this._sentRequestsQueue.set(t,n)}catch(e){this._pendingRequestsQueue.delete(t),this._eventEmitter.emit("error",e)}}_onMessage(e){const t=this._parseResponses(e);if(!cE(t)&&0!==t.length)for(const n of t){if(WE(n)&&n.method.endsWith("_subscription"))return void this._eventEmitter.emit("message",n);const e=XE(n)?n[0].id:n.id,t=this._sentRequestsQueue.get(e);if(!t)return;(XE(n)||$E(n)||KE(n))&&(this._eventEmitter.emit("message",n),t.deferredPromise.resolve(n)),this._sentRequestsQueue.delete(e)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach(((t,n)=>{t.deferredPromise.reject(new bm(e)),this._pendingRequestsQueue.delete(n)})),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((t,n)=>{t.deferredPromise.reject(new bm(e)),this._sentRequestsQueue.delete(n)})),this._removeSocketListeners()}}class p_{constructor(){this._emitter=new WA}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var m_;!function(e){e.CONFIG_CHANGE="CONFIG_CHANGE"}(m_||(m_={}));class g_ extends p_{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:UA(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Dp,ignoreGasPricing:!1},this.setConfig(null!==e&&void 0!==e?e:{})}setConfig(e){const t=Object.keys(e);for(const n of t)this._triggerConfigChange(n,e[n]),cE(e[n])||"number"!==typeof e[n]||"maxListenersWarningThreshold"!==n||this.setMaxListenerWarningThreshold(Number(e[n]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!cE(this.config.defaultCommon)&&!cE(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new zg(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!cE(this.config.defaultCommon)&&!cE(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new Vg(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!cE(this.config.defaultHardfork)&&!cE(e)&&!cE(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new Vg(this.config.defaultHardfork,e.hardfork);if(!cE(this.config.defaultChain)&&!cE(e)&&!cE(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new zg(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,t){this.emit(m_.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}var v_=n(38),y_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class b_ extends Hp{constructor(e,t){if(super(),!b_.validateClientUrl(e))throw new Fm(e);this.clientUrl=e,this.httpProviderOptions=t}static validateClientUrl(e){return"string"===typeof e&&/^http(s)?:\/\//i.test(e)}getStatus(){throw new Om}supportsSubscriptions(){return!1}request(e,t){var n;return y_(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},null===(n=this.httpProviderOptions)||void 0===n?void 0:n.providerOptions),t),i=yield v_(this.clientUrl,Object.assign(Object.assign({},r),{method:"POST",headers:Object.assign(Object.assign({},r.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new Ug(yield i.json(),void 0,void 0,i.status);return yield i.json()}))}on(){throw new Om}removeListener(){throw new Om}once(){throw new Om}removeAllListeners(){throw new Om}connect(){throw new Om}disconnect(){throw new Om}reset(){throw new Om}reconnect(){throw new Om}}var w_=null;"undefined"!==typeof WebSocket?w_=WebSocket:"undefined"!==typeof MozWebSocket?w_=MozWebSocket:"undefined"!==typeof n.g?w_=n.g.WebSocket||n.g.MozWebSocket:"undefined"!==typeof window?w_=window.WebSocket||window.MozWebSocket:"undefined"!==typeof self&&(w_=self.WebSocket||self.MozWebSocket);const A_=w_;class E_ extends f_{constructor(e,t,n){super(e,t,n)}_validateProviderPath(e){return"string"===typeof e&&/^ws(s)?:\/\//i.test(e)}getStatus(){if(this._socketConnection&&!cE(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new A_(this._socketPath,void 0,this._socketOptions&&0===Object.keys(this._socketOptions).length?void 0:this._socketOptions)}_closeSocketConnection(e,t){var n;null===(n=this._socketConnection)||void 0===n||n.close(e,t)}_sendToSocket(e){var t;if("disconnected"===this.getStatus())throw new bm;null===(t=this._socketConnection)||void 0===t||t.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,t,n,r;null===(e=this._socketConnection)||void 0===e||e.addEventListener("open",this._onOpenHandler),null===(t=this._socketConnection)||void 0===t||t.addEventListener("message",this._onMessageHandler),null===(n=this._socketConnection)||void 0===n||n.addEventListener("close",(e=>this._onCloseHandler(e))),null===(r=this._socketConnection)||void 0===r||r.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,t,n;null===(e=this._socketConnection)||void 0===e||e.removeEventListener("message",this._onMessageHandler),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("open",this._onOpenHandler),null===(n=this._socketConnection)||void 0===n||n.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var t;!this._reconnectOptions.autoReconnect||[1e3,1001].includes(e.code)&&e.wasClean?(this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("error",this._onErrorHandler)):this._reconnect()}}const __=e=>Hp.isWeb3Provider(e),k_=e=>"string"!==typeof e&&"request"in e&&"Function"===e.request.constructor.name,I_=e=>"string"!==typeof e&&"request"in e&&"AsyncFunction"===e.request.constructor.name,S_=e=>"string"!==typeof e&&"send"in e,T_=e=>"string"!==typeof e&&"sendAsync"in e,x_=e=>e&&(__(e)||I_(e)||k_(e)||T_(e)||S_(e));var C_,P_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.PROVIDER_CHANGED="PROVIDER_CHANGED",e.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"}(C_||(C_={}));const N_={HttpProvider:b_,WebsocketProvider:E_};class O_ extends p_{constructor(e,t,n){super(),cE(e)||this.setProvider(e),this.useRpcCallSpecification=t,cE(n)||(this.middleware=n)}static get providers(){return N_}get provider(){return this._provider}get providers(){return N_}setProvider(e){let t;if(e&&"string"===typeof e&&this.providers)if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else{if(!/^ws(s)?:\/\//i.test(e))throw new Bm(`Can't autodetect provider for "${e}"`);t=new this.providers.WebsocketProvider(e)}else t=cE(e)?void 0:e;return this.emit(C_.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(C_.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return P_(this,void 0,void 0,(function*(){const t=Object.assign({},e);let n=yield this._sendRequest(t);if(cE(this.middleware)||(n=yield this.middleware.processResponse(n)),$E(n))return n.result;throw new Ug(n)}))}sendBatch(e){return P_(this,void 0,void 0,(function*(){return yield this._sendRequest(e)}))}_sendRequest(e){return P_(this,void 0,void 0,(function*(){const{provider:t}=this;if(cE(t))throw new Bm("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let n=i_(e)?r_(e):n_(e);if(cE(this.middleware)||(n=yield this.middleware.processRequest(n)),__(t)){let e;try{e=yield t.request(n)}catch(r){e=r}return this._processJsonRpcResponse(n,e,{legacy:!1,error:!1})}if(I_(t))return t.request(n).then((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!0})));if(k_(t))return new Promise(((e,r)=>{const i=e=>{r(this._processJsonRpcResponse(n,e,{legacy:!0,error:!0}))},s=t=>e(this._processJsonRpcResponse(n,t,{legacy:!0,error:!1})),o=t.request(n,((e,t)=>e?i(e):s(t)));if(jE(o)){o.then(s).catch((e=>{try{const t=this._processJsonRpcResponse(n,e,{legacy:!0,error:!0});r(t)}catch(t){r(t)}}))}}));if(S_(t))return new Promise(((e,r)=>{t.send(n,((t,i)=>{if(t)return r(this._processJsonRpcResponse(n,t,{legacy:!0,error:!0}));if(cE(i))throw new Ug({},'Got a "nullish" response from provider.');return e(this._processJsonRpcResponse(n,i,{legacy:!0,error:!1}))}))}));if(T_(t))return t.sendAsync(n).then((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!0})));throw new Bm("Provider does not have a request or send method to use.")}))}_processJsonRpcResponse(e,t,n){let{legacy:r,error:i}=n;if(cE(t))return this._buildResponse(e,null,i);if(KE(t)){if(this.useRpcCallSpecification&&QE(t)){const e=t;if(Kg.get(e.error.code)){throw new(0,Kg.get(e.error.code).error)(e)}throw new Qg(e)}if(!O_._isReverted(t))throw new Hg(t,e)}if($E(t))return t;if(t instanceof Error)throw O_._isReverted(t),t;if(!r&&i_(e)&&XE(t))return t;if(r&&!i&&i_(e))return t;if(r&&i&&i_(e))throw t;if(r&&!KE(t)&&!$E(t))return this._buildResponse(e,t,i);if(i_(e)&&!Array.isArray(t))throw new Ug(t,"Got normal response for a batch request.");if(!i_(e)&&Array.isArray(t))throw new Ug(t,"Got batch response for a normal request.");throw new Ug(t,"Invalid response")}static _isReverted(e){let t;if(KE(e)?t=e.error:e instanceof Error&&(t=e),null===t||void 0===t?void 0:t.message.includes("revert"))throw new Sm(t);return!1}_buildResponse(e,t,n){const r={jsonrpc:"2.0",id:i_(e)?e[0].id:"id"in e?e.id:null};return n?Object.assign(Object.assign({},r),{error:t}):Object.assign(Object.assign({},r),{result:t})}}var R_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class D_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=n,this._subscriptions=new Map,this.requestManager.on(C_.BEFORE_PROVIDER_CHANGE,(()=>R_(this,void 0,void 0,(function*(){yield this.unsubscribe()})))),this.requestManager.on(C_.PROVIDER_CHANGED,(()=>{this.clear(),this.listenToProviderEvents()})),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;this.requestManager.provider&&("function"!==typeof(null===e||void 0===e?void 0:e.supportsSubscriptions)||(null===e||void 0===e?void 0:e.supportsSubscriptions()))&&"function"===typeof this.requestManager.provider.on&&("function"===typeof this.requestManager.provider.request?this.requestManager.provider.on("message",(e=>this.messageListener(e))):e.on("data",(e=>this.messageListener(e))))}messageListener(e){var t,n,r;if(!e)throw new jm("Should not call messageListener with no data. Type was");const i=(null===(t=e.params)||void 0===t?void 0:t.subscription)||(null===(n=e.data)||void 0===n?void 0:n.subscription)||(null===(r=e.id)||void 0===r?void 0:r.toString(16));if(i){const t=this._subscriptions.get(i);null===t||void 0===t||t.processSubscriptionData(e)}}subscribe(e,t){return R_(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dp;return function*(){const i=n.registeredSubscriptions[e];if(!i)throw new jm("Invalid subscription type");const s=new i(null!==t&&void 0!==t?t:void 0,{subscriptionManager:n,returnFormat:r});return yield n.addSubscription(s),s}()}))}get subscriptions(){return this._subscriptions}addSubscription(e){return R_(this,void 0,void 0,(function*(){if(!this.requestManager.provider)throw new Bm("Provider not available");if(!this.supportsSubscriptions())throw new jm("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new jm(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),cE(e.id))throw new jm("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id}))}removeSubscription(e){return R_(this,void 0,void 0,(function*(){const{id:t}=e;if(cE(t))throw new jm("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new jm(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t}))}unsubscribe(e){return R_(this,void 0,void 0,(function*(){const t=[];for(const[n,r]of this.subscriptions.entries())(!e||"function"===typeof e&&e({id:n,sub:r}))&&t.push(this.removeSubscription(r));return Promise.all(t)}))}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!cE(this.requestManager.provider)&&((e=this.requestManager.provider)&&"supportsSubscriptions"in e?e.supportsSubscriptions():!(!e||"string"===typeof e||!("on"in e)));var e}}var L_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class M_ extends p_{constructor(e,t){var n;super(),this.args=e;const{requestManager:r}=t,{subscriptionManager:i}=t;this._subscriptionManager=r?new D_(r,{},!0):i,this._returnFormat=null!==(n=null===t||void 0===t?void 0:t.returnFormat)&&void 0!==n?n:Dp}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return L_(this,void 0,void 0,(function*(){return this._subscriptionManager.addSubscription(this)}))}processSubscriptionData(e){var t,n;(null===e||void 0===e?void 0:e.data)?this._processSubscriptionResult(null!==(n=null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.result)&&void 0!==n?n:null===e||void 0===e?void 0:e.data):e&&WE(e)&&this._processSubscriptionResult(null===e||void 0===e?void 0:e.params.result)}sendSubscriptionRequest(){return L_(this,void 0,void 0,(function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id}))}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return L_(this,void 0,void 0,(function*(){yield this.unsubscribe(),yield this.subscribe()}))}unsubscribe(){return L_(this,void 0,void 0,(function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))}))}sendUnsubscribeRequest(){return L_(this,void 0,void 0,(function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0}))}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var B_=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class F_ extends Vp{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return!t||22!==t.code&&1014!==t.code&&"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||aA(e)||0===e.length?void 0:e}}create(e){for(let t=0;t<e;t+=1)this.add(this._accountProvider.create());return this}add(e){var t;if("string"===typeof e)return this.add(this._accountProvider.privateKeyToAccount(e));let n=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),n=null!==(t=this._addressMap.get(e.address.toLowerCase()))&&void 0!==t?t:n),this._addressMap.set(e.address.toLowerCase(),n),this[n]=e,this}get(e){if("string"===typeof e){const t=this._addressMap.get(e.toLowerCase());return aA(t)?void 0:this[t]}return this[e]}remove(e){if("string"===typeof e){const t=this._addressMap.get(e.toLowerCase());return!aA(t)&&(this._addressMap.delete(e.toLowerCase()),this.splice(t,1),!0)}return!!this[e]&&(this.splice(e,1),!0)}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,t){return B_(this,void 0,void 0,(function*(){return Promise.all(this.map((n=>B_(this,void 0,void 0,(function*(){return n.encrypt(e,t)})))))}))}decrypt(e,t,n){return B_(this,void 0,void 0,(function*(){const r=yield Promise.all(e.map((e=>B_(this,void 0,void 0,(function*(){return this._accountProvider.decrypt(e,t,n)})))));for(const e of r)this.add(e);return this}))}save(e,t){return B_(this,void 0,void 0,(function*(){const n=F_.getStorage();if(!n)throw new Error("Local storage not available.");return n.setItem(null!==t&&void 0!==t?t:this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0}))}load(e,t){return B_(this,void 0,void 0,(function*(){const n=F_.getStorage();if(!n)throw new Error("Local storage not available.");const r=n.getItem(null!==t&&void 0!==t?t:this._defaultKeyName);return r&&(yield this.decrypt(JSON.parse(r)||[],e)),this}))}}const j_={web:hv};function U_(e,t,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(16!==t.length)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&16!==e.length||n.startsWith("aes-256")&&32!==e.length)throw new Error("AES: wrong key length")}async function H_(e,t,n){if(!j_.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await j_.web.subtle.importKey("raw",t,{name:`AES-${r.toUpperCase()}`,length:8*t.length},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function V_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-128-ctr",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(U_(t,n,r),j_.web){const[s,o]=await H_(r,t,n),a=await j_.web.subtle.encrypt(o,s,e);let c=new Uint8Array(a);return i||"aes-cbc"!==o.name||e.length%16||(c=c.slice(0,-16)),c}if(j_.node){const s=j_.node.createCipheriv(r,t,n);return s.setAutoPadding(i),Ev(s.update(e),s.final())}throw new Error("The environment doesn't have AES module")}async function z_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-128-ctr",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(U_(t,n,r),j_.web){const[s,o]=await H_(r,t,n);if(!i&&"aes-cbc"===o.name){const i=await async function(e,t,n,r){const i=e.slice(-16);for(let s=0;s<16;s++)i[s]^=16^n[s];return(await V_(i,t,n,r)).slice(0,16)}(e,t,n,r);e=Ev(e,i)}const a=await j_.web.subtle.decrypt(o,s,e),c=new Uint8Array(a);if("aes-cbc"===o.name){if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(await V_(c,t,n,r),e))throw new Error("AES: wrong padding")}return c}if(j_.node){const s=j_.node.createDecipheriv(r,t,n);return s.setAutoPadding(i),Ev(s.update(e),s.final())}throw new Error("The environment doesn't have AES module")}class q_ extends _v{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Yg(e);const n=Av(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Xg(this),this.iHash.update(e),this}digestInto(e){Xg(this),Zg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const G_=(e,t,n)=>new q_(e,t).update(n).digest();function Q_(e,t,n,r){Yg(e);const i=Iv({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Jg(s),Jg(o),Jg(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Av(t),u=Av(n),l=new Uint8Array(o),d=G_.create(e,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function $_(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function K_(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=Q_(e,t,n,r);let u;const l=new Uint8Array(4),d=pv(l),h=new Uint8Array(a.outputLen);for(let f=1,p=0;p<s;f++,p+=a.outputLen){const e=o.subarray(p,p+a.outputLen);d.setInt32(0,f,!1),(u=c._cloneInto(u)).update(l).digestInto(h),e.set(h.subarray(0,e.length));for(let t=1;t<i;t++){a._cloneInto(u).update(h).digestInto(h);for(let t=0;t<e.length;t++)e[t]^=h[t]}}return $_(a,c,o,u,h)}G_.create=(e,t)=>new q_(e,t);const W_=(e,t,n)=>e&t^~e&n,J_=(e,t,n)=>e&t^e&n^t&n;class Z_ extends _v{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pv(this.buffer)}update(e){Xg(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Av(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=pv(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xg(this),ev(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let l=s;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=pv(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Y_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),X_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ek=new Uint32Array(64);class tk extends Z_{constructor(){super(64,32,8,!1),this.A=0|X_[0],this.B=0|X_[1],this.C=0|X_[2],this.D=0|X_[3],this.E=0|X_[4],this.F=0|X_[5],this.G=0|X_[6],this.H=0|X_[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let l=0;l<16;l++,t+=4)ek[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const e=ek[l-15],t=ek[l-2],n=mv(e,7)^mv(e,18)^e>>>3,r=mv(t,17)^mv(t,19)^t>>>10;ek[l]=r+ek[l-7]+n+ek[l-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:u}=this;for(let l=0;l<64;l++){const e=u+(mv(o,6)^mv(o,11)^mv(o,25))+W_(o,a,c)+Y_[l]+ek[l]|0,t=(mv(n,2)^mv(n,13)^mv(n,22))+J_(n,r,i)|0;u=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,s,o,a,c,u)}roundClean(){ek.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const nk=Sv((()=>new tk)),[rk,ik]=(()=>dv.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),sk=new Uint32Array(80),ok=new Uint32Array(80);class ak extends Z_{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,i,s,o,a,c,u,l,d,h,f,p,m]}set(e,t,n,r,i,s,o,a,c,u,l,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let y=0;y<16;y++,t+=4)sk[y]=e.getUint32(t),ok[y]=e.getUint32(t+=4);for(let y=16;y<80;y++){const e=0|sk[y-15],t=0|ok[y-15],n=dv.rotrSH(e,t,1)^dv.rotrSH(e,t,8)^dv.shrSH(e,t,7),r=dv.rotrSL(e,t,1)^dv.rotrSL(e,t,8)^dv.shrSL(e,t,7),i=0|sk[y-2],s=0|ok[y-2],o=dv.rotrSH(i,s,19)^dv.rotrBH(i,s,61)^dv.shrSH(i,s,6),a=dv.rotrSL(i,s,19)^dv.rotrBL(i,s,61)^dv.shrSL(i,s,6),c=dv.add4L(r,a,ok[y-7],ok[y-16]),u=dv.add4H(c,n,o,sk[y-7],sk[y-16]);sk[y]=0|u,ok[y]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:v}=this;for(let y=0;y<80;y++){const e=dv.rotrSH(l,d,14)^dv.rotrSH(l,d,18)^dv.rotrBH(l,d,41),t=dv.rotrSL(l,d,14)^dv.rotrSL(l,d,18)^dv.rotrBL(l,d,41),b=l&h^~l&p,w=d&f^~d&m,A=dv.add5L(v,t,w,ik[y],ok[y]),E=dv.add5H(A,g,e,b,rk[y],sk[y]),_=0|A,k=dv.rotrSH(n,r,28)^dv.rotrBH(n,r,34)^dv.rotrBH(n,r,39),I=dv.rotrSL(n,r,28)^dv.rotrBL(n,r,34)^dv.rotrBL(n,r,39),S=n&i^n&o^i&o,T=r&s^r&a^s&a;g=0|p,v=0|m,p=0|h,m=0|f,h=0|l,f=0|d,({h:l,l:d}=dv.add(0|c,0|u,0|E,0|_)),c=0|o,u=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const x=dv.add3L(_,I,T);n=dv.add3H(x,E,k,S),r=0|x}({h:n,l:r}=dv.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=dv.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=dv.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=dv.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:d}=dv.add(0|this.Eh,0|this.El,0|l,0|d)),({h:h,l:f}=dv.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=dv.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:v}=dv.add(0|this.Hh,0|this.Hl,0|g,0|v)),this.set(n,r,i,s,o,a,c,u,l,d,h,f,p,m,g,v)}roundClean(){sk.fill(0),ok.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ck=Sv((()=>new ak));function uk(e,t,n,r,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return $v(e),$v(t),K_("sha256"===i?nk:ck,e,t,{c:n,dkLen:r})}function lk(e,t,n,r,i,s){let o=e[t++]^n[r++],a=e[t++]^n[r++],c=e[t++]^n[r++],u=e[t++]^n[r++],l=e[t++]^n[r++],d=e[t++]^n[r++],h=e[t++]^n[r++],f=e[t++]^n[r++],p=e[t++]^n[r++],m=e[t++]^n[r++],g=e[t++]^n[r++],v=e[t++]^n[r++],y=e[t++]^n[r++],b=e[t++]^n[r++],w=e[t++]^n[r++],A=e[t++]^n[r++],E=o,_=a,k=c,I=u,S=l,T=d,x=h,C=f,P=p,N=m,O=g,R=v,D=y,L=b,M=w,B=A;for(let F=0;F<8;F+=2)S^=gv(E+D|0,7),P^=gv(S+E|0,9),D^=gv(P+S|0,13),E^=gv(D+P|0,18),N^=gv(T+_|0,7),L^=gv(N+T|0,9),_^=gv(L+N|0,13),T^=gv(_+L|0,18),M^=gv(O+x|0,7),k^=gv(M+O|0,9),x^=gv(k+M|0,13),O^=gv(x+k|0,18),I^=gv(B+R|0,7),C^=gv(I+B|0,9),R^=gv(C+I|0,13),B^=gv(R+C|0,18),_^=gv(E+I|0,7),k^=gv(_+E|0,9),I^=gv(k+_|0,13),E^=gv(I+k|0,18),x^=gv(T+S|0,7),C^=gv(x+T|0,9),S^=gv(C+x|0,13),T^=gv(S+C|0,18),R^=gv(O+N|0,7),P^=gv(R+O|0,9),N^=gv(P+R|0,13),O^=gv(N+P|0,18),D^=gv(B+M|0,7),L^=gv(D+B|0,9),M^=gv(L+D|0,13),B^=gv(M+L|0,18);i[s++]=o+E|0,i[s++]=a+_|0,i[s++]=c+k|0,i[s++]=u+I|0,i[s++]=l+S|0,i[s++]=d+T|0,i[s++]=h+x|0,i[s++]=f+C|0,i[s++]=p+P|0,i[s++]=m+N|0,i[s++]=g+O|0,i[s++]=v+R|0,i[s++]=y+D|0,i[s++]=b+L|0,i[s++]=w+M|0,i[s++]=A+B|0}function dk(e,t,n,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)n[o+a]=e[t+16*(2*i-1)+a];for(let a=0;a<i;a++,s+=16,t+=16)lk(n,o,e,t,n,s),a>0&&(o+=16),lk(n,s,e,t+=16,n,o)}function hk(e,t,n){const r=Iv({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:o,dkLen:a,asyncTick:c,maxmem:u,onProgress:l}=r;if(Jg(i),Jg(s),Jg(o),Jg(a),Jg(c),Jg(u),void 0!==l&&"function"!==typeof l)throw new Error("progressCb should be function");const d=128*s,h=d/4;if(i<=1||0!==(i&i-1)||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>137438953440/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=d*(i+o);if(f>u)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${u} (maxmem)`);const p=K_(nk,e,t,{c:1,dkLen:d*o}),m=fv(p),g=fv(new Uint8Array(d*i)),v=fv(new Uint8Array(d));let y=()=>{};if(l){const e=2*i*o,t=Math.max(Math.floor(e/1e4),1);let n=0;y=()=>{n++,!l||n%t&&n!==e||l(n/e)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:h,V:g,B32:m,B:p,tmp:v,blockMixCb:y,asyncTick:c}}function fk(e,t,n,r,i){const s=K_(nk,e,n,{c:1,dkLen:t});return n.fill(0),r.fill(0),i.fill(0),s}function pk(e,t,n,r,i,s,o){return $v(e),$v(t),function(e,t,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:u,B:l,tmp:d,blockMixCb:h}=hk(e,t,n);vv||bv(u);for(let f=0;f<s;f++){const e=a*f;for(let t=0;t<a;t++)c[t]=u[e+t];for(let t=0,n=0;t<r-1;t++)dk(c,n,c,n+=a,i),h();dk(c,(r-1)*a,u,e,i),h();for(let t=0;t<r;t++){const t=u[e+a-16]%r;for(let n=0;n<a;n++)d[n]=u[e+n]^c[t*a+n];dk(d,0,u,e,i),h()}}return vv||bv(u),fk(e,o,l,c,d)}(e,t,{N:n,r:i,p:r,dkLen:s,onProgress:o})}const mk=BigInt(1),gk=BigInt(2);function vk(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function yk(e){if(!vk(e))throw new Error("Uint8Array expected")}const bk=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function wk(e){yk(e);let t="";for(let n=0;n<e.length;n++)t+=bk[e[n]];return t}function Ak(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const Ek={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function _k(e){return e>=Ek._0&&e<=Ek._9?e-Ek._0:e>=Ek._A&&e<=Ek._F?e-(Ek._A-10):e>=Ek._a&&e<=Ek._f?e-(Ek._a-10):void 0}function kk(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=_k(e.charCodeAt(s)),n=_k(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Ik(e){return Ak(wk(e))}function Sk(e){return yk(e),Ak(wk(Uint8Array.from(e).reverse()))}function Tk(e,t){return kk(e.toString(16).padStart(2*t,"0"))}function xk(e,t){return Tk(e,t).reverse()}function Ck(e,t,n){let r;if("string"===typeof t)try{r=kk(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else{if(!vk(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Pk(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];yk(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const Nk=e=>(gk<<BigInt(e-1))-mk,Ok=e=>new Uint8Array(e),Rk=e=>Uint8Array.from(e);function Dk(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Ok(e),i=Ok(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ok();i=a(Rk([0]),e),r=a(),0!==e.length&&(i=a(Rk([1]),e),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Pk(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(u()));)c();return o(),n}}const Lk={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||vk(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Mk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Lk[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${n}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Bk=BigInt(0),Fk=BigInt(1),jk=BigInt(2),Uk=BigInt(3),Hk=BigInt(4),Vk=BigInt(5),zk=BigInt(8);BigInt(9),BigInt(16);function qk(e,t){const n=e%t;return n>=Bk?n:t+n}function Gk(e,t,n){if(n<=Bk||t<Bk)throw new Error("Expected power/modulo > 0");if(n===Fk)return Bk;let r=Fk;for(;t>Bk;)t&Fk&&(r=r*e%n),e=e*e%n,t>>=Fk;return r}function Qk(e,t,n){let r=e;for(;t-- >Bk;)r*=r,r%=n;return r}function $k(e,t){if(e===Bk||t<=Bk)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=qk(e,t),r=t,i=Bk,s=Fk,o=Fk,a=Bk;for(;n!==Bk;){const e=r/n,t=r%n,c=i-o*e,u=s-a*e;r=n,n=t,i=o,s=a,o=c,a=u}if(r!==Fk)throw new Error("invert: does not exist");return qk(i,t)}function Kk(e){if(e%Hk===Uk){const t=(e+Fk)/Hk;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%zk===Vk){const t=(e-Vk)/zk;return function(e,n){const r=e.mul(n,jk),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,jk),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Fk)/jk;let n,r,i;for(n=e-Fk,r=0;n%jk===Bk;n/=jk,r++);for(i=jk;i<e&&Gk(i,t,e)!==e-Fk;i++);if(1===r){const t=(e+Fk)/Hk;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Fk)/jk;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),u=e.pow(o,s),l=e.pow(o,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Fk<<BigInt(a-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),a=t}return u}}(e)}const Wk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jk(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Zk(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Yk(e){const t=Zk(e);return t+Math.ceil(t/2)}const Xk=BigInt(0),eI=BigInt(1);function tI(e){return function(e){const t=Wk.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Mk(e,t)}(e.Fp),Mk(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jk(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:nI,aT:rI}=i,iI={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=iI;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:nI(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=iI,n="string"===typeof e?rI(e):e;yk(n);let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=iI._parseInt(n.subarray(2)),{d:o,l:a}=iI._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},sI=BigInt(0),oI=BigInt(1),aI=(BigInt(2),BigInt(3));BigInt(4);function cI(e){const t=function(e){const t=tI(e);Mk(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Pk(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&sI<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(vk(e)&&(e=wk(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:Ik(Ck("private key",e,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=qk(o,s)),a(o),o}const u=new Map;function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Ck("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=s(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),u=n.eql(n.mul(r,a),n.mul(o,i));return c&&u}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,aI),{px:s,py:o,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,h=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),m=n.mul(s,o);return m=n.add(m,m),l=n.mul(s,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(i,l),p=n.mul(e,p),m=n.sub(h,p),m=n.mul(e,m),m=n.add(m,l),l=n.add(h,h),h=n.add(l,h),h=n.add(h,p),h=n.mul(h,m),u=n.add(u,h),p=n.mul(o,a),p=n.add(p,p),h=n.mul(p,m),c=n.sub(c,h),l=n.mul(p,f),l=n.add(l,l),l=n.add(l,l),new d(c,u,l)}add(e){l(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let u=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,m=n.mul(t.b,aI);let g=n.mul(r,o),v=n.mul(i,a),y=n.mul(s,c),b=n.add(r,i),w=n.add(o,a);b=n.mul(b,w),w=n.add(g,v),b=n.sub(b,w),w=n.add(r,s);let A=n.add(o,c);return w=n.mul(w,A),A=n.add(g,y),w=n.sub(w,A),A=n.add(i,s),u=n.add(a,c),A=n.mul(A,u),u=n.add(v,y),A=n.sub(A,u),f=n.mul(p,w),u=n.mul(m,y),f=n.add(u,f),u=n.sub(v,f),f=n.add(v,f),h=n.mul(u,f),v=n.add(g,g),v=n.add(v,g),y=n.mul(p,y),w=n.mul(m,w),v=n.add(v,y),y=n.sub(g,y),y=n.mul(p,y),w=n.add(w,y),g=n.mul(v,w),h=n.add(h,g),g=n.mul(A,w),u=n.mul(b,u),u=n.sub(u,g),g=n.mul(b,v),f=n.mul(A,f),f=n.add(f,g),new d(u,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===sI)return r;if(a(e),e===oI)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:u}=i.splitScalar(e),l=r,h=r,p=this;for(;o>sI||u>sI;)o&oI&&(l=l.add(p)),u&oI&&(h=h.add(p)),p=p.double(),o>>=oI,u>>=oI;return s&&(l=l.negate()),c&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),l.add(h)}multiply(e){a(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:u,f:l}=this.wNAF(t),{p:h,f:p}=this.wNAF(c);u=f.constTimeNegate(e,u),h=f.constTimeNegate(a,h),h=new d(n.mul(h.px,o.beta),h.py,h.pz),r=u.add(h),i=l.add(p)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==sI&&t!==oI&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===oI)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===oI?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return wk(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Xk;)n&eI&&(r=r.add(i)),i=i.double(),n>>=eI;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&l);s>>=h,r>a&&(r-=d,s+=eI);const o=t,f=t+Math.abs(r)-1,p=e%2!==0,m=r<0;0===r?u=u.add(n(p,i[o])):c=c.add(n(m,i[f]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function uI(e){const t=function(e){const t=tI(e);return Mk(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(e){return qk(e,r)}function a(e){return $k(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=cI({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=Pk;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=Ik(o);if(!(sI<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let i;try{i=n.sqrt(t)}catch(c){const e=c instanceof Error?": "+c.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((i&oI)===oI)&&(i=n.neg(i)),{x:e,y:i}}var a}}),h=e=>wk(Tk(e,t.nByteLength));function f(e){return e>r>>oI}const p=(e,t,n)=>Ik(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Ck("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=iI.toSig(Ck("DER",e));return new m(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,u=b(Ck("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const l=2===s||3===s?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&s)?"02":"03",f=c.fromHex(d+h(l)),p=a(l),m=o(-u*p),g=o(i*p),v=c.BASE.multiplyAndAddUnsafe(f,m,g);if(!v)throw new Error("point at infinify");return v.assertValidity(),v}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return kk(this.toDERHex())}toDERHex(){return iI.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kk(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Yk(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=Zk(t),s=Yk(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=qk(n?Ik(e):Sk(e),t-Fk)+Fk;return n?xk(o,i):Tk(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=vk(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof c}const y=t.bits2int||function(e){const n=Ik(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return o(y(e))},w=Nk(t.nBitLength);function A(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(sI<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Tk(e,t.nByteLength)}function E(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:h,prehash:p,extraEntropy:g}=i;null==h&&(h=!0),e=Ck("msgHash",e),p&&(e=Ck("prehashed msgHash",s(e)));const v=b(e),w=u(r),E=[A(w),A(v)];if(null!=g&&!1!==g){const e=!0===g?l(n.BYTES):g;E.push(Ck("extraEntropy",e))}const k=Pk(...E),I=v;return{seed:k,k2sig:function(e){const t=y(e);if(!d(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=o(r.x);if(i===sI)return;const s=o(n*o(I+i*w));if(s===sI)return;let u=(r.x===i?0:2)|Number(r.y&oI),l=s;return h&&f(s)&&(l=function(e){return f(e)?o(-e):e}(s),u^=1),new m(i,l,u)}}}const _={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:s}=E(e,n,r),o=t;return Dk(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;const s=e;if(n=Ck("msgHash",n),r=Ck("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=i;let d,h;try{if("string"===typeof s||vk(s))try{d=m.fromDER(s)}catch(E){if(!(E instanceof iI.Err))throw E;d=m.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;d=new m(e,t)}}h=c.fromHex(r)}catch(_){if("PARSE"===_.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;l&&(n=t.hash(n));const{r:f,s:p}=d,g=b(n),v=a(p),y=o(g*v),w=o(f*v),A=c.BASE.multiplyAndAddUnsafe(h,y,w)?.toAffine();return!!A&&o(A.x)===f},ProjectivePoint:c,Signature:m,utils:g}}function lI(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return G_(e,t,Ev(...r))},randomBytes:Tv}}const dI=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fI=BigInt(1),pI=BigInt(2),mI=(e,t)=>(e+t/pI)/t;function gI(e){const t=dI,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Qk(l,n,t)*l%t,h=Qk(d,n,t)*l%t,f=Qk(h,pI,t)*u%t,p=Qk(f,i,t)*f%t,m=Qk(p,s,t)*p%t,g=Qk(m,a,t)*m%t,v=Qk(g,c,t)*g%t,y=Qk(v,a,t)*m%t,b=Qk(y,n,t)*l%t,w=Qk(b,o,t)*p%t,A=Qk(w,r,t)*u%t,E=Qk(A,pI,t);if(!vI.eql(vI.sqr(E),e))throw new Error("Cannot find square root");return E}const vI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Bk)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Jk(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Kk(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Nk(i),ZERO:Bk,ONE:Fk,create:t=>qk(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Bk<=t&&t<e},is0:e=>e===Bk,isOdd:e=>(e&Fk)===Fk,neg:t=>qk(-t,e),eql:(e,t)=>e===t,sqr:t=>qk(t*t,e),add:(t,n)=>qk(t+n,e),sub:(t,n)=>qk(t-n,e),mul:(t,n)=>qk(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Bk)throw new Error("Expected power > 0");if(n===Bk)return e.ONE;if(n===Fk)return t;let r=e.ONE,i=t;for(;n>Bk;)n&Fk&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Fk;return r}(a,e,t),div:(t,n)=>qk(t*$k(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$k(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?xk(e,s):Tk(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return n?Sk(e):Ik(e)}});return Object.freeze(a)}(dI,void 0,void 0,{sqrt:gI}),yI=function(e,t){const n=t=>uI({...e,...lI(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:vI,n:hI,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=hI,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-fI*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=mI(s*e,t),c=mI(-r*e,t);let u=qk(e-a*n-c*i,t),l=qk(-a*r-c*s,t);const d=u>o,h=l>o;if(d&&(u=t-u),h&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},nk);BigInt(0);yI.ProjectivePoint;var bI;const wI=null!==(bI=yI)&&void 0!==bI?bI:s,AI=BigInt("0xffffffffffffffff"),EI=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),_I=wI.CURVE.n/BigInt(2),kI={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var II,SI,TI,xI,CI,PI;!function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"}(II||(II={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"}(SI||(SI={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(TI||(TI={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(xI||(xI={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(CI||(CI={})),function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"}(PI||(PI={}));const NI=e=>{if("string"!==typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return Pw(e)?e.slice(2):e};const OI=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};function RI(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n,r;const{name:i,config:s,difficulty:o,mixHash:a,gasLimit:c,coinbase:u,baseFeePerGas:l}=e;let{extraData:d,timestamp:h,nonce:f}=e;const p=Number(h),{chainId:m}=s;if(""===d&&(d="0x"),Pw(h)||(h=OI(parseInt(h))),18!==f.length&&(f=function(e){return e&&"0x0"!==e?Pw(e)?`0x${NI(e).padStart(16,"0")}`:`0x${e.padStart(16,"0")}`:"0x0000000000000000"}(f)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const g={name:i,chainId:m,networkId:m,genesis:{timestamp:h,gasLimit:parseInt(c),difficulty:parseInt(o),nonce:f,extraData:d,mixHash:a,coinbase:u,baseFeePerGas:l},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:void 0!==s.clique?{type:"poa",algorithm:"clique",clique:{period:null!==(n=s.clique.period)&&void 0!==n?n:s.clique.blockperiodseconds,epoch:null!==(r=s.clique.epoch)&&void 0!==r?r:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},v={[SI.Homestead]:{name:"homesteadBlock"},[SI.Dao]:{name:"daoForkBlock"},[SI.TangerineWhistle]:{name:"eip150Block"},[SI.SpuriousDragon]:{name:"eip155Block"},[SI.Byzantium]:{name:"byzantiumBlock"},[SI.Constantinople]:{name:"constantinopleBlock"},[SI.Petersburg]:{name:"petersburgBlock"},[SI.Istanbul]:{name:"istanbulBlock"},[SI.MuirGlacier]:{name:"muirGlacierBlock"},[SI.Berlin]:{name:"berlinBlock"},[SI.London]:{name:"londonBlock"},[SI.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[SI.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[SI.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},y=Object.keys(v).reduce(((e,t)=>(e[v[t].name]=t,e)),{}),b=Object.keys(s).filter((e=>void 0!==y[e]&&void 0!==s[e]&&null!==s[e]));if(g.hardforks=b.map((e=>({name:y[e],block:!0===v[y[e]].isTimestamp||"number"!==typeof s[e]?null:s[e],timestamp:!0===v[y[e]].isTimestamp&&"number"===typeof s[e]?s[e]:void 0}))).filter((e=>null!==e.block||void 0!==e.timestamp)),g.hardforks.sort(((e,t)=>{var n,r;return(null!==(n=e.block)&&void 0!==n?n:1/0)-(null!==(r=t.block)&&void 0!==r?r:1/0)})),g.hardforks.sort(((e,t)=>{var n,r;return(null!==(n=e.timestamp)&&void 0!==n?n:p)-(null!==(r=t.timestamp)&&void 0!==r?r:p)})),void 0!==s.terminalTotalDifficulty){const e={name:SI.Merge,ttd:s.terminalTotalDifficulty,block:null},t=g.hardforks.findIndex((e=>{var t;return!0===(null===(t=v[e.name])||void 0===t?void 0:t.postMerge)}));-1!==t?g.hardforks.splice(t,0,e):g.hardforks.push(e)}const w=g.hardforks.length>0?g.hardforks.slice(-1)[0]:void 0;return g.hardfork=null===w||void 0===w?void 0:w.name,g.hardforks.unshift({name:SI.Chainstart,block:0}),g}function DI(e){let t=e;if("string"!==typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}const LI=function(e){var t;if(null===e||void 0===e)return new Uint8Array;if(e instanceof Uint8Array)return e;if("Uint8Array"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name))return Uint8Array.from(e);if(Array.isArray(e))return Uint8Array.from(e);if("string"===typeof e){if(!xw(e))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${e}`);return _A(DI(NI(e)))}if("number"===typeof e)return LI(SA(e));if("bigint"===typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t=`0${t}`),LI(`0x${t}`)}if(e.toArray)return Uint8Array.from(e.toArray());throw new Error("invalid type")};function MI(e){const t=EA(e);return"0x"===t?BigInt(0):BigInt(t)}const BI=function(e){return new Uint8Array(e).fill(0)};function FI(e){if(!mA(e)){throw new Error(`This method only supports Uint8Array but input was: ${e}`)}}const jI=function(e,t){return FI(e),function(e,t,n){const r=BI(t);return n?e.length<t?(r.set(e),r):e.subarray(0,t):e.length<t?(r.set(e,t-e.length),r):e.subarray(-t)}(e,t,!1)};const UI=function(e){return FI(e),function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e}(e)},HI=e=>`0x${e.toString(16)}`;function VI(e){return UI(LI(`0x${e.toString(16)}`))}const zI=function(e,t,n,r,i){const s=function(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}(t,i);if(!function(e){return e===BigInt(0)||e===BigInt(1)}(s))throw new Error("Invalid signature v value");return new wI.Signature(MI(n),MI(r)).addRecoveryBit(Number(s)).recoverPublicKey(e).toRawBytes(!1).slice(1)};function qI(e,t){if(null===e)return null;if(void 0===e)return;if("string"===typeof e&&!xw(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"===typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=LI(e);switch(t){case PI.Uint8Array:return n;case PI.BigInt:return MI(n);case PI.Number:{const e=MI(n);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case PI.PrefixedHexString:return EA(n);default:throw new Error("unknown outputType")}}var GI=n(576),QI=n(31);const $I={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},KI={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},WI={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},JI={1153:{name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},1559:{name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},2315:{name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},2537:{name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},2565:{name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},2718:{name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},2929:{name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},2930:{name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},3198:{name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},3529:{name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},3540:{name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},3541:{name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3554:{name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3651:{name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},3670:{name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3855:{name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},3860:{name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},4345:{name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},5133:{name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}}},ZI={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},merge:{name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]}},{buf:YI}=QI;class XI extends WA{static custom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=null!==(n=t.baseChain)&&void 0!==n?n:"mainnet",i=Object.assign({},XI._getChainParams(r));if(i.name="custom-chain","string"!==typeof e)return new XI(Object.assign({chain:Object.assign(Object.assign({},i),e)},t));if(e===CI.PolygonMainnet)return XI.custom({name:CI.PolygonMainnet,chainId:137,networkId:137},t);if(e===CI.PolygonMumbai)return XI.custom({name:CI.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===CI.ArbitrumRinkebyTestnet)return XI.custom({name:CI.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===CI.ArbitrumOne)return XI.custom({name:CI.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===CI.xDaiChain)return XI.custom({name:CI.xDaiChain,chainId:100,networkId:100},t);if(e===CI.OptimisticKovan)return XI.custom({name:CI.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:SI.Berlin},t));if(e===CI.OptimisticEthereum)return XI.custom({name:CI.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:SI.Berlin},t));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,t){let{chain:n,eips:r,genesisHash:i,hardfork:s,mergeForkIdPostMerge:o}=t;var a;const c=function(e,t,n){try{if(["config","difficulty","gasLimit","alloc"].some((t=>!(t in e))))throw new Error("Invalid format, expected geth genesis fields missing");return void 0!==t&&(e.name=t),RI(e,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}(e,n,o),u=new XI({chain:null!==(a=c.name)&&void 0!==a?a:"custom",customChains:[c],eips:r,hardfork:null!==s&&void 0!==s?s:c.hardfork});return void 0!==i&&u.setForkHashes(i),u}static isSupportedChainId(e){const t=this._getInitializedChains();return Boolean(t.names[e.toString()])}static _getChainParams(e,t){let n=e;const r=this._getInitializedChains(t);if("number"===typeof n||"bigint"===typeof n){if(n=n.toString(),r.names[n]){return r[r.names[n]]}throw new Error(`Chain with ID ${n} not supported`)}if(void 0!==r[n])return r[n];throw new Error(`Chain with name ${n} not supported`)}constructor(e){var t,n;super(),this._eips=[],this._customChains=null!==(t=e.customChains)&&void 0!==t?t:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=null!==(n=this._chainParams.defaultHardfork)&&void 0!==n?n:SI.Merge,this.HARDFORK_CHANGES=this.hardforks().map((e=>[e.name,ZI[e.name]])),this._hardfork=this.DEFAULT_HARDFORK,void 0!==e.hardfork&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if("number"===typeof e||"bigint"===typeof e||"string"===typeof e)this._chainParams=XI._getChainParams(e,this._customChains);else{if("object"!==typeof e)throw new Error("Wrong input format");{if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of t)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}}for(const t of this.hardforks())if(void 0===t.block)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,n){const r=qI(e,PI.BigInt),i=qI(t,PI.BigInt),s=qI(n,PI.Number),o=this.hardforks().filter((e=>null!==e.block||null!==e.ttd&&void 0!==e.ttd||void 0!==e.timestamp)),a=o.findIndex((e=>null!==e.ttd&&void 0!==e.ttd));if(o.slice(a+1).findIndex((e=>null!==e.ttd&&void 0!==e.ttd))>=0)throw Error("More than one merge hardforks found with ttd specified");let c=o.findIndex((e=>null!==e.block&&e.block>r||void 0!==s&&Number(e.timestamp)>s));if(-1===c)c=o.length;else if(0===c)throw Error("Must have at least one hardfork at block 0");if(void 0===s){c-=o.slice(0,c).reverse().findIndex((e=>null!==e.block||void 0!==e.ttd))}if(c-=1,null===o[c].block&&void 0===o[c].timestamp)(void 0===i||null===i||BigInt(o[c].ttd)>i)&&(c-=1);else if(a>=0&&void 0!==i&&null!==i){if(c>=a&&BigInt(o[a].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<a&&BigInt(o[a].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const u=c;for(;c<o.length-1&&(o[c].block===o[c+1].block&&o[c].timestamp===o[c+1].timestamp);c+=1);if(s){const e=o.slice(0,u).reduce(((e,t)=>{var n;return Math.max(Number(null!==(n=t.timestamp)&&void 0!==n?n:"0"),e)}),0);if(e>s)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");const t=o.slice(c+1).reduce(((e,t)=>{var n;return Math.min(Number(null!==(n=t.timestamp)&&void 0!==n?n:s),e)}),s);if(t<s)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[c].name}setHardforkByBlockNumber(e,t,n){const r=this.getHardforkByBlockNumber(e,t,n);return this.setHardfork(r),r}_getHardfork(e){const t=this.hardforks();for(const n of t)if(n.name===e)return n;return null}setEIPs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(const t of e){if(!(t in JI))throw new Error(`${t} not supported`);const n=this.gteHardfork(JI[t].minimumHardfork);if(!n)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(void 0!==JI[t].requiredEIPs)for(const r of JI[t].requiredEIPs)if(!e.includes(r)&&!this.isActivatedEIP(r))throw new Error(`${t} requires EIP ${r}, but is not included in the EIP list`)}this._eips=e}param(e,t){let n;for(const r of this._eips)if(n=this.paramByEIP(e,t,r),void 0!==n)return n;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,n){let r=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const n=i[1].eips;for(const i of n){const n=this.paramByEIP(e,t,i);r="bigint"===typeof n?n:r}}else{if(void 0===i[1][e])throw new Error(`Topic ${e} not defined`);void 0!==i[1][e][t]&&(r=i[1][e][t].v)}if(i[0]===n)break}return BigInt(null!==r&&void 0!==r?r:0)}paramByEIP(e,t,n){if(!(n in JI))throw new Error(`${n} not supported`);const r=JI[n];if(!(e in r))throw new Error(`Topic ${e} not defined`);if(void 0===r[e][t])return;const i=r[e][t].v;return BigInt(i)}paramByBlock(e,t,n,r,i){const s=this.getHardforkByBlockNumber(n,r,i);return this.paramByHardfork(e,t,s)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const n=t[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){const n=qI(t,PI.BigInt),r=null!==e&&void 0!==e?e:this._hardfork,i=this.hardforkBlock(r);return"bigint"===typeof i&&i!==BigInt(0)&&n>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){const n=null!==e&&void 0!==e?e:this._hardfork,r=this.hardforks();let i=-1,s=-1,o=0;for(const a of r)a.name===n&&(i=o),a.name===t&&(s=o),o+=1;return i>=s&&-1!==s}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var t;const n=null!==e&&void 0!==e?e:this._hardfork,r=null===(t=this._getHardfork(n))||void 0===t?void 0:t.block;return void 0===r||null===r?null:BigInt(r)}hardforkTimestamp(e){var t;const n=null!==e&&void 0!==e?e:this._hardfork,r=null===(t=this._getHardfork(n))||void 0===t?void 0:t.timestamp;return void 0===r||null===r?null:BigInt(r)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock("number"===typeof t[0]?String(t[0]):t[0])}return null}hardforkTTD(e){var t;const n=null!==e&&void 0!==e?e:this._hardfork,r=null===(t=this._getHardfork(n))||void 0===t?void 0:t.ttd;return void 0===r||null===r?null:BigInt(r)}isHardforkBlock(e,t){const n=qI(e,PI.BigInt),r=null!==t&&void 0!==t?t:this._hardfork,i=this.hardforkBlock(r);return"bigint"===typeof i&&i!==BigInt(0)&&i===n}nextHardforkBlockOrTimestamp(e){var t,n,r;const i=null!==(t=e)&&void 0!==t?t:this._hardfork,s=this.hardforks();let o=s.findIndex((e=>e.name===i));if(i===SI.Merge&&(o-=1),o<0)return null;let a=null!==(n=s[o].timestamp)&&void 0!==n?n:s[o].block;a=null!==a&&void 0!==a?Number(a):null;const c=s.slice(o+1).find((e=>{var t;let n=null!==(t=e.timestamp)&&void 0!==t?t:e.block;return n=null!==n&&void 0!==n?Number(n):null,e.name!==SI.Merge&&null!==n&&void 0!==n&&n!==a}));if(void 0===c)return null;const u=null!==(r=c.timestamp)&&void 0!==r?r:c.block;return null===u||void 0===u?null:BigInt(u)}nextHardforkBlock(e){var t;const n=null!==(t=e)&&void 0!==t?t:this._hardfork;let r=this.hardforkBlock(n);if(null===r&&n===SI.Merge){const e=this.hardforks(),t=e.findIndex((e=>null!==e.ttd&&void 0!==e.ttd));if(t<0)throw Error("Merge hardfork should have been found");r=this.hardforkBlock(e[t-1].name)}if(null===r)return null;return this.hardforks().reduce(((e,t)=>{const n=BigInt(null===t.block||void 0!==t.ttd&&null!==t.ttd?0:t.block);return n>r&&null===e?n:e}),null)}isNextHardforkBlock(e,t){const n=qI(e,PI.BigInt),r=null!==t&&void 0!==t?t:this._hardfork,i=this.nextHardforkBlock(r);return null!==i&&i===n}_calcForkHash(e,t){let n=new Uint8Array,r=0;for(const s of this.hardforks()){const{block:t,timestamp:i,name:o}=s;let a=null!==i&&void 0!==i?i:t;if(a=null!==a?Number(a):null,"number"===typeof a&&0!==a&&a!==r&&o!==SI.Merge){n=gA(n,_A(a.toString(16).padStart(16,"0"))),r=a}if(s.name===e)break}const i=gA(t,n);return EA(function(e){const t=OI(e);return _A(`0x${DI(t.slice(2))}`)}(YI(i)>>>0))}forkHash(e,t){const n=null!==e&&void 0!==e?e:this._hardfork,r=this._getHardfork(n);if(null===r||null===(null===r||void 0===r?void 0:r.block)&&void 0===(null===r||void 0===r?void 0:r.timestamp)&&void 0===(null===r||void 0===r?void 0:r.ttd)){throw new Error("No fork hash calculation possible for future hardfork")}if(null!==(null===r||void 0===r?void 0:r.forkHash)&&void 0!==(null===r||void 0===r?void 0:r.forkHash))return r.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(n,t)}hardforkForForkHash(e){const t=this.hardforks().filter((t=>t.forkHash===e));return t.length>=1?t[t.length-1]:null}setForkHashes(e){var t;for(const n of this.hardforks()){const r=null!==(t=n.timestamp)&&void 0!==t?t:n.block;null!==n.forkHash&&void 0!==n.forkHash||(null===r||void 0===r)&&"undefined"===typeof n.ttd||(n.forkHash=this.forkHash(n.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.type),n[0]===e)break;return null!==t&&void 0!==t?t:this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.algorithm),n[0]===e)break;return null!==t&&void 0!==t?t:this._chainParams.consensus.algorithm}consensusConfig(){var e;const t=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus[r[1].consensus.algorithm]),r[0]===t)break;return null!==(e=null!==n&&void 0!==n?n:this._chainParams.consensus[this.consensusAlgorithm()])&&void 0!==e?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[r,i]of Object.entries(II))t[i]=r.toLowerCase();const n={mainnet:KI,goerli:$I,sepolia:WI};if(e)for(const r of e){const{name:e}=r;t[r.chainId.toString()]=e,n[e]=r}return n.names=t,n}}var eS;function tS(e){return!function(e){if(0===e.length)return!0;const t=e[0];return!!Array.isArray(t)}(e)}!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(eS||(eS={}));class nS{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new nS(BI(20))}equals(e){return vA(this.buf,e.buf)}isZero(){return this.equals(nS.zero())}toString(){return EA(this.buf)}toArray(){return this.buf}static publicToAddress(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;if(FI(n),t&&64!==n.length&&(n=wI.ProjectivePoint.fromHex(n).toRawBytes(!1).slice(1)),64!==n.length)throw new Error("Expected pubKey to be of length 64");return Jv(n).slice(-20)}}const rS=e=>{let t,n;if(tS(e)){t=e;const r=[];for(let t=0;t<e.length;t+=1){const n=e[t],i=LI(n.address),s=[];for(let e=0;e<n.storageKeys.length;e+=1)s.push(LI(n.storageKeys[e]));r.push([i,s])}n=r}else{n=null!==e&&void 0!==e?e:[];const r=[];for(let e=0;e<n.length;e+=1){const t=n[e],i=EA(t[0]),s=[];for(let e=0;e<t[1].length;e+=1)s.push(EA(t[1][e]));const o={address:i,storageKeys:s};r.push(o)}t=r}return{AccessListJSON:t,accessList:n}},iS=e=>{for(let t=0;t<e.length;t+=1){const n=e[t],r=n[0],i=n[1];if(void 0!==n[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==r.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let e=0;e<i.length;e+=1)if(32!==i[e].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},sS=e=>{const t=[];for(let n=0;n<e.length;n+=1){const r=e[n],i={address:EA(jI(r[0],20)),storageKeys:[]},s=r&&r[1];for(let e=0;e<s.length;e+=1){const t=s[e];i.storageKeys.push(EA(jI(t,32)))}t.push(i)}return t},oS=(e,t)=>{const n=t.param("gasPrices","accessListStorageKeyCost"),r=t.param("gasPrices","accessListAddressCost");let i=0;for(let s=0;s<e.length;s+=1){i+=e[s][1].length}return e.length*Number(r)+i*Number(n)};class aS{constructor(e,t){var n,r;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=II.Mainnet,this.DEFAULT_HARDFORK=SI.Merge;const{nonce:i,gasLimit:s,to:o,value:a,data:c,v:u,r:l,s:d,type:h}=e;this._type=Number(MI(LI(h))),this.txOptions=t;const f=LI(""===o?"0x":o),p=LI(""===u?"0x":u),m=LI(""===l?"0x":l),g=LI(""===d?"0x":d);this.nonce=MI(LI(""===i?"0x":i)),this.gasLimit=MI(LI(""===s?"0x":s)),this.to=f.length>0?new nS(f):void 0,this.value=MI(LI(""===a?"0x":a)),this.data=LI(""===c?"0x":c),this.v=p.length>0?MI(p):void 0,this.r=m.length>0?MI(m):void 0,this.s=g.length>0?MI(g):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const v=void 0===this.to||null===this.to,y=null!==(n=t.allowUnlimitedInitCodeSize)&&void 0!==n&&n,b=null!==(r=t.common)&&void 0!==r?r:this._getCommon();v&&b.isActivatedEIP(3860)&&!y&&((e,t)=>{const n=e.param("vm","maxInitCodeSize");if(n&&BigInt(t)>n)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)})(b,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length}_validateYParity(){const{v:e}=this;if(void 0!==e&&e!==BigInt(0)&&e!==BigInt(1)){const e=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(e)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&void 0!==e&&e>_I){const e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const e=this.common.param("gasPrices","txCreation");e&&(t+=e)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let r=0;r<this.data.length;r+=1)0===this.data[r]?n+=e:n+=t;if((void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){const e=BigInt(Math.ceil(this.data.length/32));n+=this.common.param("gasPrices","initCodeWordCost")*e}return n}toCreationAddress(){return void 0===this.to||0===this.to.buf.length}isSigned(){const{v:e,r:t,s:n}=this;return void 0!==e&&void 0!==t&&void 0!==n}verifySignature(){try{const e=this.getSenderPublicKey();return 0!==UI(e).length}catch(e){return!1}}getSenderAddress(){return new nS(nS.publicToAddress(this.getSenderPublicKey()))}sign(e){if(32!==e.length){const e=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(e)}let t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(eS.EIP155ReplayProtection)&&(this.activeCapabilities.push(eS.EIP155ReplayProtection),t=!0);const n=this.getMessageToSign(!0),{v:r,r:i,s:s}=this._ecsign(n,e),o=this._processSignature(r,i,s);if(t){const e=this.activeCapabilities.indexOf(eS.EIP155ReplayProtection);e>-1&&this.activeCapabilities.splice(e,1)}return o}_getCommon(e,t){var n,r,i,s;if(void 0!==t){const n=MI(LI(t));if(e){if(e.chainId()!==n){const e=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(e)}return e.copy()}return XI.isSupportedChainId(n)?new XI({chain:n,hardfork:this.DEFAULT_HARDFORK}):XI.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if((null===e||void 0===e?void 0:e.copy)&&"function"===typeof(null===e||void 0===e?void 0:e.copy))return e.copy();if(e){const t="function"===typeof e.hardfork?e.hardfork():e.hardfork;return XI.custom({name:"custom-chain",networkId:e.networkId?e.networkId():null!==(r=BigInt(null===(n=e.customChain)||void 0===n?void 0:n.networkId))&&void 0!==r?r:void 0,chainId:e.chainId?e.chainId():null!==(s=BigInt(null===(i=e.customChain)||void 0===i?void 0:i.chainId))&&void 0!==s?s:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:t||this.DEFAULT_HARDFORK})}return new XI({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(const[r,i]of Object.entries(e))switch(t){case 64:if(n){if(void 0!==i&&i>=AI){const e=this._errorMsg(`${r} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(e)}}else if(void 0!==i&&i>AI){const e=this._errorMsg(`${r} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(e)}break;case 256:if(n){if(void 0!==i&&i>=EI){const e=this._errorMsg(`${r} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(e)}}else if(void 0!==i&&i>EI){const e=this._errorMsg(`${r} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(e)}break;default:{const e=this._errorMsg("unimplemented bits value");throw new Error(e)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,r]of Object.entries(e))if(t.includes(n)&&Array.isArray(r))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?EA(this.hash()):"not available (unsigned)"}catch(i){e="error"}let t="";try{t=this.isSigned().toString()}catch(i){e="error"}let n="";try{n=this.common.hardfork()}catch(i){n="error"}let r=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return r+=`signed=${t} hf=${n}`,r}_ecsign(e,t,n){const r=wI.sign(e,t),i=r.toCompactRawBytes();return{r:i.subarray(0,32),s:i.subarray(32,64),v:void 0===n?BigInt(r.recovery+27):BigInt(r.recovery+35)+BigInt(n)*BigInt(2)}}static fromSerializedTx(e){}static fromTxData(e){}}const cS=_A(2..toString(16).padStart(2,"0"));class uS extends aS{static fromTxData(e){return new uS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!vA(e.subarray(0,1),cS))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: ${EA(e.subarray(0,1))}`);const n=GI.Tj.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return uS.fromValuesArray(n,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,r,i,s,o,a,c,u,l,d,h,f]=e;return this._validateNotArray({chainId:n,v:d}),Nw({nonce:r,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:o,value:c,v:d,r:h,s:f}),new uS({chainId:MI(n),nonce:r,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:o,to:a,value:c,data:u,accessList:null!==l&&void 0!==l?l:[],v:void 0!==d?MI(d):void 0,r:h,s:f},t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;super(Object.assign(Object.assign({},e),{type:2}),t),this.DEFAULT_HARDFORK="london";const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const a=rS(null!==i&&void 0!==i?i:[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,iS(this.accessList),this.maxFeePerGas=MI(LI(""===s?"0x":s)),this.maxPriorityFeePerGas=MI(LI(""===o?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),aS._validateNotArray(e),this.gasLimit*this.maxFeePerGas>EI){const e=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const e=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(e)}this._validateYParity(),this._validateHighS();(null===(n=null===t||void 0===t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(oS(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BigInt(0);const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,r=(t<n?t:n)+e;return this.gasLimit*r+this.value}raw(){return[VI(this.chainId),VI(this.nonce),VI(this.maxPriorityFeePerGas),VI(this.maxFeePerGas),VI(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),VI(this.value),this.data,this.accessList,void 0!==this.v?VI(this.v):Uint8Array.from([]),void 0!==this.r?VI(this.r):Uint8Array.from([]),void 0!==this.s?VI(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return gA(cS,GI.Tj.encode(e))}getMessageToSign(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.raw().slice(0,9),n=gA(cS,GI.Tj.encode(t));return e?Jv(n):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Jv(this.serialize())),this.cache.hash):Jv(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:r}=this;this._validateHighS();try{return zI(e,t+BigInt(27),VI(n),VI(r))}catch(i){const e=this._errorMsg("Invalid Signature");throw new Error(e)}}_processSignature(e,t,n){const r=Object.assign(Object.assign({},this.txOptions),{common:this.common});return uS.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:MI(t),s:MI(n)},r)}toJSON(){const e=sS(this.accessList);return{chainId:HI(this.chainId),nonce:HI(this.nonce),maxPriorityFeePerGas:HI(this.maxPriorityFeePerGas),maxFeePerGas:HI(this.maxFeePerGas),gasLimit:HI(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:HI(this.value),data:EA(this.data),accessList:e,v:void 0!==this.v?HI(this.v):void 0,r:void 0!==this.r?HI(this.r):void 0,s:void 0!==this.s?HI(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const lS=_A(1..toString(16).padStart(2,"0"));class dS extends aS{static fromTxData(e){return new dS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!vA(e.subarray(0,1),lS))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: ${EA(e.subarray(0,1))}`);const n=GI.Tj.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return dS.fromValuesArray(n,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,r,i,s,o,a,c,u,l,d,h]=e;this._validateNotArray({chainId:n,v:l}),Nw({nonce:r,gasPrice:i,gasLimit:s,value:a,v:l,r:d,s:h});return new dS({chainId:MI(n),nonce:r,gasPrice:i,gasLimit:s,to:o,value:a,data:c,accessList:null!==u&&void 0!==u?u:[],v:void 0!==l?MI(l):void 0,r:d,s:h},t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;super(Object.assign(Object.assign({},e),{type:1}),t),this.DEFAULT_HARDFORK="berlin";const{chainId:r,accessList:i,gasPrice:s}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const o=rS(null!==i&&void 0!==i?i:[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,iS(this.accessList),this.gasPrice=MI(LI(""===s?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),aS._validateNotArray(e),this.gasPrice*this.gasLimit>EI){const e=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(e)}this._validateYParity(),this._validateHighS();(null===(n=null===t||void 0===t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(oS(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[VI(this.chainId),VI(this.nonce),VI(this.gasPrice),VI(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),VI(this.value),this.data,this.accessList,void 0!==this.v?VI(this.v):Uint8Array.from([]),void 0!==this.r?VI(this.r):Uint8Array.from([]),void 0!==this.s?VI(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return gA(lS,GI.Tj.encode(e))}getMessageToSign(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.raw().slice(0,8),n=gA(lS,GI.Tj.encode(t));return e?Jv(n):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Jv(this.serialize())),this.cache.hash):Jv(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:r}=this;this._validateHighS();try{return zI(e,t+BigInt(27),VI(n),VI(r))}catch(i){const e=this._errorMsg("Invalid Signature");throw new Error(e)}}_processSignature(e,t,n){const r=Object.assign(Object.assign({},this.txOptions),{common:this.common});return dS.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:MI(t),s:MI(n)},r)}toJSON(){const e=sS(this.accessList);return{chainId:HI(this.chainId),nonce:HI(this.nonce),gasPrice:HI(this.gasPrice),gasLimit:HI(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:HI(this.value),data:EA(this.data),accessList:e,v:void 0!==this.v?HI(this.v):void 0,r:void 0!==this.r?HI(this.r):void 0,s:void 0!==this.s?HI(this.s):void 0}}errorStr(){var e,t;let n=this._getSharedErrorPostfix();return n+=` gasPrice=${this.gasPrice} accessListCount=${null!==(t=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==t?t:0}`,n}_errorMsg(e){return`${e} (${this.errorStr()})`}}function hS(e,t){const n=Number(e),r=2*Number(t);return n===r+35||n===r+36}class fS extends aS{static fromTxData(e){return new fS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=GI.Tj.decode(e);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,r,i,s,o,a,c,u,l]=e;return Nw({nonce:n,gasPrice:r,gasLimit:i,value:o,v:c,r:u,s:l}),new fS({nonce:n,gasPrice:r,gasLimit:i,to:s,value:o,data:a,v:c,r:u,s:l},t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;if(super(Object.assign(Object.assign({},e),{type:0}),t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=MI(LI(""===e.gasPrice?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>EI){const e=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),aS._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?hS(this.v,this.common.chainId())&&this.activeCapabilities.push(eS.EIP155ReplayProtection):this.activeCapabilities.push(eS.EIP155ReplayProtection));(null===(n=null===t||void 0===t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(this)}raw(){return[VI(this.nonce),VI(this.gasPrice),VI(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),VI(this.value),this.data,void 0!==this.v?VI(this.v):Uint8Array.from([]),void 0!==this.r?VI(this.r):Uint8Array.from([]),void 0!==this.s?VI(this.s):Uint8Array.from([])]}serialize(){return GI.Tj.encode(this.raw())}_getMessageToSign(){const e=[VI(this.nonce),VI(this.gasPrice),VI(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),VI(this.value),this.data];return this.supports(eS.EIP155ReplayProtection)&&(e.push(LI(this.common.chainId())),e.push(UI(LI(0))),e.push(UI(LI(0)))),e}getMessageToSign(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this._getMessageToSign();return e?Jv(GI.Tj.encode(t)):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Jv(GI.Tj.encode(this.raw()))),this.cache.hash):Jv(GI.Tj.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}const e=this._getMessageToSign();return Jv(GI.Tj.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:n,s:r}=this;this._validateHighS();try{return zI(e,t,VI(n),VI(r),this.supports(eS.EIP155ReplayProtection)?this.common.chainId():void 0)}catch(i){const e=this._errorMsg("Invalid Signature");throw new Error(e)}}_processSignature(e,t,n){let r=e;this.supports(eS.EIP155ReplayProtection)&&(r+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return fS.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:r,r:MI(t),s:MI(n)},i)}toJSON(){return{nonce:HI(this.nonce),gasPrice:HI(this.gasPrice),gasLimit:HI(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:HI(this.value),data:EA(this.data),v:void 0!==this.v?HI(this.v):void 0,r:void 0!==this.r?HI(this.r):void 0,s:void 0!==this.s?HI(this.s):void 0}}_validateTxV(e,t){let n;const r=void 0!==e?Number(e):void 0;if(void 0!==r&&r<37&&27!==r&&28!==r)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${r}`);if(void 0!==r&&0!==r&&(!t||t.gteHardfork("spuriousDragon"))&&27!==r&&28!==r)if(t){if(!hS(BigInt(r),t.chainId()))throw new Error(`Incompatible EIP155-based V ${r} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let e;e=(r-35)%2===0?35:36,n=BigInt(r-e)/BigInt(2)}return this._getCommon(t,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const pS=new Map;class mS{constructor(){}static typeToInt(e){return Number(MI(LI(e)))}static registerTransactionType(e,t){const n=mS.typeToInt(e);pS.set(n,t)}static fromTxData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!("type"in e)||void 0===e.type)return fS.fromTxData(e,t);const n=mS.typeToInt(e.type);if(0===n)return fS.fromTxData(e,t);if(1===n)return dS.fromTxData(e,t);if(2===n)return uS.fromTxData(e,t);const r=pS.get(n);if(null===r||void 0===r?void 0:r.fromTxData)return r.fromTxData(e,t);throw new Error(`Tx instantiation with type ${n} not supported`)}static fromSerializedData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e[0]<=127))return fS.fromSerializedTx(e,t);switch(e[0]){case 1:return dS.fromSerializedTx(e,t);case 2:return uS.fromSerializedTx(e,t);default:{const n=pS.get(Number(e[0]));if(null===n||void 0===n?void 0:n.fromSerializedTx)return n.fromSerializedTx(e,t);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}}static fromBlockBodyData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(mA(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return fS.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}}var gS=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const vS=(e,t)=>{let n;if(!t&&"string"===typeof e&&Tw(e)&&66!==e.length)throw new um;try{n=mA(e)?e:wA(e)}catch(s_){throw new lm}if(!t&&32!==n.byteLength)throw new um;return n},yS=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Tw(e)?e:CA(e),r=_A(n),i=_A(PA(`\x19Ethereum Signed Message:\n${r.byteLength}`)),s=t?r:gA(i,r);return TE(s)},bS=(e,t)=>{const n=vS(t),r=wI.sign(e.substring(2),n),i=r.toCompactRawBytes(),s=r.r.toString(16).padStart(64,"0"),o=r.s.toString(16).padStart(64,"0"),a=r.recovery+27;return{messageHash:e,v:SA(a),r:`0x${s}`,s:`0x${o}`,signature:`${EA(i)}${a.toString(16)}`}},wS=(e,t)=>{const n=yS(e),{messageHash:r,v:i,r:s,s:o,signature:a}=bS(n,t);return{message:e,messageHash:r,v:i,r:s,s:o,signature:a}},AS=e=>{if(aA(e))throw new Qm;const t=mS.fromSerializedData(_A(e));return GA(t.getSenderAddress().toString())},ES=(e,t,n,r,i)=>{if("object"===typeof e){const t=`${e.r}${e.s.slice(2)}${e.v.slice(2)}`;return ES(e.messageHash,t,n)}if("string"===typeof t&&"string"===typeof n&&!aA(r)){const s=`${n}${r.slice(2)}${t.slice(2)}`;return ES(e,s,i)}if(aA(t))throw new dm("signature string undefined");const s=n?e:yS(e);let o=parseInt(t.substring(130),16);o>26&&(o-=27);const a=wI.Signature.fromCompact(t.slice(2,130)).addRecoveryBit(o).recoverPublicKey(s.replace("0x","")).toRawBytes(!1),c=TE(a.subarray(1));return GA(`0x${c.slice(-40)}`)},_S=e=>{const t=vS(e),n=wI.getPublicKey(t,!1),r=TE(n.slice(1)).slice(-40);return GA(`0x${r}`)},kS=(e,t)=>{const n=vS(e);return`0x${EA(wI.getPublicKey(n,t)).slice(4)}`},IS=(e,t,n)=>gS(void 0,void 0,void 0,(function*(){var r,i,s,o,a,c,u;const l=vS(e);let d;if(d=(null===n||void 0===n?void 0:n.salt)?"string"===typeof n.salt?_A(n.salt):n.salt:ME(32),!Sw(t)&&!mA(t))throw new mm;const h="string"===typeof t?_A(CA(t)):t;let f;if(null===n||void 0===n?void 0:n.iv){if(f="string"===typeof n.iv?_A(n.iv):n.iv,16!==f.length)throw new gm}else f=ME(16);const p=null!==(r=null===n||void 0===n?void 0:n.kdf)&&void 0!==r?r:"scrypt";let m,g;if("pbkdf2"===p){if(g={dklen:null!==(i=null===n||void 0===n?void 0:n.dklen)&&void 0!==i?i:32,salt:EA(d).replace("0x",""),c:null!==(s=null===n||void 0===n?void 0:n.c)&&void 0!==s?s:262144,prf:"hmac-sha256"},g.c<1e3)throw new vm;m=uk(h,d,g.c,g.dklen,"sha256")}else{if("scrypt"!==p)throw new hm;g={n:null!==(o=null===n||void 0===n?void 0:n.n)&&void 0!==o?o:8192,r:null!==(a=null===n||void 0===n?void 0:n.r)&&void 0!==a?a:8,p:null!==(c=null===n||void 0===n?void 0:n.p)&&void 0!==c?c:1,dklen:null!==(u=null===n||void 0===n?void 0:n.dklen)&&void 0!==u?u:32,salt:EA(d).replace("0x","")},m=pk(h,d,g.n,g.p,g.r,g.dklen)}const v=yield V_(l,m.slice(0,16),f,"aes-128-ctr"),y=EA(v).slice(2),b=TE(gA(m.slice(16,32),v)).replace("0x","");return{version:3,id:GE(),address:_S(l).toLowerCase().replace("0x",""),crypto:{ciphertext:y,cipherparams:{iv:EA(f).replace("0x","")},cipher:"aes-128-ctr",kdf:p,kdfparams:g,mac:b}}})),SS=(e,t)=>{const n=vS(e,t);return{address:_S(n),privateKey:EA(n),signTransaction:e=>{throw new _g("Do not have network access to sign the transaction")},sign:e=>wS("string"===typeof e?e:JSON.stringify(e),n),encrypt:(e,t)=>gS(void 0,void 0,void 0,(function*(){return IS(n,e,t)}))}};var TS=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class xS{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map((e=>e.payload))}add(e){const t=n_(e),n=new a_;return this._requests.set(t.id,{payload:t,promise:n}),n}execute(e){return TS(this,void 0,void 0,(function*(){var t;if(0===this.requests.length)return Promise.resolve([]);const n=new a_({timeout:null!==(t=null===e||void 0===e?void 0:e.timeout)&&void 0!==t?t:1e3,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(n).catch((e=>n.reject(e))),n.catch((e=>{e instanceof Rm&&this._abortAllRequests("Batch request timeout"),n.reject(e)})),n}))}_processBatchRequest(e){return TS(this,void 0,void 0,(function*(){var t,n;const r=yield this._requestManager.sendBatch([...this._requests.values()].map((e=>e.payload)));if(r.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new Ug(r,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${r.length}`);const i=this.requests.map((e=>e.id)).map(Number).sort(((e,t)=>e-t)),s=r.map((e=>e.id)).map(Number).sort(((e,t)=>e-t));if(JSON.stringify(i)!==JSON.stringify(s))throw this._abortAllRequests("Invalid batch response"),new Ug(r,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${s.join()}]`);for(const e of r)$E(e)?null===(t=this._requests.get(e.id))||void 0===t||t.promise.resolve(e.result):KE(e)&&(null===(n=this._requests.get(e.id))||void 0===n||n.promise.reject(e.error));e.resolve(r)}))}_abortAllRequests(e){for(const{promise:t}of this._requests.values())t.reject(new Dm(e))}}var CS=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class PS extends g_{constructor(e){var t;if(super(),this.providers=O_.providers,cE(e)||"string"===typeof e&&""!==e.trim()||x_(e))return this._requestManager=new O_(e),void(this._subscriptionManager=new D_(this._requestManager,{}));const{config:n,provider:r,requestManager:i,subscriptionManager:s,registeredSubscriptions:o,accountProvider:a,wallet:c,requestManagerMiddleware:u}=e;this.setConfig(null!==n&&void 0!==n?n:{}),this._requestManager=null!==i&&void 0!==i?i:new O_(r,null===(t=null===n||void 0===n?void 0:n.enableExperimentalFeatures)||void 0===t?void 0:t.useSubscriptionWhenCheckingBlockTimeout,u),this._subscriptionManager=s||new D_(this.requestManager,null!==o&&void 0!==o?o:{}),a&&(this._accountProvider=a),c&&(this._wallet=c)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:null===(e=this.subscriptionManager)||void 0===e?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=new e(...[...n,this.getContextObject()]);return this.on(m_.CONFIG_CHANGE,(e=>{i.setConfig({[e.name]:e.newValue})})),this[e.name]=i,i}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(m_.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}registerPlugin(e){if(void 0!==this[e.pluginNamespace])throw new Mm(e.pluginNamespace);const t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return PS.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return xS.bind(void 0,this._requestManager)}extend(e){var t,n=this;return e.property&&!this[e.property]&&(this[e.property]={}),null===(t=e.methods)||void 0===t||t.forEach((t=>{const r=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return CS(n,void 0,void 0,(function*(){return this.requestManager.send({method:t.call,params:r})}))};e.property?this[e.property][t.name]=r:this[t.name]=r})),this}}PS.providers=O_.providers;class NS{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const e=this._iban.slice(4),t=NS._parseInt(e,36),n=pE(t,40);return GA(n)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},!NS.isIndirect(e)&&!NS.isDirect(e))throw new Error("Invalid IBAN was provided");this._iban=e}static isDirect(e){return 34===e.length||35===e.length}isDirect(){return NS.isDirect(this._iban)}static isIndirect(e){return 20===e.length}isIndirect(){return NS.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&1===NS._mod9710(NS._iso13616Prepare(e))}isValid(){return NS.isValid(this._iban)}static fromBban(e){const t=`0${(98-this._mod9710(this._iso13616Prepare(`XE00${e}`))).toString()}`.slice(-2);return new NS(`XE${t}${e}`)}static createIndirect(e){return NS.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!Zw(e))throw new xg(e);const t=BigInt(kA(e)).toString(36),n=pE(t,15);return NS.fromBban(n.toUpperCase())}static toIban(e){return NS.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}NS._iso13616Prepare=e=>{const t="A".charCodeAt(0),n="Z".charCodeAt(0),r=e.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map((e=>{const r=e.charCodeAt(0);return r>=t&&r<=n?r-t+10:e})).join("")},NS._parseInt=(e,t)=>[...e].reduce(((e,n)=>BigInt(parseInt(n,t))+BigInt(t)*e),BigInt(0)),NS._mod9710=e=>{let t,n=e;for(;n.length>2;)t=n.slice(0,9),n=`${(parseInt(t,10)%97).toString()}${n.slice(t.length)}`;return parseInt(n,10)%97},NS.toAddress=e=>new NS(e).toAddress();var OS,RS=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class DS extends p_{constructor(e){super(),this[OS]="Promise",this._promise=new Promise(e)}then(e,t){return RS(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return RS(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return RS(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}OS=Symbol.toStringTag;n(132);var LS=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function MS(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_syncing",params:[]})}))}function BS(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]})}))}function FS(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag","bool"],[t,n]),e.send({method:"eth_getBlockByNumber",params:[t,n]})}))}var jS=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};var US=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const HS={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},VS={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},zS={type:"object",properties:{gasPrice:{type:"null"}}},qS=(e,t,n)=>{try{pA.validateJSONSchema(e,t)}catch(r){if(r instanceof _w)throw new Ig(r.errors,n);throw r}},GS=e=>{var t,n;const r=e;if(!aA(r.type)){let e;switch(r.type){case"0x0":e=HS;break;case"0x1":e=VS;break;case"0x2":e=zS;break;default:return _E({format:"uint"},r.type,Lp)}return qS(e,r,r.type),_E({format:"uint"},r.type,Lp)}if(!aA(r.maxFeePerGas)||!aA(r.maxPriorityFeePerGas))return qS(zS,r,"0x2"),"0x2";if(!aA(r.accessList))return qS(VS,r,"0x1"),"0x1";const i=null!==(t=r.hardfork)&&void 0!==t?t:null===(n=r.common)||void 0===n?void 0:n.hardfork;if(!aA(i)){const e=Object.keys(Bp).indexOf(i);if(e>=Object.keys(Bp).indexOf("london"))return aA(r.gasPrice)?"0x2":"0x0";if(e===Object.keys(Bp).indexOf("berlin"))return"0x0"}return aA(r.gasPrice)?void 0:(qS(HS,r,"0x0"),"0x0")},QS=(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.transactionTypeParser)&&void 0!==n?n:GS)(e)},$S={type:"array",items:Object.assign({},{type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}})},KS={type:"object",properties:{accessList:Object.assign({},$S),gasUsed:{type:"string"}}},WS={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},JS={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},ZS={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},$S),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},WS),hardfork:Object.assign({},JS),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},{type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}}),baseChain:Object.assign({},WS),hardfork:Object.assign({},JS)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},YS={type:"object",properties:Object.assign(Object.assign({},ZS.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},$S),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},XS={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},eT={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},YS)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},XS)},withdrawalsRoot:{format:"bytes32"}}},tT={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},XS)},withdrawalsRoot:{format:"bytes32"}}},nT={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},rT={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},iT={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},nT)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},sT={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},oT={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},aT={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},{type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}})}}};function cT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{transactionSchema:YS,fillInputAndData:!1};var r,i;let s=lE({},e);if(aA(null===e||void 0===e?void 0:e.common)||(s.common=Object.assign({},e.common),aA(null===(r=e.common)||void 0===r?void 0:r.customChain)||(s.common.customChain=Object.assign({},e.common.customChain))),s=_E(null!==(i=n.transactionSchema)&&void 0!==i?i:YS,s,t),!aA(s.data)&&!aA(s.input)&&UA(s.data)!==UA(s.input))throw new gg({data:EA(s.data),input:EA(s.input)});return n.fillInputAndData&&(aA(s.data)?aA(s.input)||(s.data=s.input):s.input=s.data),aA(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}var uT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function lT(e,t){return uT(this,void 0,void 0,(function*(){const n=yield function(e){return jS(this,void 0,void 0,(function*(){return e.send({method:"net_version",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,t)}))}function dT(e,t){return uT(this,void 0,void 0,(function*(){const n=yield function(e){return jS(this,void 0,void 0,(function*(){return e.send({method:"net_peerCount",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,t)}))}const hT=e=>uT(void 0,void 0,void 0,(function*(){return function(e){return jS(this,void 0,void 0,(function*(){return e.send({method:"net_listening",params:[]})}))}(e.requestManager)}));var fT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class pT extends PS{getId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return fT(this,void 0,void 0,(function*(){return lT(this,e)}))}getPeerCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return fT(this,void 0,void 0,(function*(){return dT(this,e)}))}isListening(){return fT(this,void 0,void 0,(function*(){return hT(this)}))}}const mT="ALLEVENTS",gT={name:mT,signature:"",type:"event",inputs:[]},vT={bytes:Rp.HEX,number:Op.NUMBER};var yT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function bT(e,t,n){return yT(this,void 0,void 0,(function*(){const r=ET(e,t);if(!aA(r)){if(r.startsWith("-"))throw new mg(r);if(Number(r)<0||Number(r)>127)throw new mg(r);if(aA(e.gasPrice)&&("0x0"===r||"0x1"===r))return{gasPrice:yield tC(t,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if("0x2"===r)return Object.assign({gasPrice:void 0},yield function(e,t,n){return yT(this,void 0,void 0,(function*(){var r,i,s,o;const a=yield aC(t,t.defaultBlock,!1,Lp);if(aA(a.baseFeePerGas))throw new pg;let c;if(aA(e.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(c=yield tC(t,n)),!aA(e.gasPrice)||!aA(c)){const t=_E({format:"uint"},null!==(r=e.gasPrice)&&void 0!==r?r:c,n);return{maxPriorityFeePerGas:t,maxFeePerGas:t}}return{maxPriorityFeePerGas:_E({format:"uint"},null!==(i=e.maxPriorityFeePerGas)&&void 0!==i?i:t.defaultMaxPriorityFeePerGas,n),maxFeePerGas:_E({format:"uint"},null!==(s=e.maxFeePerGas)&&void 0!==s?s:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt(null!==(o=e.maxPriorityFeePerGas)&&void 0!==o?o:t.defaultMaxPriorityFeePerGas),n)}}))}(e,t,n))}}))}var wT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const AT=(e,t,n,r)=>{if(void 0!==n&&e in n&&void 0!==n[e]){if("string"===typeof n[e]&&Zw(n[e]))return n[e];if(!Tw(n[e])&&tA(n[e])){if(t.wallet){const r=t.wallet.get(_E({format:"uint"},n[e],vT));if(!aA(r))return r.address;throw new kg}throw new kg}throw"from"===e?new Km(n.from):new Wm(n.to)}if("from"===e){if(!aA(r))return _S(r);if(!aA(t.defaultAccount))return t.defaultAccount}},ET=(e,t)=>{const n=QS(e,t);return aA(n)?aA(t.defaultTransactionType)?void 0:_E({format:"uint"},t.defaultTransactionType,Lp):n};function _T(e){return wT(this,void 0,void 0,(function*(){var t,n;let r=_E(ZS,e.transaction,e.web3Context.defaultReturnFormat);if(aA(r.from)&&(r.from=AT("from",e.web3Context,void 0,e.privateKey)),aA(r.nonce)&&(r.nonce=yield function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return wT(void 0,[e,t,...r],void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultReturnFormat;return function*(){if(aA(t))throw new fg;return mC(e,t,e.defaultBlock,n)}()}))}(e.web3Context,r.from,Lp)),aA(r.value)&&(r.value="0x0"),aA(r.data))aA(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!aA(r.input)&&r.data!==r.input)throw new gg({data:EA(r.data),input:EA(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(aA(r.common)){if(e.web3Context.defaultCommon){const t=e.web3Context.defaultCommon,n=t.customChain.chainId,i=t.customChain.networkId,s=t.customChain.name;r.common=Object.assign(Object.assign({},t),{customChain:{chainId:n,networkId:i,name:s}})}aA(r.chain)&&(r.chain=e.web3Context.defaultChain),aA(r.hardfork)&&(r.hardfork=e.web3Context.defaultHardfork)}if(aA(r.chainId)&&aA(null===(t=r.common)||void 0===t?void 0:t.customChain.chainId)&&(r.chainId=yield EC(e.web3Context,Lp)),aA(r.networkId)&&(r.networkId=null!==(n=e.web3Context.defaultNetworkId)&&void 0!==n?n:yield lT(e.web3Context,Lp)),aA(r.gasLimit)&&!aA(r.gas)&&(r.gasLimit=r.gas),r.type=ET(r,e.web3Context),!aA(r.accessList)||"0x1"!==r.type&&"0x2"!==r.type||(r.accessList=[]),e.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield bT(r,e.web3Context,Lp))),aA(r.gas)&&aA(r.gasLimit)&&e.fillGasLimit){const t=yield wC(e.web3Context,r,"latest",Lp);r=Object.assign(Object.assign({},r),{gas:_E({format:"uint"},t,Lp)})}return r}))}var kT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function IT(e,t,n){const r=e.transactionPollingInterval,[i,s]=qE((()=>kT(this,void 0,void 0,(function*(){let r;try{r=yield rC(e,vT)}catch(s){return void console.warn("An error happen while trying to get the block number",s)}const i=r-t;if(i>=e.transactionBlockTimeout)return new wg({starterBlockNumber:t,numberOfBlocks:i,transactionHash:n})}))),r);return[s,{clean:()=>{clearInterval(i)}}]}function ST(e,t){return kT(this,void 0,void 0,(function*(){var n,r;const{provider:i}=e.requestManager;let s;const o=yield rC(e,vT);return s=(null===(r=(n=i).supportsSubscriptions)||void 0===r?void 0:r.call(n))&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?yield function(e,t,n){return kT(this,void 0,void 0,(function*(){var r;let i,s,o=!0;function a(r,i){i&&console.warn("error happened at subscription. So revert to polling...",i),s.clean(),o=!1;const[a,c]=IT(e,t,n);s.clean=c.clean,a.catch((e=>r(e)))}try{i=yield null===(r=e.subscriptionManager)||void 0===r?void 0:r.subscribe("newHeads"),s={clean:()=>{var t;i.id&&(null===(t=e.subscriptionManager)||void 0===t||t.removeSubscription(i).then((()=>{})).catch((()=>{})))}}}catch(c){return IT(e,t,n)}return[new Promise(((r,s)=>{try{i.on("data",(r=>{if(o=!1,!(null===r||void 0===r?void 0:r.number))return;const i=Number(BigInt(r.number)-BigInt(t));i>=e.transactionBlockTimeout&&s(new wg({starterBlockNumber:t,numberOfBlocks:i,transactionHash:n}))})),i.on("error",(e=>{a(s,e)}))}catch(c){a(s,c)}setTimeout((()=>{o&&a(s)}),1e3*e.blockHeaderTimeout)})),s]}))}(e,o,t):IT(e,o,t),s}))}var TT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function xT(e,t,n){return TT(this,void 0,void 0,(function*(){const[r,i]=zE(e.transactionSendTimeout,new vg({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:n})),[s,o]=yield ST(e,n);try{return yield Promise.race([t(),i,s])}finally{clearTimeout(r),o.clean()}}))}var CT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function PT(e,t,n,r){return CT(this,void 0,void 0,(function*(){var i;const s=null!==(i=e.transactionReceiptPollingInterval)&&void 0!==i?i:e.transactionPollingInterval,[o,a]=HE((()=>CT(this,void 0,void 0,(function*(){try{return(null!==r&&void 0!==r?r:pC)(e,t,n)}catch(i){return void console.warn("An error happen while trying to get the transaction receipt",i)}}))),s),[c,u]=zE(e.transactionPollingTimeout,new bg({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[l,d]=yield ST(e,t);try{return yield Promise.race([o,u,l])}finally{c&&clearTimeout(c),a&&clearInterval(a),d.clean()}}))}var NT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const OT=e=>{let{web3Context:t,transactionReceipt:n,transactionPromiEvent:r,customTransactionReceiptSchema:i,returnFormat:s}=e;var o;let a=1;const c=setInterval((()=>{NT(void 0,void 0,void 0,(function*(){if(a>=t.transactionConfirmationBlocks)return void clearInterval(c);const e=yield FS(t.requestManager,SA(BigInt(n.blockNumber)+BigInt(a)),!1);(null===e||void 0===e?void 0:e.hash)&&(a+=1,r.emit("confirmation",{confirmations:_E({format:"uint"},a,s),receipt:_E(null!==i&&void 0!==i?i:iT,n,s),latestBlockHash:_E({format:"bytes32"},e.hash,s)}))}))}),null!==(o=t.transactionReceiptPollingInterval)&&void 0!==o?o:t.transactionPollingInterval)};var RT=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function DT(e,t,n,r,i,s){if(aA(n)||aA(n.blockHash))throw new Ag({receipt:n,blockHash:_E({format:"bytes32"},null===n||void 0===n?void 0:n.blockHash,i),transactionHash:_E({format:"bytes32"},r,i)});if(!n.blockNumber)throw new Eg({receipt:n});t.emit("confirmation",{confirmations:_E({format:"uint"},1,i),receipt:_E(null!==s&&void 0!==s?s:iT,n,i),latestBlockHash:_E({format:"bytes32"},n.blockHash,i)});const o=e.requestManager.provider;o&&"supportsSubscriptions"in o&&o.supportsSubscriptions()?(e=>{let t,{web3Context:n,transactionReceipt:r,transactionPromiEvent:i,customTransactionReceiptSchema:s,returnFormat:o}=e,a=!0;setImmediate((()=>{var e;null===(e=n.subscriptionManager)||void 0===e||e.subscribe("newHeads").then((e=>{e.on("data",(c=>RT(void 0,void 0,void 0,(function*(){var u;if(a=!1,!(null===c||void 0===c?void 0:c.number)||t===(null===c||void 0===c?void 0:c.parentHash))return;t=null===c||void 0===c?void 0:c.parentHash;const l=BigInt(c.number)-BigInt(r.blockNumber)+BigInt(1);i.emit("confirmation",{confirmations:_E({format:"uint"},l,o),receipt:_E(null!==s&&void 0!==s?s:iT,r,o),latestBlockHash:_E({format:"bytes32"},c.parentHash,o)}),l>=n.transactionConfirmationBlocks&&(yield null===(u=n.subscriptionManager)||void 0===u?void 0:u.removeSubscription(e))})))),e.on("error",(()=>RT(void 0,void 0,void 0,(function*(){var t;yield null===(t=n.subscriptionManager)||void 0===t?void 0:t.removeSubscription(e),a=!1,OT({web3Context:n,transactionReceipt:r,transactionPromiEvent:i,customTransactionReceiptSchema:s,returnFormat:o})}))))})).catch((()=>{a=!1,OT({web3Context:n,transactionReceipt:r,customTransactionReceiptSchema:s,transactionPromiEvent:i,returnFormat:o})}))})),setTimeout((()=>{a&&OT({web3Context:n,transactionReceipt:r,transactionPromiEvent:i,returnFormat:o})}),1e3*n.blockHeaderTimeout)})({web3Context:e,transactionReceipt:n,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:i}):OT({web3Context:e,transactionReceipt:n,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:i})}const LT=e=>!cE(e)&&"object"===typeof e&&!cE(e.type)&&"error"===e.type,MT=e=>!cE(e)&&"object"===typeof e&&!cE(e.type)&&"event"===e.type,BT=e=>!cE(e)&&"object"===typeof e&&!cE(e.type)&&"function"===e.type,FT=e=>"object"===typeof e&&"undefined"===typeof e.components&&"undefined"===typeof e.name,jT=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},UT=e=>{const t=[];for(const n of Object.keys(e)){const r=e[n];"object"===typeof r?t.push(Object.assign(Object.assign({},jT(n)),{components:UT(r)})):t.push({name:n,type:e[n]})}return t},HT=(e,t)=>{const n=[];return t.forEach((t=>{if("object"===typeof t.components){if(!t.type.startsWith("tuple"))throw new Lm(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const r=t.type.indexOf("["),i=r>=0?t.type.substring(r):"",s=HT(e,t.components);Array.isArray(s)&&e?n.push(`tuple(${s.join(",")})${i}`):e?n.push(`(${s.join()})`):n.push(`(${s.join(",")})${i}`)}else n.push(t.type)})),n},VT=e=>{var t,n,r,i;return LT(e)||MT(e)||BT(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(n=e.name)&&void 0!==n?n:""}(${HT(!1,null!==(r=e.inputs)&&void 0!==r?r:[]).join(",")})`:`(${HT(!1,null!==(i=e.inputs)&&void 0!==i?i:[]).join(",")})`},zT=e=>{if("string"!==typeof e&&!MT(e))throw new Lm("Invalid parameter value in encodeEventSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:VT(e),TE(t)};function qT(e,t){const n=e.exec(t);return n?.groups}var GT=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,QT=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,$T=/^\(.+?\).*?$/,KT=Object.defineProperty,WT=(e,t,n)=>(((e,t,n)=>{t in e?KT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),JT=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.cause instanceof JT?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof JT&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@0.7.1"].join("\n")),WT(this,"details"),WT(this,"docsPath"),WT(this,"metaMessages"),WT(this,"shortMessage"),WT(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}};var ZT=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function YT(e){return ZT.test(e)}function XT(e){return qT(ZT,e)}var ex=new Set(["memory","indexed","storage","calldata"]),tx=new Set(["calldata","memory","storage"]);var nx=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var rx=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,ix=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,sx=/^u?int$/;function ox(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(nx.has(n))return nx.get(n);const r=$T.test(e),i=qT(r?ix:rx,e);if(!i)throw new JT("Invalid ABI parameter.",{details:e});if(i.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||GT.test(e)||QT.test(e)||ux.test(e)}(i.name))throw new JT("Invalid ABI parameter.",{details:e,metaMessages:[`"${i.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const s=i.name?{name:i.name}:{},o="indexed"===i.modifier?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const e=ax(i.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(ox(e[r],{structs:a}));u={components:t}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if(sx.test(i.type))c=`${i.type}256`;else if(c=i.type,"struct"!==t?.type&&!cx(c))throw new JT("Unknown type.",{metaMessages:[`Type "${c}" is not a valid ABI type.`]});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new JT("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(tx.has(i.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!i.array))throw new JT("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i.modifier}" was given.`]})}const l={type:`${c}${i.array??""}`,...s,...o,...u};return nx.set(n,l),l}function ax(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(""===e){if(""===n)return t;if(0!==r)throw new JT("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...t,n.trim()]}const i=e.length;for(let s=0;s<i;s++){const i=e[s],o=e.slice(s+1);switch(i){case",":return 0===r?ax(o,[...t,n.trim()]):ax(o,t,`${n}${i}`,r);case"(":return ax(o,t,`${n}${i}`,r+1);case")":return ax(o,t,`${n}${i}`,r-1);default:return ax(o,t,`${n}${i}`,r)}}return[]}function cx(e){return"address"===e||"bool"===e||"function"===e||"string"===e||GT.test(e)||QT.test(e)}var ux=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function lx(e){const t={},n=e.length;for(let o=0;o<n;o++){const n=e[o];if(!YT(n))continue;const r=XT(n);if(!r)throw new JT("Invalid struct signature.",{details:n});const i=r.properties.split(";"),s=[],a=i.length;for(let e=0;e<a;e++){const t=i[e].trim();if(!t)continue;const n=ox(t,{type:"struct"});s.push(n)}if(!s.length)throw new JT("Invalid struct signature.",{details:n,metaMessages:["No properties exist."]});t[r.name]=s}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[e,n]=i[o];r[e]=hx(n,t)}return r}var dx=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function hx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=[],i=e.length;for(let s=0;s<i;s++){const i=e[s];if($T.test(i.type))r.push(i);else{const e=qT(dx,i.type);if(!e?.type)throw new JT("Invalid ABI parameter.",{details:JSON.stringify(i,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:s,type:o}=e;if(o in t){if(n.has(o))throw new JT("Circular reference detected.",{metaMessages:[`Struct "${o}" is a circular reference.`]});r.push({...i,type:`tuple${s??""}`,components:hx(t[o]??[],t,new Set([...n,o]))})}else{if(!cx(o))throw new JT("Unknown type.",{metaMessages:[`Type "${o}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});r.push(i)}}}return r}const fx=32;function px(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t;if(void 0!==(null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)){const t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function mx(e){var t,n;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(n=e.components)||void 0===n?void 0:n.map((e=>mx(e)))})}function gx(e){return e.map((e=>{var t,n;if(!cE(n=e)&&"object"===typeof n&&!cE(n.type)&&"string"===typeof n.type)return e;if("string"===typeof e)return mx(function(e){let t;if("string"===typeof e)t=ox(e,{modifiers:ex});else{const n=lx(e),r=e.length;for(let i=0;i<r;i++){const r=e[i];if(!YT(r)){t=ox(r,{modifiers:ex,structs:n});break}}}if(!t)throw new JT("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if(FT(e)){const n=Object.keys(e)[0],r=jT(n);return r.name=null!==(t=r.name)&&void 0!==t?t:"",Object.assign(Object.assign({},r),{components:UT(e[n])})}throw new Lm("Invalid abi")}))}function vx(e){const t=e.type.lastIndexOf("["),n=e.type.substring(0,t),r=e.type.substring(t);let i=-1;if("[]"!==r&&(i=Number(r.slice(1,-1)),isNaN(i)))throw new Lm("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:e.components},size:i}}function yx(e){var t,n;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(n=null===(t=e.components)||void 0===t?void 0:t.some(yx))&&void 0!==n&&n:!!e.type.endsWith("]")&&yx(vx(e).param))}const bx=new Map;let wx=BigInt(256);for(let n=8;n<=256;n+=8)bx.set(`uint${n}`,{min:BigInt(0),max:wx-BigInt(1)}),bx.set(`int${n}`,{min:-wx/BigInt(2),max:wx/BigInt(2)-BigInt(1)}),wx*=BigInt(256);bx.set("int",bx.get("int256")),bx.set("uint",bx.get("uint256"));const Ax=BigInt(1)<<BigInt(256);function Ex(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fx;return t=e<0?(Ax+e).toString(16):e.toString(16),t=dE(t,2*n),Qw(t)}function _x(e,t){let n;try{n=VA(t)}catch(i){throw new Lm("provided input is not number value",{type:e.type,value:t,name:e.name})}const r=bx.get(e.type);if(!r)throw new Lm("provided abi contains invalid number datatype",{type:e.type});if(n<r.min)throw new Lm("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:r.min.toString()});if(n>r.max)throw new Lm("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:r.max.toString()});return{dynamic:!1,encoded:Ex(n)}}function kx(e,t){if(t.length<fx)throw new Lm("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const n=t.subarray(0,fx),r=bx.get(e.type);if(!r)throw new Lm("provided abi contains invalid number datatype",{type:e.type});const i=function(e,t){const n=zw(e),r=BigInt(n);return r<=t?r:r-Ax}(n,r.max);if(i<r.min)throw new Lm("decoded value is less then minimum for given type",{type:e.type,value:i,name:e.name,minimum:r.min.toString()});if(i>r.max)throw new Lm("decoded value is greater then maximum for given type",{type:e.type,value:i,name:e.name,maximum:r.max.toString()});return{result:i,encoded:t.subarray(fx),consumed:fx}}function Ix(e,t){if("string"===typeof t&&t.length%2!==0&&(t+="0"),!Ww(t))throw new Lm("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const n=wA(t),[,r]=e.type.split("bytes");if(r){if(Number(r)>32||Number(r)<1)throw new Lm("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(r)<n.length)throw new Lm("provided input size is different than type size",{type:e.type,value:t,name:e.name});const i=px(fx);return i.set(n),{dynamic:!1,encoded:i}}const i=Math.ceil(n.length/fx),s=px(fx+i*fx);return s.set(_x({type:"uint32",name:""},n.length).encoded),s.set(n,fx),{dynamic:!0,encoded:s}}function Sx(e,t){const[,n]=e.type.split("bytes");let r=Number(n),i=t,s=1,o=0;if(!r){const e=kx({type:"uint32",name:""},i);r=Number(e.result),o+=e.consumed,i=e.encoded,s=Math.ceil(r/fx)}if(r>t.length)throw new Lm("there is not enough data to decode",{type:e.type,encoded:t,size:r});return{result:EA(i.subarray(0,r)),encoded:i.subarray(s*fx),consumed:o+s*fx}}function Tx(e){let t=0,n=0;const r=[],i=[];for(const s of e)s.dynamic?t+=fx:t+=s.encoded.length;for(const s of e)s.dynamic?(r.push(_x({type:"uint256",name:""},t+n)),i.push(s),n+=s.encoded.length):r.push(s);return gA(...r.map((e=>e.encoded)),...i.map((e=>e.encoded)))}function xx(e,t){if("string"===e.type)return function(e,t){if("string"!==typeof t)throw new Lm("invalid input, should be string",{input:t});return Ix({type:"bytes",name:""},DA(t))}(0,t);if("bool"===e.type)return function(e,t){let n;try{n=QA(t)}catch(r){if(r instanceof Dg)throw new Lm("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return _x({type:"uint8",name:""},Number(n))}(e,t);if("address"===e.type)return function(e,t){if("string"!==typeof t)throw new Lm("address type expects string as input type",{value:t,name:e.name,type:e.type});let n=t.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!Zw(n))throw new Lm("provided input is not valid address",{value:t,name:e.name,type:e.type});const r=Qw(n),i=px(fx);return i.set(r,12),{dynamic:!1,encoded:i}}(e,t);if("tuple"===e.type)return Px(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new Lm("Expected value to be array",{abi:e,values:t});const{size:n,param:r}=vx(e),i=t.map((e=>xx(r,e))),s=-1===n,o=i.length>0&&i[0].dynamic;if(!s&&t.length!==n)throw new Lm("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:t.length});if(s||o){const e=Tx(i);if(s){const t=_x({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?gA(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:gA(...i.map((e=>e.encoded)))}}(e,t);if(e.type.startsWith("bytes"))return Ix(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return _x(e,t);throw new Lm("Unsupported",{param:e,value:t})}function Cx(e,t){if("string"===e.type)return function(e,t){const n=Sx({type:"bytes",name:""},t);return{result:OA(n.result),encoded:n.encoded,consumed:n.consumed}}(0,t);if("bool"===e.type)return function(e,t){const n=kx({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new Lm("Invalid boolean value encoded",{boolBytes:t.subarray(0,fx),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:fx}}(0,t);if("address"===e.type)return function(e,t){const n=t.subarray(12,fx);if(20!==n.length)throw new Lm("Invalid decoding input, not enough bytes to decode address",{bytes:t});const r=zw(n);return{result:GA(r),encoded:t.subarray(fx),consumed:fx}}(0,t);if("tuple"===e.type)return Nx(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:n,param:r}=vx(e),i=0;const s=[];let o=t;if(-1===n){const e=kx({type:"uint32",name:""},t);n=Number(e.result),i=e.consumed,o=e.encoded}if(yx(r)){for(let e=0;e<n;e+=1){const t=kx({type:"uint32",name:""},o.subarray(e*fx));i+=t.consumed;const n=Cx(r,o.subarray(Number(t.result)));i+=n.consumed,s.push(n.result)}return{result:s,encoded:o.subarray(i),consumed:i}}for(let a=0;a<n;a+=1){const e=Cx(r,t.subarray(i));i+=e.consumed,s.push(e.result)}return{result:s,encoded:t.subarray(i),consumed:i}}(e,t);if(e.type.startsWith("bytes"))return Sx(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return kx(e,t);throw new Lm("Unsupported",{param:e,bytes:t})}function Px(e,t){var n,r,i;let s=!1;if(!Array.isArray(t)&&"object"!==typeof t)throw new Lm("param must be either Array or Object",{param:e,input:t});const o=t,a=[];for(let c=0;c<(null!==(r=null===(n=e.components)||void 0===n?void 0:n.length)&&void 0!==r?r:0);c+=1){const n=e.components[c];let r;if(Array.isArray(o)){if(c>=o.length)throw new Lm("input param length missmatch",{param:e,input:t});r=xx(n,o[c])}else{const s=o[null!==(i=n.name)&&void 0!==i?i:""];if(void 0===s||null===s)throw new Lm("missing input defined in abi",{param:e,input:t,paramName:n.name});r=xx(n,s)}r.dynamic&&(s=!0),a.push(r)}return s?{dynamic:!0,encoded:Tx(a)}:{dynamic:!1,encoded:gA(...a.map((e=>e.encoded)))}}function Nx(e,t){const n={__length__:0};let r=0;if(!e.components)return{result:n,encoded:t,consumed:r};let i=0;for(const[s,o]of e.components.entries()){let e;if(yx(o)){const n=kx({type:"uint32",name:""},t.subarray(r));e=Cx(o,t.subarray(Number(n.result))),r+=n.consumed,i+=e.consumed}else e=Cx(o,t.subarray(r)),r+=e.consumed;n.__length__+=1,n[s]=e.result,o.name&&""!==o.name&&(n[o.name]=e.result)}return{encoded:t.subarray(r+i),result:n,consumed:r+i}}function Ox(e){const t=[];return e.forEach((e=>{if(Array.isArray(e)){const n=Ox(e);t.push({type:"tuple",components:n,name:""})}else t.push({type:UA(e,!0)})})),t}function Rx(e,t){if((null===e||void 0===e?void 0:e.length)!==t.length)throw new Lm("Invalid number of values received for given ABI",{expected:null===e||void 0===e?void 0:e.length,received:t.length});return zw(Px({type:"tuple",name:"",components:gx(e)},t).encoded)}function Dx(e){try{return zw(Px({type:"tuple",name:"",components:Ox(e)},e).encoded)}catch(t){throw new Lm("Could not infer types from given params",{params:e})}}const Lx=(e,t)=>Rx([e],[t]),Mx=(e,t,n)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new Lm("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t){return Nx({type:"tuple",name:"",components:gx(e)},Qw(t)).result}(e,`0x${t.replace(/0x/i,"")}`)}catch(r){throw new Lm(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Bx=(e,t)=>Mx(e,t),Fx=(e,t)=>Bx([e],t)[0],jx=e=>{if("string"!==typeof e&&!BT(e))throw new Lm("Invalid parameter value in encodeFunctionSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:VT(e),TE(t).slice(0,10)},Ux=function(e,t){const n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new _m("No inputs found in the ABI");const r=Bx([...e.inputs],n);return Object.assign(Object.assign({},r),{__method__:VT(e)})},Hx=["bool","string","int","uint","address","fixed","ufixed"],Vx=(e,t,n)=>{const r=Array.isArray(n)?n:[n],i={},s={};for(const[h,f]of e.entries())f.indexed?i[h]=f:s[h]=f;const o=t?Mx(Object.values(s),t):{__length__:0},a=r.length-Object.keys(i).length,c=Object.values(i).map(((e,t)=>{return Hx.some((t=>e.type.startsWith(t)))?(n=e.type,i=r[t+a],"string"===n?i:Fx(n,i)):r[t+a];var n,i})),u={__length__:0};let l=0,d=0;for(const[h,f]of e.entries())u[h]="string"===f.type?"":void 0,i[h]&&(u[h]=c[l],l+=1),s[h]&&(u[h]=o[String(d)],d+=1),f.name&&(u[f.name]=u[h]),u.__length__+=1;return u},zx=(e,t)=>{if(null===t||void 0===t?void 0:t.data){let r,i,s;try{const n=t.data.slice(0,10),o=e.find((e=>(e=>{if("string"!==typeof e&&!LT(e))throw new Lm("Invalid parameter value in encodeErrorSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:VT(e),TE(t)})(e).startsWith(n)));(null===o||void 0===o?void 0:o.inputs)?(r=o.name,i=VT(o),s=Bx([...o.inputs],t.data.substring(10))):t.data.startsWith("0x08c379a0")?(r="Error",i="Error(string)",s=Bx([{name:"message",type:"string"}],t.data.substring(10))):t.data.startsWith("0x4e487b71")?(r="Panic",i="Panic(uint256)",s=Bx([{name:"code",type:"uint256"}],t.data.substring(10))):console.error("No matching error abi found for error data",t.data)}catch(n){console.error(n)}r&&t.setDecodedProperties(r,i,s)}};var qx=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Gx=(e,t)=>{var n,r,i,s,o;if(e instanceof Sm&&e.cause instanceof Im){if(void 0!==t){const i=t.filter((e=>LT(e)));return zx(i,e.cause),{reason:e.cause.message,signature:null===(n=e.cause.data)||void 0===n?void 0:n.slice(0,10),data:null===(r=e.cause.data)||void 0===r?void 0:r.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs}}return{reason:e.cause.message,signature:null===(i=e.cause.data)||void 0===i?void 0:i.slice(0,10),data:null===(s=e.cause.data)||void 0===s?void 0:s.substring(10)}}if(e instanceof Hg&&!Array.isArray(null===(o=e.cause)||void 0===o?void 0:o.errors)&&void 0!==e.cause)return e.cause.message;throw e};function Qx(e,t,n){return qx(this,arguments,void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultReturnFormat;return function*(){try{return void(yield bC(e,t,e.defaultBlock,r))}catch(i){return Gx(i,n)}}()}))}var $x=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function Kx(e,t,n,r,i,s){return $x(this,void 0,void 0,(function*(){let o,a=s;if(void 0===a&&(void 0!==r?a=Gx(r):e.handleRevert&&void 0!==t&&(a=yield Qx(e,t,i))),void 0===a)o=new Gm(n);else if("string"===typeof a)o=new zm(a,void 0,n);else if(void 0!==a.customErrorName&&void 0!==a.customErrorDecodedSignature&&void 0!==a.customErrorArguments){const e=a;o=new qm(e.reason,e.customErrorName,e.customErrorDecodedSignature,e.customErrorArguments,e.signature,n,e.data)}else o=new zm(a.reason,a.signature,n,a.data);return o}))}const Wx=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dp;var i,s,o,a,c,u;let l=Object.assign({},e);const d=_E(nT,t,r);if([mT,"allEvents"].includes(l.name)){const e=n.find((e=>e.signature===t.topics[0]));l=e||{anonymous:!0}}if(l.inputs=null!==(s=null!==(i=l.inputs)&&void 0!==i?i:e.inputs)&&void 0!==s?s:[],!l.anonymous){let e=0;(null!==(o=l.inputs)&&void 0!==o?o:[]).forEach((t=>{t.indexed&&(e+=1)})),e>0&&(null===t||void 0===t?void 0:t.topics)&&(null===t||void 0===t?void 0:t.topics.length)!==e+1&&(l=Object.assign(Object.assign({},l),{anonymous:!0,inputs:[]}))}const h=l.anonymous?t.topics:(null!==(a=t.topics)&&void 0!==a?a:[]).slice(1);return Object.assign(Object.assign({},d),{returnValues:Vx([...null!==(c=l.inputs)&&void 0!==c?c:[]],t.data,h),event:l.name,signature:!l.anonymous&&(null===(u=t.topics)||void 0===u?void 0:u.length)>0&&t.topics[0]?t.topics[0]:void 0,raw:{data:t.data,topics:t.topics}})};var Jx=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class Zx{constructor(e){let{options:t,web3Context:n,promiEvent:r,returnFormat:i}=e;this.options={checkRevertBeforeSending:!0},this.options=t,this.web3Context=n,this.promiEvent=r,this.returnFormat=i}getReceiptWithEvents(e){var t,n;const r=Object.assign({},null!==e&&void 0!==e?e:{});if((null===(t=this.options)||void 0===t?void 0:t.contractAbi)&&r.logs&&r.logs.length>0){r.events={};for(const e of r.logs){const t=Wx(gT,e,null===(n=this.options)||void 0===n?void 0:n.contractAbi,this.returnFormat);t.event&&(r.events[t.event]=t)}}return r}checkRevertBeforeSending(e){return Jx(this,void 0,void 0,(function*(){if(!1!==this.options.checkRevertBeforeSending){let t=e;aA(e.data)&&aA(e.input)&&aA(e.gas)&&(t=Object.assign(Object.assign({},e),{gas:21e3}));const n=yield Qx(this.web3Context,t,this.options.contractAbi);if(void 0!==n)throw yield Kx(this.web3Context,e,void 0,void 0,this.options.contractAbi,n)}}))}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return Jx(this,arguments,void 0,(function(e){var t=this;let{transactionFormatted:n,transaction:r}=e;return function*(){var e;let i=n;return t.web3Context.config.ignoreGasPricing||(null===(e=t.options)||void 0===e?void 0:e.ignoreGasPricing)||!aA(n.gasPrice)||!aA(r.maxPriorityFeePerGas)&&!aA(r.maxFeePerGas)||(i=Object.assign(Object.assign({},n),yield bT(n,t.web3Context,Lp))),i}()}))}signAndSend(e){return Jx(this,arguments,void 0,(function(e){var t=this;let{wallet:n,tx:r}=e;return function*(){if(n){const e=yield n.signTransaction(r);return xT(t.web3Context,(()=>Jx(t,void 0,void 0,(function*(){return BS(this.web3Context.requestManager,e.rawTransaction)}))),e.transactionHash)}return xT(t.web3Context,(()=>Jx(t,void 0,void 0,(function*(){return function(e,t){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_sendTransaction",params:[t]})}))}(this.web3Context.requestManager,r)}))))}()}))}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return Jx(this,arguments,void 0,(function(e){var t=this;let{error:n,tx:r}=e;return function*(){var e;let i=n;return i instanceof Sm&&t.web3Context.handleRevert&&(i=yield Kx(t.web3Context,r,void 0,void 0,null===(e=t.options)||void 0===e?void 0:e.contractAbi)),(i instanceof Hg||i instanceof Sm||i instanceof qm||i instanceof Gm||i instanceof zm||i instanceof bg)&&t.promiEvent.listenerCount("error")>0&&t.promiEvent.emit("error",i),i}()}))}emitConfirmation(e){let{receipt:t,transactionHash:n,customTransactionReceiptSchema:r}=e;this.promiEvent.listenerCount("confirmation")>0&&DT(this.web3Context,this.promiEvent,t,n,this.returnFormat,r)}handleResolve(e){return Jx(this,arguments,void 0,(function(e){var t=this;let{receipt:n,tx:r}=e;return function*(){var e,i,s;if(null===(e=t.options)||void 0===e?void 0:e.transactionResolver)return null===(i=t.options)||void 0===i?void 0:i.transactionResolver(n);if(n.status===BigInt(0)){const e=yield Kx(t.web3Context,r,n,void 0,null===(s=t.options)||void 0===s?void 0:s.contractAbi);throw t.promiEvent.listenerCount("error")>0&&t.promiEvent.emit("error",e),e}return n}()}))}}var Yx=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},Xx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function eC(e,t){return Yx(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_hashrate",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function tC(e,t){return Yx(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_gasPrice",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function nC(e,t){return Yx(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_maxPriorityFeePerGas",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function rC(e,t){return Yx(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_blockNumber",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function iC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=rA(n)?n:_E({format:"uint"},n,Lp),s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getBalance",params:[t,n]})}))}(e.requestManager,t,i);return _E({format:"uint"},s,null!==r&&void 0!==r?r:e.defaultReturnFormat)}()}))}function sC(e,t,n){return Yx(this,arguments,void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultBlock,i=arguments.length>4?arguments[4]:void 0;return function*(){const s=_E({format:"uint"},n,Lp),o=rA(r)?r:_E({format:"uint"},r,Lp),a=yield function(e,t,n,r){return LS(this,void 0,void 0,(function*(){return pA.validate(["address","hex","blockNumberOrTag"],[t,n,r]),e.send({method:"eth_getStorageAt",params:[t,n,r]})}))}(e.requestManager,t,s,o);return _E({format:"bytes"},a,null!==i&&void 0!==i?i:e.defaultReturnFormat)}()}))}function oC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=rA(n)?n:_E({format:"uint"},n,Lp),s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getCode",params:[t,n]})}))}(e.requestManager,t,i);return _E({format:"bytes"},s,null!==r&&void 0!==r?r:e.defaultReturnFormat)}()}))}function aC(e){return Yx(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return function*(){var i;let s;if(Ww(t)){const r=_E({format:"bytes32"},t,Lp);s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32","bool"],[t,n]),e.send({method:"eth_getBlockByHash",params:[t,n]})}))}(e.requestManager,r,n)}else{const r=rA(t)?t:_E({format:"uint"},t,Lp);s=yield FS(e.requestManager,r,n)}const o=_E(eT,s,null!==r&&void 0!==r?r:e.defaultReturnFormat);if(!aA(o)){return Object.assign(Object.assign({},o),{transactions:null!==(i=o.transactions)&&void 0!==i?i:[]})}return o}()}))}function cC(e){return Yx(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,n=arguments.length>2?arguments[2]:void 0;return function*(){let r;if(Ww(t)){const n=_E({format:"bytes32"},t,Lp);r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]})}))}(e.requestManager,n)}else{const n=rA(t)?t:_E({format:"uint"},t,Lp);r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]})}))}(e.requestManager,n)}return _E({format:"uint"},r,null!==n&&void 0!==n?n:e.defaultReturnFormat)}()}))}function uC(e){return Yx(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,n=arguments.length>2?arguments[2]:void 0;return function*(){let r;if(Ww(t)){const n=_E({format:"bytes32"},t,Lp);r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]})}))}(e.requestManager,n)}else{const n=rA(t)?t:_E({format:"uint"},t,Lp);r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]})}))}(e.requestManager,n)}return _E({format:"uint"},r,null!==n&&void 0!==n?n:e.defaultReturnFormat)}()}))}function lC(e){return Yx(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=_E({format:"uint"},n,Lp);let s;if(Ww(t)){const n=_E({format:"bytes32"},t,Lp);s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32","hex"],[t,n]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,n]})}))}(e.requestManager,n,i)}else{const n=rA(t)?t:_E({format:"uint"},t,Lp);s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag","hex"],[t,n]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,n]})}))}(e.requestManager,n,i)}return _E(eT,s,null!==r&&void 0!==r?r:e.defaultReturnFormat)}()}))}function dC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultReturnFormat;return function*(){const r=_E({format:"bytes32"},t,Dp),i=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]})}))}(e.requestManager,r);return aA(i)?i:cT(i,n,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}()}))}function hC(e,t){return Yx(this,void 0,void 0,(function*(){return(yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_pendingTransactions",params:[]})}))}(e.requestManager)).map((n=>cT(n,null!==t&&void 0!==t?t:e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})))}))}function fC(e){return Yx(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=_E({format:"uint"},n,Lp);let s;if(Ww(t)){const n=_E({format:"bytes32"},t,Lp);s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32","hex"],[t,n]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,n]})}))}(e.requestManager,n,i)}else{const n=rA(t)?t:_E({format:"uint"},t,Lp);s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag","hex"],[t,n]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,n]})}))}(e.requestManager,n,i)}return aA(s)?s:cT(s,null!==r&&void 0!==r?r:e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}()}))}function pC(e,t,n){return Yx(this,void 0,void 0,(function*(){const r=_E({format:"bytes32"},t,Dp);let i;try{i=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]})}))}(e.requestManager,r)}catch(s){if("object"!==typeof s||aA(s)||!("message"in s)||"transaction indexing is in progress"!==s.message)throw s;console.warn("Transaction indexing is in progress.")}return aA(i)?i:_E(iT,i,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function mC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=rA(n)?n:_E({format:"uint"},n,Lp),s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getTransactionCount",params:[t,n]})}))}(e.requestManager,t,i);return _E({format:"uint"},s,null!==r&&void 0!==r?r:e.defaultReturnFormat)}()}))}function gC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{checkRevertBeforeSending:!0},i=arguments.length>4?arguments[4]:void 0;const s=new DS(((o,a)=>{setImmediate((()=>{(()=>{Yx(this,void 0,void 0,(function*(){const c=new Zx({web3Context:e,promiEvent:s,options:r,returnFormat:n});let u=Object.assign({},t);aA(i)||(u=yield i.processTransaction(u));let l=cT(Object.assign(Object.assign({},u),{from:AT("from",e,u),to:AT("to",e,u)}),Lp,{transactionSchema:e.config.customTransactionSchema});try{let t;l=yield c.populateGasPrice({transaction:u,transactionFormatted:l}),yield c.checkRevertBeforeSending(l),c.emitSending(l),e.wallet&&!aA(l.from)&&(t=e.wallet.get(l.from));const r=yield c.signAndSend({wallet:t,tx:l}),i=_E({format:"bytes32"},r,null!==n&&void 0!==n?n:e.defaultReturnFormat);c.emitSent(l),c.emitTransactionHash(i);const s=yield PT(e,r,null!==n&&void 0!==n?n:e.defaultReturnFormat),a=c.getReceiptWithEvents(_E(iT,s,null!==n&&void 0!==n?n:e.defaultReturnFormat));c.emitReceipt(a),o(yield c.handleResolve({receipt:a,tx:l})),c.emitConfirmation({receipt:a,transactionHash:r})}catch(d){a(yield c.handleError({error:d,tx:l}))}}))})()}))}));return s}function vC(e,t,n){return Yx(this,arguments,void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultReturnFormat;return function*(){var i;const s=_E({format:"bytes"},t,Dp);if(null===(i=e.wallet)||void 0===i?void 0:i.get(n)){const t=e.wallet.get(n).sign(s);return _E(sT,t,r)}if("number"===typeof n)throw new Hm(t,'RPC method "eth_sign" does not support index signatures');const o=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["address","hex"],[t,n]),e.send({method:"eth_sign",params:[t,n]})}))}(e.requestManager,n,s);return _E({format:"bytes"},o,r)}()}))}function yC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultReturnFormat;return function*(){const r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_signTransaction",params:[t]})}))}(e.requestManager,cT(t,Lp,{transactionSchema:e.config.customTransactionSchema}));return Sw(r)?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{fillInputAndData:!1};return{raw:_E({format:"bytes"},e,t),tx:cT(Object.assign(Object.assign({},mS.fromSerializedData(_A(e)).toJSON()),{hash:EA(IE(_A(e))),type:(r=_A(e),r[0]>127?"0x0":UA(r[0]))}),t,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})};var r}(r,n,{fillInputAndData:!0}):{raw:_E({format:"bytes"},r.raw,n),tx:cT(r.tx,n,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}}()}))}function bC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultReturnFormat;return function*(){const i=rA(n)?n:_E({format:"uint"},n,Lp),s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_call",params:[t,n]})}))}(e.requestManager,cT(t,Lp,{transactionSchema:e.config.customTransactionSchema}),i);return _E({format:"bytes"},s,r)}()}))}function wC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=cT(t,Lp,{transactionSchema:e.config.customTransactionSchema}),s=rA(n)?n:_E({format:"uint"},n,Lp),o=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_estimateGas",params:[t,n]})}))}(e.requestManager,i,s);return _E({format:"uint"},o,null!==r&&void 0!==r?r:e.defaultReturnFormat)}()}))}function AC(e,t,n){return Yx(this,void 0,void 0,(function*(){let{toBlock:r,fromBlock:i}=t;aA(r)||"number"!==typeof r&&"bigint"!==typeof r||(r=SA(r)),aA(i)||"number"!==typeof i&&"bigint"!==typeof i||(i=SA(i));const s=Object.assign(Object.assign({},t),{fromBlock:i,toBlock:r}),o=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]})}))}(e.requestManager,s);return o.map((t=>"string"===typeof t?t:_E(nT,t,null!==n&&void 0!==n?n:e.defaultReturnFormat)))}))}function EC(e,t){return Yx(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_chainId",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function _C(e,t,n){return Yx(this,arguments,void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultBlock,i=arguments.length>4?arguments[4]:void 0;return function*(){const s=n.map((e=>_E({format:"bytes"},e,Lp))),o=rA(r)?r:_E({format:"uint"},r,Lp),a=yield function(e,t,n,r){return LS(this,void 0,void 0,(function*(){return pA.validate(["address","bytes32[]","blockNumberOrTag"],[t,n,r]),e.send({method:"eth_getProof",params:[t,n,r]})}))}(e.requestManager,t,s,o);return _E(aT,a,null!==i&&void 0!==i?i:e.defaultReturnFormat)}()}))}function kC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return function*(){const s=_E({format:"uint"},t,Lp),o=rA(n)?n:_E({format:"uint"},n,Lp),a=_E({type:"array",items:{format:"uint"}},r,vT),c=yield function(e,t,n,r){return LS(this,void 0,void 0,(function*(){pA.validate(["hex","blockNumberOrTag"],[t,n]);for(const e of r)pA.validate(["number"],[e]);return e.send({method:"eth_feeHistory",params:[t,n,r]})}))}(e.requestManager,s,o,a);return _E(oT,c,null!==i&&void 0!==i?i:e.defaultReturnFormat)}()}))}function IC(e,t){return Yx(this,arguments,void 0,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,r=arguments.length>3?arguments[3]:void 0;return function*(){const i=rA(n)?n:_E({format:"uint"},n,Lp),s=yield function(e,t,n){return LS(this,void 0,void 0,(function*(){return pA.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_createAccessList",params:[t,n]})}))}(e.requestManager,cT(t,Lp,{transactionSchema:e.config.customTransactionSchema}),i);return _E(KS,s,null!==r&&void 0!==r?r:e.defaultReturnFormat)}()}))}function SC(e,t,n,r,i){return Yx(this,void 0,void 0,(function*(){const s=yield function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return LS(this,void 0,void 0,(function*(){return pA.validate(["address"],[t]),e.send({method:"eth_signTypedData"+(r?"":"_v4"),params:[t,n]})}))}(e.requestManager,t,n,r);return _E({format:"bytes"},s,null!==i&&void 0!==i?i:e.defaultReturnFormat)}))}var TC=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function xC(e,t){return TC(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_newPendingTransactionFilter",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function CC(e,t,n){return TC(this,void 0,void 0,(function*(){let{toBlock:r,fromBlock:i}=t;aA(r)||"number"!==typeof r&&"bigint"!==typeof r||(r=SA(r)),aA(i)||"number"!==typeof i&&"bigint"!==typeof i||(i=SA(i));const s=Object.assign(Object.assign({},t),{fromBlock:i,toBlock:r}),o=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["filter"],[t]),e.send({method:"eth_newFilter",params:[t]})}))}(e.requestManager,s);return _E({format:"uint"},o,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function PC(e,t){return TC(this,void 0,void 0,(function*(){const n=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_newBlockFilter",params:[]})}))}(e.requestManager);return _E({format:"uint"},n,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function NC(e,t){return TC(this,void 0,void 0,(function*(){const n=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["hex"],[t]),e.send({method:"eth_uninstallFilter",params:[t]})}))}(e.requestManager,SA(t));return n}))}function OC(e,t,n){return TC(this,void 0,void 0,(function*(){const r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["hex"],[t]),e.send({method:"eth_getFilterChanges",params:[t]})}))}(e.requestManager,SA(t));return r.map((t=>"string"===typeof t?t:_E(nT,t,null!==n&&void 0!==n?n:e.defaultReturnFormat)))}))}function RC(e,t,n){return TC(this,void 0,void 0,(function*(){const r=yield function(e,t){return LS(this,void 0,void 0,(function*(){return pA.validate(["hex"],[t]),e.send({method:"eth_getFilterLogs",params:[t]})}))}(e.requestManager,SA(t));return r.map((t=>"string"===typeof t?t:_E(nT,t,null!==n&&void 0!==n?n:e.defaultReturnFormat)))}))}class DC extends M_{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return _E(nT,e,super.returnFormat)}}class LC extends M_{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return _E({format:"string"},e,super.returnFormat)}}class MC extends M_{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return _E(tT,e,super.returnFormat)}}class BC extends M_{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if("boolean"===typeof e)this.emit("changed",e);else{const t=Object.fromEntries(Object.entries((null===e||void 0===e?void 0:e.status)||e).map((e=>{let[t,n]=e;return[t.charAt(0).toLowerCase()+t.substring(1),n]})));this.emit("changed",e.syncing),this.emit("data",_E(rT,t,super.returnFormat))}}}var FC=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const jC={logs:DC,newPendingTransactions:LC,newHeads:MC,syncing:BC,pendingTransactions:LC,newBlockHeaders:MC};class UC extends PS{constructor(e){"string"===typeof e||x_(e)?super({provider:e,registeredSubscriptions:jC}):e.registeredSubscriptions?super(e):(super(Object.assign(Object.assign({},e),{registeredSubscriptions:jC})),this.getFeeData=this.calculateFeeData)}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return FC(this,void 0,void 0,(function*(){return function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_protocolVersion",params:[]})}))}(this.requestManager)}))}isSyncing(){return FC(this,void 0,void 0,(function*(){return MS(this.requestManager)}))}getCoinbase(){return FC(this,void 0,void 0,(function*(){return function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_coinbase",params:[]})}))}(this.requestManager)}))}isMining(){return FC(this,void 0,void 0,(function*(){return function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_mining",params:[]})}))}(this.requestManager)}))}getHashrate(e){return FC(this,void 0,void 0,(function*(){var t;return void 0===e&&(e=null!==(t=this.defaultReturnFormat)&&void 0!==t?t:Dp),this.getHashRate(e)}))}getHashRate(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return eC(e,t)}()}))}getGasPrice(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return tC(e,t)}()}))}getMaxPriorityFeePerGas(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return nC(e,t)}()}))}calculateFeeData(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BigInt(2),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yA.Gwei;return function*(){var r;const i=yield e.getBlock(void 0,!1),s=null!==(r=null===i||void 0===i?void 0:i.baseFeePerGas)&&void 0!==r?r:void 0;let o,a,c;try{o=yield e.getGasPrice()}catch(u){}try{a=yield e.getMaxPriorityFeePerGas()}catch(u){}if(s){let e;a=null!==a&&void 0!==a?a:n,e="number"===typeof t?BigInt(Math.floor(1e3*t))/BigInt(1e3):t,c=s*e+a}return{gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:a,baseFeePerGas:s}}()}))}getAccounts(){return FC(this,void 0,void 0,(function*(){var e;return(null!==(e=yield function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_accounts",params:[]})}))}(this.requestManager))&&void 0!==e?e:[]).map((e=>GA(e)))}))}getBlockNumber(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return rC(e,t)}()}))}getBalance(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return iC(t,e,n,r)}()}))}getStorageAt(e,t){return FC(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultBlock,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultReturnFormat;return function*(){return sC(n,e,t,r,i)}()}))}getCode(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return oC(t,e,n,r)}()}))}getBlock(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return aC(e,t,n,r)}()}))}getBlockTransactionCount(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return cC(e,t,n)}()}))}getBlockUncleCount(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return uC(e,t,n)}()}))}getUncle(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return lC(e,t,n,r)}()}))}getTransaction(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){const r=yield dC(t,e,n);if(!r)throw new $m;return r}()}))}getPendingTransactions(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return hC(e,t)}()}))}getTransactionFromBlock(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return fC(e,t,n,r)}()}))}getTransactionReceipt(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){const r=yield pC(t,e,n);if(!r)throw new $m;return r}()}))}getTransactionCount(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return mC(t,e,n,r)}()}))}sendTransaction(e){return gC(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat,arguments.length>2?arguments[2]:void 0,this.transactionMiddleware)}sendSignedTransaction(e){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{checkRevertBeforeSending:!0};const i=new DS(((s,o)=>{setImmediate((()=>{(()=>{Yx(this,void 0,void 0,(function*(){const a=new Zx({web3Context:e,promiEvent:i,options:r,returnFormat:n}),c=_E({format:"bytes"},t,Lp),u=mS.fromSerializedData(wA(_A(c))),l=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{const{v:t,r:r,s:i}=l,o=Xx(l,["v","r","s"]);yield a.checkRevertBeforeSending(o),a.emitSending(c);const u=yield xT(e,(()=>Yx(this,void 0,void 0,(function*(){return BS(e.requestManager,c)}))));a.emitSent(c);const d=_E({format:"bytes32"},u,null!==n&&void 0!==n?n:e.defaultReturnFormat);a.emitTransactionHash(d);const h=yield PT(e,u,null!==n&&void 0!==n?n:e.defaultReturnFormat),f=a.getReceiptWithEvents(_E(iT,h,null!==n&&void 0!==n?n:e.defaultReturnFormat));a.emitReceipt(f),s(yield a.handleResolve({receipt:f,tx:l})),a.emitConfirmation({receipt:f,transactionHash:u})}catch(d){o(yield a.handleError({error:d,tx:l}))}}))})()}))}));return i}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat,arguments.length>2?arguments[2]:void 0)}sign(e,t){return FC(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return vC(n,e,t,r)}()}))}signTransaction(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return yC(t,e,n)}()}))}call(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return bC(t,e,n,r)}()}))}estimateGas(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return wC(t,e,n,r)}()}))}getPastLogs(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return AC(t,e,n)}()}))}getWork(){return FC(this,void 0,void 0,(function*(){return function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_getWork",params:[]})}))}(this.requestManager)}))}submitWork(e,t,n){return FC(this,void 0,void 0,(function*(){return function(e,t,n,r){return LS(this,void 0,void 0,(function*(){return pA.validate(["bytes8","bytes32","bytes32"],[t,n,r]),e.send({method:"eth_submitWork",params:[t,n,r]})}))}(this.requestManager,e,t,n)}))}requestAccounts(){return FC(this,void 0,void 0,(function*(){return function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"eth_requestAccounts",params:[]})}))}(this.requestManager)}))}getChainId(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return EC(e,t)}()}))}getNodeInfo(){return FC(this,void 0,void 0,(function*(){return function(e){return LS(this,void 0,void 0,(function*(){return e.send({method:"web3_clientVersion",params:[]})}))}(this.requestManager)}))}getProof(e,t){return FC(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultBlock,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultReturnFormat;return function*(){return _C(n,e,t,r,i)}()}))}getFeeHistory(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultReturnFormat;return function*(){return kC(t,e,n,r,i)}()}))}createAccessList(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return function*(){return IC(t,e,n,r)}()}))}signTypedData(e,t,n,r){return FC(this,void 0,void 0,(function*(){var i;return void 0===n&&(n=!1),void 0===r&&(r=null!==(i=this.defaultReturnFormat)&&void 0!==i?i:Dp),SC(this,e,t,n,r)}))}subscribe(e,t,n){return FC(this,void 0,void 0,(function*(){var r,i;void 0===n&&(n=null!==(r=this.defaultReturnFormat)&&void 0!==r?r:Dp);const s=yield null===(i=this.subscriptionManager)||void 0===i?void 0:i.subscribe(e,t,n);return s instanceof DC&&"logs"===e&&"object"===typeof t&&!cE(t.fromBlock)&&Number.isFinite(Number(t.fromBlock))&&setImmediate((()=>{this.getPastLogs(t).then((e=>{for(const t of e)s._processSubscriptionResult(t)})).catch((e=>{s._processSubscriptionError(e)}))})),s}))}static shouldClearSubscription(e){let{sub:t}=e;return!(t instanceof BC)}clearSubscriptions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;return null===(t=this.subscriptionManager)||void 0===t?void 0:t.unsubscribe(e?UC.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return xC(e,t)}()}))}createNewFilter(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return CC(t,e,n)}()}))}createNewBlockFilter(){return FC(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return function*(){return PC(e,t)}()}))}uninstallFilter(e){return FC(this,void 0,void 0,(function*(){return NC(this,e)}))}getFilterChanges(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return OC(t,e,n)}()}))}getFilterLogs(e){return FC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return RC(t,e,n)}()}))}}const HC=e=>{if(aA(e.gas)||!Xw(e.gas)||aA(e.gasPrice)||!Xw(e.gasPrice))throw new ag({gas:e.gas,gasPrice:e.gasPrice});if(!aA(e.maxFeePerGas)||!aA(e.maxPriorityFeePerGas))throw new lg({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas})},VC=e=>{if(!aA(e.gasPrice)&&"0x2"===e.type)throw new ug(e.gasPrice);if("0x0"===e.type||"0x1"===e.type)throw new lg({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(aA(e.maxFeePerGas)||!Xw(e.maxFeePerGas)||aA(e.maxPriorityFeePerGas)||!Xw(e.maxPriorityFeePerGas))throw new cg({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})},zC=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{transactionSchema:void 0};if(!aA(t))return void t(e);if("object"!==typeof e||aA(e))throw new dg(e);(e=>{if(!aA(e.common)){if(aA(e.common.customChain))throw new Jm;if(aA(e.common.customChain.chainId))throw new Zm;if(!aA(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new Ym({txChainId:e.chainId,customChainId:e.common.customChain.chainId})}})(e),(e=>{if(!aA(e.common)&&!aA(e.chain)&&!aA(e.hardfork))throw new tg;if(!aA(e.chain)&&aA(e.hardfork)||!aA(e.hardfork)&&aA(e.chain))throw new ng({chain:e.chain,hardfork:e.hardfork})})(e),(e=>{if(!aA(e.common)&&!aA(e.common.baseChain)&&!aA(e.chain)&&e.chain!==e.common.baseChain)throw new Xm({txChain:e.chain,baseChain:e.common.baseChain})})(e),(e=>{if(!aA(e.common)&&!aA(e.common.hardfork)&&!aA(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new eg({txHardfork:e.hardfork,commonHardfork:e.common.hardfork})})(e);const r=cT(e,Lp,{transactionSchema:n.transactionSchema});if((e=>{const t=!aA(e.gas)||!aA(e.gasLimit),n=t&&!aA(e.gasPrice),r=t&&!aA(e.maxPriorityFeePerGas)&&!aA(e.maxFeePerGas);if(!n&&!r)throw new ig({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(n&&r)throw new og({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(n?HC:VC)(e),(!aA(e.type)&&e.type>"0x1"?VC:HC)(e)})(r),aA(r.nonce)||aA(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new hg({nonce:e.nonce,chainId:e.chainId})};var qC=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const GC=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];return qC(void 0,[e,t,n,...i],void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return function*(){const s=yield(o={transaction:e,web3Context:t,privateKey:n,fillGasPrice:r,fillGasLimit:i},wT(void 0,void 0,void 0,(function*(){var e;return(null!==(e=o.web3Context.transactionBuilder)&&void 0!==e?e:_T)(Object.assign(Object.assign({},o),{transaction:o.transaction}))})));var o;const a=cT(s,Lp,{transactionSchema:t.config.customTransactionSchema});return zC(a,void 0,{transactionSchema:t.config.customTransactionSchema}),mS.fromTxData((e=>{var t,n;return Object.assign(Object.assign({},e),{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:null!==(t=e.gasLimit)&&void 0!==t?t:e.gas,to:e.to,value:e.value,data:null!==(n=e.data)&&void 0!==n?n:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})})(a),((e,t)=>{var n,r,i,s,o,a,c,u,l,d,h,f,p,m,g,v,y,b;let w;if((aA(e.chain)||aA(e.hardfork))&&aA(e.common))t.defaultCommon?(w=Object.assign({},t.defaultCommon),aA(w.hardfork)&&(w.hardfork=null!==(n=e.hardfork)&&void 0!==n?n:t.defaultHardfork),aA(w.baseChain)&&(w.baseChain=t.defaultChain)):w=XI.custom({name:"custom-network",chainId:HA(e.chainId),networkId:aA(e.networkId)?void 0:HA(e.networkId),defaultHardfork:null!==(r=e.hardfork)&&void 0!==r?r:t.defaultHardfork},{baseChain:t.defaultChain});else{const n=null!==(a=null!==(o=null===(s=null===(i=null===e||void 0===e?void 0:e.common)||void 0===i?void 0:i.customChain)||void 0===s?void 0:s.name)&&void 0!==o?o:e.chain)&&void 0!==a?a:"custom-network",r=HA(null!==(l=null===(u=null===(c=null===e||void 0===e?void 0:e.common)||void 0===c?void 0:c.customChain)||void 0===u?void 0:u.chainId)&&void 0!==l?l:null===e||void 0===e?void 0:e.chainId),A=HA(null!==(f=null===(h=null===(d=null===e||void 0===e?void 0:e.common)||void 0===d?void 0:d.customChain)||void 0===h?void 0:h.networkId)&&void 0!==f?f:null===e||void 0===e?void 0:e.networkId),E=null!==(g=null!==(m=null===(p=null===e||void 0===e?void 0:e.common)||void 0===p?void 0:p.hardfork)&&void 0!==m?m:null===e||void 0===e?void 0:e.hardfork)&&void 0!==g?g:t.defaultHardfork,_=null!==(b=null!==(y=null===(v=e.common)||void 0===v?void 0:v.baseChain)&&void 0!==y?y:e.chain)&&void 0!==b?b:t.defaultChain;r&&A&&n&&(w=XI.custom({name:n,chainId:r,networkId:A,defaultHardfork:E},{baseChain:_}))}return{common:w}})(a,t))}()}))},QC=(e,t,n)=>{let{address:r}=e;var i,s;const o=null===n||void 0===n?void 0:n.topics,a=null!==(i=null===n||void 0===n?void 0:n.filter)&&void 0!==i?i:{},c={};if(cE(null===n||void 0===n?void 0:n.fromBlock)||(c.fromBlock=_E(eT.properties.number,null===n||void 0===n?void 0:n.fromBlock,{number:Op.HEX,bytes:Rp.HEX})),cE(null===n||void 0===n?void 0:n.toBlock)||(c.toBlock=_E(eT.properties.number,null===n||void 0===n?void 0:n.toBlock,{number:Op.HEX,bytes:Rp.HEX})),o&&Array.isArray(o))c.topics=[...o];else if(c.topics=[],!t||t.anonymous||[mT,"allEvents"].includes(t.name)||c.topics.push(null!==(s=t.signature)&&void 0!==s?s:zT(VT(t))),![mT,"allEvents"].includes(t.name)&&t.inputs)for(const u of t.inputs){if(!u.indexed)continue;const e=a[u.name];e?Array.isArray(e)?c.topics.push(e.map((e=>Lx(u.type,e)))):"string"===u.type?c.topics.push(IE(e)):c.topics.push(Lx(u.type,e)):c.topics.push(null)}return c.topics.length||delete c.topics,r&&(c.address=r.toLowerCase()),c},$C=(e,t,n)=>{const r=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&r!==t.length)throw new _m(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let i;if(i=e.inputs?Rx(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):Dx(t).replace("0x",""),!cE(s=e)&&"object"===typeof s&&!cE(s.type)&&"constructor"===s.type){if(!n)throw new _m("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${i}`:`0x${n}${i}`}var s;return`${jx(e)}${i}`};class KC extends M_{constructor(e,t){super(e,t),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Wx(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const WC=(e,t,n,r)=>{var i,s;const o={};return cE(e.data)&&"both"!==r||(o.data=$C(t,n,null!==(i=e.data)&&void 0!==i?i:e.input)),cE(e.input)&&"both"!==r||(o.input=$C(t,n,null!==(s=e.input)&&void 0!==s?s:e.data)),cE(o.input)&&cE(o.data)&&(o[r]=$C(t,n)),{data:o.data,input:o.input}},JC=e=>{let{abi:t,params:n,options:r,contractOptions:i}=e;var s,o,a;if(!(null!==(a=null!==(o=null!==(s=null===r||void 0===r?void 0:r.input)&&void 0!==s?s:null===r||void 0===r?void 0:r.data)&&void 0!==o?o:i.input)&&void 0!==a?a:i.data)&&!(null===r||void 0===r?void 0:r.to)&&!i.address)throw new _m("Contract address not specified");if(!(null===r||void 0===r?void 0:r.from)&&!i.from)throw new _m('Contract "from" address not specified');let c=lE({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},r);const u=WC(c,t,n,null===r||void 0===r?void 0:r.dataInputFill);return c=Object.assign(Object.assign({},c),{data:u.data,input:u.input}),c},ZC=e=>"object"===typeof e&&!cE(e)&&0!==Object.keys(e).length&&!aE(e);var YC=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class XC{_contractMethodDeploySend(e){const t={transactionResolver:e=>{if(e.status===BigInt(0))throw new _m("code couldn't be stored",e);const t=this.parent.clone();return t.options.address=e.contractAddress,t},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return aA(this.parent.getTransactionMiddleware())?gC(this.parent,e,this.parent.defaultReturnFormat,t):gC(this.parent,e,this.parent.defaultReturnFormat,t,this.parent.getTransactionMiddleware())}constructor(e,t){this.parent=e,this.deployOptions=t;const{args:n,abi:r,contractOptions:i,deployData:s}=this.calculateDeployParams();this.args=n,this.constructorAbi=r,this.contractOptions=i,this.deployData=s}send(e){const t=Object.assign({},e),n=this.populateTransaction(t);return this._contractMethodDeploySend(n)}populateTransaction(e){var t,n;const r=Object.assign(Object.assign({},this.contractOptions),{from:null!==(n=null!==(t=this.contractOptions.from)&&void 0!==t?t:this.parent.defaultAccount)&&void 0!==n?n:void 0}),i=JC({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:r});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,t,n,r,i,s;let o=this.parent.options.jsonInterface.find((e=>"constructor"===e.type));o||(o={type:"constructor",stateMutability:""});const a=_E({format:"bytes"},null!==(t=null===(e=this.deployOptions)||void 0===e?void 0:e.input)&&void 0!==t?t:this.parent.options.input,Dp),c=_E({format:"bytes"},null!==(r=null===(n=this.deployOptions)||void 0===n?void 0:n.data)&&void 0!==r?r:this.parent.options.data,Dp);if((!a||"0x"===a.trim())&&(!c||"0x"===c.trim()))throw new _m("contract creation without any data provided.");return{args:null!==(s=null===(i=this.deployOptions)||void 0===i?void 0:i.arguments)&&void 0!==s?s:[],abi:o,contractOptions:Object.assign(Object.assign({},this.parent.options),{input:a,data:c}),deployData:null!==a&&void 0!==a?a:c}}estimateGas(e){return YC(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parent.defaultReturnFormat;return function*(){const r=Object.assign({},e);return t.parent.contractMethodEstimateGas({abi:t.constructorAbi,params:t.args,returnFormat:n,options:r,contractOptions:t.contractOptions})}()}))}encodeABI(){return $C(this.constructorAbi,this.args,_E({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},Ux(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var eP=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class tP extends D_{constructor(e,t){super(e.requestManager,e.registeredSubscriptions),this.parentContract=t}subscribe(e,t){const n=Object.create(null,{subscribe:{get:()=>super.subscribe}});return eP(this,arguments,void 0,(function(e,t){var r=this;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dp;return function*(){return n.subscribe.call(r,e,null!==t&&void 0!==t?t:r.parentContract.options,i)}()}))}}var nP=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const rP={logs:KC,newHeads:MC,newBlockHeaders:MC};class iP extends PS{get subscriptionManager(){return this._subscriptionManager}constructor(e,t,n,r,i){var s,o,a;const c=aE(t)?t:aE(n)?n:void 0;let u,l;if(u=ZC(t)?t:ZC(n)?n:r,l="object"===typeof t&&"provider"in t?t.provider:"object"===typeof n&&"provider"in n?n.provider:"object"===typeof r&&"provider"in r?r.provider:iP.givenProvider,super(Object.assign(Object.assign({},u),{provider:l,registeredSubscriptions:rP})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new tP(super.subscriptionManager,this),(null===u||void 0===u?void 0:u.wallet)&&(this._wallet=u.wallet),(null===u||void 0===u?void 0:u.accountProvider)&&(this._accountProvider=u.accountProvider),!aA(c)&&!aA(c.data)&&!aA(c.input)&&"both"!==this.config.contractDataInputFill)throw new Tm({data:c.data,input:c.input});this._overloadedMethodAbis=new Map;const d=yE(r)?r:yE(n)?n:null!==i&&void 0!==i?i:this.defaultReturnFormat,h="string"===typeof t?t:void 0;this.config.contractDataInputFill=null!==(s=null===c||void 0===c?void 0:c.dataInputFill)&&void 0!==s?s:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,d),this.defaultReturnFormat!==d&&(this.defaultReturnFormat=d),aA(h)||this._parseAndSetAddress(h,d),this.options={address:h,jsonInterface:this._jsonInterface,gas:null!==(o=null===c||void 0===c?void 0:c.gas)&&void 0!==o?o:null===c||void 0===c?void 0:c.gasLimit,gasPrice:null===c||void 0===c?void 0:c.gasPrice,from:null===c||void 0===c?void 0:c.from,input:null===c||void 0===c?void 0:c.input,data:null===c||void 0===c?void 0:c.data},this.syncWithContext=null!==(a=null===c||void 0===c?void 0:c.syncWithContext)&&void 0!==a&&a,u instanceof PS&&this.subscribeToContextEvents(u),Object.defineProperty(this.options,"address",{set:e=>this._parseAndSetAddress(e,d),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:e=>this._parseAndSetJsonInterface(e,d),get:()=>this._jsonInterface}),u instanceof PS&&u.on(m_.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return e=this.options.address?new iP([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):new iP([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new XC(this,e)}getPastEvents(e,t,n){return nP(this,void 0,void 0,(function*(){var r;const i="string"===typeof e?e:mT,s="string"===typeof e||yE(e)?yE(t)?{}:t:e,o=yE(e)?e:yE(t)?t:null!==n&&void 0!==n?n:this.defaultReturnFormat,a="allEvents"===i||i===mT?gT:this._jsonInterface.find((e=>"name"in e&&e.name===i));if(!a)throw new _m(`Event ${String(i)} not found.`);const{fromBlock:c,toBlock:u,topics:l,address:d}=QC(this.options,a,null!==s&&void 0!==s?s:{}),h=yield AC(this,{fromBlock:c,toBlock:u,topics:l,address:d},o),f=h?h.map((e=>"string"===typeof e?e:Wx(a,e,this._jsonInterface,o))):[],p=null!==(r=null===s||void 0===s?void 0:s.filter)&&void 0!==r?r:{},m=Object.keys(p);return m.length>0?f.filter((e=>"string"===typeof e||m.every((t=>{var n;if(Array.isArray(p[t]))return p[t].some((n=>String(e.returnValues[t]).toUpperCase()===String(n).toUpperCase()));const r=null===(n=a.inputs)||void 0===n?void 0:n.filter((e=>e.name===t))[0];if((null===r||void 0===r?void 0:r.indexed)&&"string"===r.type){if(IE(p[t])===String(e.returnValues[t]))return!0}return String(e.returnValues[t]).toUpperCase()===String(p[t]).toUpperCase()})))):f}))}_parseAndSetAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;this._address=e?GA(_E({format:"address"},e,t)):e}decodeMethodData(e){const t=e.slice(0,10),n=this._jsonInterface.filter((e=>"error"!==e.type)),r=n.find((e=>t===jx(VT(e))));if(!r)throw new _m(`The ABI for the provided method signature ${t} was not found.`);return Ux(r,e)}_parseAndSetJsonInterface(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;var n,r;this._functions={},this._methods={},this._events={};let i=[];const s=e.filter((e=>"error"!==e.type)),o=e.filter((e=>LT(e)));for(const a of s){const e=Object.assign(Object.assign({},a),{signature:""});if(BT(e)){const t=VT(e),i=jx(t);e.methodNameWithInputs=t,e.signature=i,e.constant="view"===e.stateMutability||"pure"===e.stateMutability||e.constant,e.payable="payable"===e.stateMutability||e.payable,this._overloadedMethodAbis.set(e.name,[...null!==(n=this._overloadedMethodAbis.get(e.name))&&void 0!==n?n:[],e]);const s=null!==(r=this._overloadedMethodAbis.get(e.name))&&void 0!==r?r:[],a=this._createContractMethod(s,o),c=this._createContractMethod(s,o,!0);this._functions[t]={signature:i,method:c},this._methods[e.name]=a,this._methods[t]=c,this._methods[i]=c}else if(MT(e)){const n=VT(e),r=zT(n),i=this._createContractEvent(e,t);e.signature=r,n in this._events&&"bound"!==e.name||(this._events[n]=i),this._events[e.name]=i,this._events[r]=i}i=[...i,e]}this._events.allEvents=this._createContractEvent(gT,t),this._jsonInterface=[...i],this._errorsInterface=o}_getAbiParams(e,t){var n;try{return Fw(null!==(n=e.inputs)&&void 0!==n?n:[],t)}catch(r){throw new _m(`Invalid parameters for method ${e.name}: ${r.message}`)}}_createContractMethod(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e[e.length-1];return function(){for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];var a,c,u;let l;const d=null!==(c=r?null===(a=n._overloadedMethodAbis.get(i.name))||void 0===a?void 0:a.filter((e=>e.signature===i.signature)):n._overloadedMethodAbis.get(i.name))&&void 0!==c?c:[];let h=d[0];const f=t,p=d.filter((e=>{var t;return(null!==(t=e.inputs)&&void 0!==t?t:[]).length===s.length}));if(1===d.length||0===p.length)l=n._getAbiParams(h,s),pA.validate(null!==(u=i.inputs)&&void 0!==u?u:[],l);else{const e=[],t=[];for(const r of p)try{l=n._getAbiParams(r,s),pA.validate(r.inputs,l),t.push(r)}catch(g){e.push(g)}if(1===t.length?[h]=t:t.length>1&&([h]=t,console.warn(`Multiple methods found that is compatible with the given inputs.\n\tFound ${t.length} compatible methods: ${JSON.stringify(t.map((e=>`${e.methodNameWithInputs} (signature: ${e.signature})`)))} \n\tThe first one will be used: ${h.methodNameWithInputs}`)),e.length===p.length)throw new _w(e)}const m={arguments:l,call:(e,t)=>nP(n,void 0,void 0,(function*(){return this._contractMethodCall(h,l,f,e,t)})),send:e=>n._contractMethodSend(h,l,f,e),populateTransaction:(e,t)=>{var r,o;let a=null!==t&&void 0!==t?t:n.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(o=null!==(r=null===a||void 0===a?void 0:a.from)&&void 0!==r?r:n.defaultAccount)&&void 0!==o?o:void 0});const c=JC({abi:i,params:s,options:Object.assign(Object.assign({},e),{dataInputFill:n.config.contractDataInputFill}),contractOptions:a});return c.dataInputFill&&delete c.dataInputFill,c},estimateGas:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return nP(n,[e,...r],void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function*(){return t.contractMethodEstimateGas({abi:h,params:l,returnFormat:n,options:e})}()}))},encodeABI:()=>$C(h,l),decodeData:e=>Ux(h,e),createAccessList:(e,t)=>nP(n,void 0,void 0,(function*(){return this._contractMethodCreateAccessList(h,l,f,e,t)}))};return h.stateMutability,m}}_contractMethodCall(e,t,n,r,i){return nP(this,void 0,void 0,(function*(){var s;const o=(e=>{let{abi:t,params:n,options:r,contractOptions:i}=e;if(!(null===r||void 0===r?void 0:r.to)&&!i.address)throw new _m("Contract address not specified");let s=lE({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},r);const o=WC(s,t,n,null===r||void 0===r?void 0:r.dataInputFill);return s=Object.assign(Object.assign({},s),{data:o.data,input:o.input}),s})({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{const t=yield bC(this,o,i,this.defaultReturnFormat);return((e,t)=>{if("constructor"===e.type)return t;if(!t)return null;const n=t.length>=2?t.slice(2):t;if(!e.outputs)return null;const r=Bx([...e.outputs],n);return 1===r.__length__?r[0]:r})(e,t)}catch(a){throw a instanceof Sm&&zx(n,a.cause),a}}))}_contractMethodCreateAccessList(e,t,n,r,i){return nP(this,void 0,void 0,(function*(){var s;const o=(e=>{let{abi:t,params:n,options:r,contractOptions:i}=e;if(!(null===r||void 0===r?void 0:r.to)&&!i.address)throw new _m("Contract address not specified");if(!(null===r||void 0===r?void 0:r.from)&&!i.from)throw new _m('Contract "from" address not specified');let s=lE({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},r);const o=WC(s,t,n,null===r||void 0===r?void 0:r.dataInputFill);return s=Object.assign(Object.assign({},s),{data:o.data,input:o.input}),s})({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{return IC(this,o,i,this.defaultReturnFormat)}catch(a){throw a instanceof Sm&&zx(n,a.cause),a}}))}_contractMethodSend(e,t,n,r,i){var s,o;let a=null!==i&&void 0!==i?i:this.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(o=null!==(s=a.from)&&void 0!==s?s:this.defaultAccount)&&void 0!==o?o:void 0});const c=JC({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a}),u=aA(this.transactionMiddleware)?gC(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):gC(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return u.on("error",(e=>{e instanceof Sm&&zx(n,e.cause)})),u}contractMethodEstimateGas(e){return nP(this,arguments,void 0,(function(e){var t=this;let{abi:n,params:r,returnFormat:i,options:s,contractOptions:o}=e;return function*(){const e=(e=>{let{abi:t,params:n,options:r,contractOptions:i}=e,s=lE({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,data:i.data},r);const o=WC(s,t,n,null===r||void 0===r?void 0:r.dataInputFill);return s=Object.assign(Object.assign({},s),{data:o.data,input:o.input}),s})({abi:n,params:r,options:Object.assign(Object.assign({},s),{dataInputFill:t.config.contractDataInputFill}),contractOptions:null!==o&&void 0!==o?o:t.options});return wC(t,e,Mp.LATEST,null!==i&&void 0!==i?i:t.defaultReturnFormat)}()}))}_createContractEvent(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function(){var r;const{topics:i,fromBlock:s}=QC(t.options,e,arguments.length<=0?void 0:arguments[0]),o=new KC({address:t.options.address,topics:i,abi:e,jsonInterface:t._jsonInterface},{subscriptionManager:t.subscriptionManager,returnFormat:n});return aA(s)||t.getPastEvents(e.name,{fromBlock:s,topics:i},n).then((e=>{e&&e.forEach((e=>o.emit("data",e)))})).catch((e=>{o.emit("error",new jm("Failed to get past events.",e))})),null===(r=t.subscriptionManager)||void 0===r||r.addSubscription(o).catch((e=>{o.emit("error",new jm("Failed to subscribe.",e))})),o}}subscribeToContextEvents(e){const t=this;this.context=e,t.syncWithContext&&e.on(m_.CONFIG_CHANGE,(e=>{t.setConfig({[e.name]:e.newValue})}))}}const sP=iP,oP={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},aP="addr",cP="addr",uP="pubkey",lP="contenthash",dP="text",hP="name",fP={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},pP={"0x1":"main","0x5":"goerli"},mP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],gP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];const vP=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function yP(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let w=1;w<r;w++)s.push(i+=n());let o=n(),a=t;t+=o;let c=0,u=0;function l(){return 0==c&&(u=u<<8|e[t++],c=8),u>>--c&1}const d=2**31,h=d>>>1,f=h>>1,p=d-1;let m=0;for(let w=0;w<31;w++)m=m<<1|l();let g=[],v=0,y=d;for(;;){let e=Math.floor(((m-v+1)*i-1)/y),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;g.push(t);let o=v+Math.floor(y*s[t]/i),a=v+Math.floor(y*s[t+1]/i)-1;for(;0==((o^a)&h);)m=m<<1&p|l(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)m=m&h|m<<1&p>>>1|l(),o=o<<1^h,a=(a^h)<<1|h|1;v=o,y=1+a-o}let b=r-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function bP(e){return 1&e?~e>>1:e>>1}function wP(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=bP(t());return n}function AP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function EP(e){return kP((()=>{let t=AP(e);if(t.length)return t}))}function _P(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(SP(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(TP(n,e))}return t.flat()}function kP(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function IP(e,t,n){let r=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)wP(e,n).forEach(((e,t)=>r[t].push(e)));return r}function SP(e,t){let n=1+t(),r=t(),i=kP(t);return IP(i.length,1+e,t).flatMap(((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*r;return[s+t*n,o.map((e=>e+i))]}))}))}function TP(e,t){return IP(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function xP(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function CP(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function PP(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function NP(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const OP=44032,RP=4352,DP=4449,LP=4519,MP=28,BP=588;function FP(e){return e>>24&255}function jP(e){return 16777215&e}let UP,HP,VP,zP;function qP(e){return e>=OP&&e<55204}function GP(e,t){if(e>=RP&&e<4371&&t>=DP&&t<4470)return OP+(e-RP)*BP+(t-DP)*MP;if(qP(e)&&t>LP&&t<4547&&(e-OP)%MP==0)return e+(t-LP);{let n=zP.get(e);return n&&(n=n.get(t),n)?n:-1}}function QP(e){UP||function(){let e=yP("AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA");UP=new Map(EP(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),HP=new Set(AP(e)),VP=new Map,zP=new Map;for(let[t,n]of _P(e)){if(!HP.has(t)&&2==n.length){let[e,r]=n,i=zP.get(e);i||(i=new Map,zP.set(e,i)),i.set(r,t)}VP.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=UP.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(qP(s)){let e=s-OP,t=e%BP/MP|0,n=e%MP;i(RP+(e/BP|0)),i(DP+t),n>0&&i(LP+n)}else{let e=VP.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=FP(t[0]);for(let n=1;n<t.length;n++){let r=FP(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=FP(t[--i]),e<=r)break}e=FP(t[n])}}return t}function $P(e){return QP(e).map(jP)}function KP(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=FP(s),o=jP(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=GP(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(QP(e))}const WP=".",JP=e=>Array.from(e);function ZP(e,t){return e.P.has(t)||e.Q.has(t)}class YP extends Array{get is_emoji(){return!0}}let XP,eN,tN,nN,rN,iN,sN,oN,aN,cN,uN,lN;function dN(){if(XP)return;let e=yP("AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28");const t=()=>AP(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));XP=new Map(_P(e)),eN=n(),tN=t(),nN=new Set(t().map((e=>tN[e]))),tN=new Set(tN),rN=n(),iN=n();let i=EP(e),s=e();const o=()=>{let e=new Set;return t().forEach((t=>r(e,i[t]))),r(e,t()),e};sN=kP((t=>{let n=kP(e).map((e=>e+96));if(n.length){let r=t>=s;return n[0]-=32,n=PP(n),r&&(n=`Restricted[${n}]`),{N:n,P:o(),Q:o(),M:!e(),R:r}}})),oN=n(),aN=new Map;let a=t().concat(JP(oN)).sort(((e,t)=>e-t));a.forEach(((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),oN.has(t)||aN.set(t,i)}));for(let{V:l,M:d}of new Set(aN.values())){let e=[];for(let n of l){let t=sN.filter((e=>ZP(e,n))),i=e.find((e=>{let{G:n}=e;return t.some((e=>n.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap((e=>JP(e.G)));for(let{G:n,V:r}of e){let e=new Set(t.filter((e=>!n.has(e))));for(let t of r)d.set(t,e)}}cN=new Set;let c=new Set;const u=e=>cN.has(e)?c.add(e):cN.add(e);for(let l of sN){for(let e of l.P)u(e);for(let e of l.Q)u(e)}for(let l of cN)aN.has(l)||c.has(l)||aN.set(l,1);r(cN,$P(cN)),uN=function(e){let t=[],n=AP(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){return{S:e(),B:kP((()=>{let r=AP(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>YP.from(e))).sort(NP),lN=new Map;for(let l of uN){let e=[lN];for(let t of l){let n=e.map((e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}));65039===t?e.push(...n):e=n}for(let t of e)t.V=l}}function hN(e){return(mN(e)?"":`${fN(pN([e]))} `)+xP(e)}function fN(e){return`"${e}"\u200e`}function pN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xP,r=[];var i,s;i=e[0],dN(),(s?nN.has(i):tN.has(i))&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let o=0,a=e.length;for(let c=0;c<a;c++){let t=e[c];mN(t)&&(r.push(PP(e.slice(o,c))),r.push(n(t)),o=c+1)}return r.push(PP(e.slice(o,a))),r.join("")}function mN(e){return dN(),rN.has(e)}function gN(e,t,n){if(!e)return[];dN();let r=0;return e.split(WP).map((e=>{let i=CP(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=AN(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${PP(e.slice(0,4))}"`)}(a),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(tN.has(a[0]))throw wN("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&tN.has(t[0]))throw wN(`emoji + combining mark: "${PP(r[e-1])} + ${pN([t[0]])}"`)}!function(e){let t=e[0],n=vP.get(t);if(n)throw wN(`leading ${n}`);let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=vP.get(t);if(r){if(i==s)throw wN(`${n} + ${r}`);i=s+1,n=r}}if(i==r)throw wN(`trailing ${n}`)}(a);let n=JP(new Set(t)),[i]=function(e){let t=sN;for(let n of e){let e=t.filter((e=>ZP(e,n)));if(!e.length)throw sN.some((e=>ZP(e,n)))?bN(t[0],n):yN(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!ZP(e,n))throw bN(e,n);if(e.M){let e=$P(t);for(let t=1,n=e.length;t<n;t++)if(nN.has(e[t])){let r=t+1;for(let i;r<n&&nN.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error(`duplicate non-spacing marks: ${hN(i)}`);if(r-t>4)throw new Error(`excessive non-spacing marks: ${fN(pN(e.slice(t-1,r)))} (${r-t}/4)`);t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=aN.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter((e=>t.has(e))):JP(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every((e=>ZP(i,e))))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s}))}function vN(e){return e.map((t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:`Invalid label ${fN(pN(n,63))}: ${t}`)}return PP(i)})).join(WP)}function yN(e){return new Error(`disallowed character: ${hN(e)}`)}function bN(e,t){let n=hN(t),r=sN.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function wN(e){return new Error(`illegal placement: ${e}`)}function AN(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=_N(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(cN.has(t))i.push(t);else{let e=XP.get(t);if(e)i.push(...e);else if(!eN.has(t))throw yN(t)}}}return i.length&&r.push(t(i)),r}function EN(e){return e.filter((e=>65039!=e))}function _N(e,t){let n,r=lN,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const kN=e=>function(e){return vN(gN(e,KP,EN))}(e),IN=e=>{let t="";for(let n=0;n<32;n+=1)t+="00";if(e){const n=kN(e).split(".");for(let e=n.length-1;e>=0;e-=1){const r=TE(n[e]).slice(2);t=TE(`0x${t}${r}`).slice(2)}}return`0x${t}`};var SN=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class TN{constructor(e,t){this.contract=new iP(mP,null!==t&&void 0!==t?t:fP.main,e),this.context=e}getOwner(e){return SN(this,void 0,void 0,(function*(){try{return this.contract.methods.owner(IN(e)).call()}catch(t){throw new Error}}))}getTTL(e){return SN(this,void 0,void 0,(function*(){try{return this.contract.methods.ttl(IN(e)).call()}catch(t){throw new Error}}))}recordExists(e){return SN(this,void 0,void 0,(function*(){try{return this.contract.methods.recordExists(IN(e)).call()}catch(t){throw new Error}}))}getResolver(e){return SN(this,void 0,void 0,(function*(){try{return this.contract.methods.resolver(IN(e)).call().then((e=>{if("string"===typeof e){return new iP(gP,e,this.context)}throw new Error}))}catch(t){throw new Error}}))}get events(){return this.contract.events}}var xN=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class CN{constructor(e){this.registry=e}getResolverContractAdapter(e){return xN(this,void 0,void 0,(function*(){return this.registry.getResolver(e)}))}checkInterfaceSupport(e,t){var n,r;return xN(this,void 0,void 0,(function*(){if(cE(oP[t]))throw new km(null!==(n=e.options.address)&&void 0!==n?n:"",t);if(!(yield e.methods.supportsInterface(oP[t]).call()))throw new km(null!==(r=e.options.address)&&void 0!==r?r:"",t)}))}supportsInterface(e,t){var n;return xN(this,void 0,void 0,(function*(){const r=yield this.getResolverContractAdapter(e);let i=t;if(!Tw(i)){if(i=null!==(n=SE(t))&&void 0!==n?n:"",""===t)throw new Error("Invalid interface Id");i=i.slice(0,10)}return r.methods.supportsInterface(i).call()}))}getAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return xN(this,void 0,void 0,(function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,cP),n.methods.addr(IN(e),t).call()}))}getPubkey(e){return xN(this,void 0,void 0,(function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,uP),t.methods.pubkey(IN(e)).call()}))}getContenthash(e){return xN(this,void 0,void 0,(function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,lP),t.methods.contenthash(IN(e)).call()}))}setAddress(e,t,n){return xN(this,void 0,void 0,(function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,aP),r.methods.setAddr(IN(e),t).send(n)}))}getText(e,t){return xN(this,void 0,void 0,(function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,dP),n.methods.text(IN(e),t).call()}))}getName(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return xN(this,void 0,void 0,(function*(){const n=`${e.toLowerCase().substring(2)}.addr.reverse`,r=yield this.getResolverContractAdapter(n);return t&&(yield this.checkInterfaceSupport(r,hP)),r.methods.name(IN(n)).call()}))}}var PN=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class NN extends PS{constructor(e,t){super(null!==t&&void 0!==t?t:""),this.registryAddress=null!==e&&void 0!==e?e:fP.main,this._registry=new TN(this.getContextObject(),e),this._resolver=new CN(this._registry)}getResolver(e){return PN(this,void 0,void 0,(function*(){return this._registry.getResolver(e)}))}recordExists(e){return PN(this,void 0,void 0,(function*(){return this._registry.recordExists(e)}))}getTTL(e){return PN(this,void 0,void 0,(function*(){return this._registry.getTTL(e)}))}getOwner(e){return PN(this,void 0,void 0,(function*(){return this._registry.getOwner(e)}))}getAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return PN(this,void 0,void 0,(function*(){return this._resolver.getAddress(e,t)}))}getText(e,t){return PN(this,void 0,void 0,(function*(){return Zw(e)?this._resolver.getText(yield this._resolver.getName(e,!1),t):this._resolver.getText(e,t)}))}getName(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return PN(this,void 0,void 0,(function*(){return this._resolver.getName(e,t)}))}getPubkey(e){return PN(this,void 0,void 0,(function*(){return this._resolver.getPubkey(e)}))}getContenthash(e){return PN(this,void 0,void 0,(function*(){return this._resolver.getContenthash(e)}))}checkNetwork(){return PN(this,void 0,void 0,(function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const n=yield(t=this,Yx(void 0,void 0,void 0,(function*(){return MS(t.requestManager)})));if("boolean"!==typeof n||n)throw new Cm;this._lastSyncCheck=e}var t;if(this._detectedAddress)return this._detectedAddress;const n=yield lT(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Op.HEX})),r=fP[pP[n]];if("undefined"===typeof r)throw new xm(n);return this._detectedAddress=r,this._detectedAddress}))}supportsInterface(e,t){return PN(this,void 0,void 0,(function*(){return this._resolver.supportsInterface(e,t)}))}get events(){return this._registry.events}setAddress(e,t,n){return PN(this,void 0,void 0,(function*(){return this._resolver.setAddress(e,t,n)}))}}var ON=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const RN=e=>ON(void 0,void 0,void 0,(function*(){const t=yield(e=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_listAccounts",params:[]})})))(e);return t.map(GA)})),DN=(e,t)=>ON(void 0,void 0,void 0,(function*(){pA.validate(["string"],[t]);const n=yield((e,t)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_newAccount",params:[t]})})))(e,t);return GA(n)})),LN=(e,t,n,r)=>ON(void 0,void 0,void 0,(function*(){return pA.validate(["address","string","uint"],[t,n,r]),((e,t,n,r)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_unlockAccount",params:[t,n,r]})})))(e,t,n,r)})),MN=(e,t)=>ON(void 0,void 0,void 0,(function*(){return pA.validate(["address"],[t]),((e,t)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_lockAccount",params:[t]})})))(e,t)})),BN=(e,t,n)=>ON(void 0,void 0,void 0,(function*(){return pA.validate(["string","string"],[t,n]),((e,t,n)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_importRawKey",params:[t,n]})})))(e,t,n)})),FN=(e,t,n,r)=>ON(void 0,void 0,void 0,(function*(){const i=cT(t,Lp,{transactionSchema:null===r||void 0===r?void 0:r.customTransactionSchema});return((e,t,n)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_sendTransaction",params:[t,n]})})))(e,i,n)})),jN=(e,t,n,r)=>ON(void 0,void 0,void 0,(function*(){const i=cT(t,Lp,{transactionSchema:null===r||void 0===r?void 0:r.customTransactionSchema});return((e,t,n)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_signTransaction",params:[t,n]})})))(e,i,n)})),UN=(e,t,n,r)=>ON(void 0,void 0,void 0,(function*(){pA.validate(["string","address","string"],[t,n,r]);const i=Tw(t)?t:CA(t);return((e,t,n,r)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_sign",params:[t,n,r]})})))(e,i,n,r)})),HN=(e,t,n)=>ON(void 0,void 0,void 0,(function*(){pA.validate(["string","string"],[t,n]);const r=Tw(t)?t:CA(t);return((e,t,n)=>US(void 0,void 0,void 0,(function*(){return e.send({method:"personal_ecRecover",params:[t,n]})})))(e,r,n)}));var VN=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class zN extends PS{getAccounts(){return VN(this,void 0,void 0,(function*(){return RN(this.requestManager)}))}newAccount(e){return VN(this,void 0,void 0,(function*(){return DN(this.requestManager,e)}))}unlockAccount(e,t,n){return VN(this,void 0,void 0,(function*(){return LN(this.requestManager,e,t,n)}))}lockAccount(e){return VN(this,void 0,void 0,(function*(){return MN(this.requestManager,e)}))}importRawKey(e,t){return VN(this,void 0,void 0,(function*(){return BN(this.requestManager,e,t)}))}sendTransaction(e,t){return VN(this,void 0,void 0,(function*(){return FN(this.requestManager,e,t,this.config)}))}signTransaction(e,t){return VN(this,void 0,void 0,(function*(){return jN(this.requestManager,e,t,this.config)}))}sign(e,t,n){return VN(this,void 0,void 0,(function*(){return UN(this.requestManager,e,t,n)}))}ecRecover(e,t){return VN(this,void 0,void 0,(function*(){return HN(this.requestManager,e,t)}))}}var qN,GN;!function(e){e.HTTPS="https",e.WebSocket="wss"}(qN||(qN={})),function(e){e.ETH_MAINNET="eth_mainnet",e.ETH_SEPOLIA="eth_sepolia",e.ETH_HOLESKY="eth_holesky",e.POLYGON_MAINNET="polygon_mainnet",e.POLYGON_AMOY="polygon_amoy",e.AVALANCHE_C_MAINNET="avalanche_c_mainnet",e.AVALANCHE_P_MAINNET="avalanche_p_mainnet",e.AVALANCHE_X_MAINNET="avalanche_x_mainnet",e.ARBITRUM_MAINNET="arbitrum_mainnet",e.ARBITRUM_SEPOLIA="arbitrum_sepolia",e.BASE_MAINNET="base_mainnet",e.BASE_SEPOLIA="base_sepolia",e.OPTIMISM_MAINNET="optimism_mainnet",e.OPTIMISM_SEPOLIA="optimism_sepolia",e.FANTOM_MAINNET="fantom_mainnet",e.FANTOM_TESTNET="fantom_testnet",e.DYMENSION_MAINNET="dymension_mainnet",e.DYMENSION_TESTNET="dymension_testnet",e.BNB_MAINNET="bnb_mainnet",e.BNB_TESTNET="bnb_testnet",e.BSC_MAINNET="bsc_mainnet",e.BSC_TESTNET="bsc_testnet",e.ARBITRUM_ONE="arbitrum_one",e.ARBITRUM_NOVA="arbitrum_nova",e.AVALANCHE_FUJI_C="avalanche_fuji_c",e.AVALANCHE_FUJI_P="avalanche_fuji_p",e.AVALANCHE_FUJI_X="avalanche_fuji_x",e.BLAST_MAINNET="blast_mainnet",e.OPBNB_MAINNET="opbnb_mainnet",e.OPBNB_TESTNET="opbnb_testnet",e.GNOSIS_MAINNET="gnosis_mainnet",e.GNOSIS_CHIADO="gnosis_chiado",e.PULSECHAIN_MAINNET="pulsechain_mainnet",e.PULSECHAIN_TESTNET="pulsechain_testnet",e.KAVA_MAINNET="kava_mainnet",e.CRONOS_MAINNET="cronos_mainnet",e.MANTLE_MAINNET="mantle_mainnet",e.CHILIZ_MAINNET="chiliz_mainnet",e.CHILIZ_SPICY="chiliz_spicy",e.MOONBEAM_MAINNET="moonbeam_mainnet",e.TAIKO_MAINNET="taiko_mainnet",e.TAIKO_HEKLA="taiko_hekla",e.LINEA_MAINNET="linea_mainnet",e.LINEA_SEPOLIA="linea_sepolia",e.BAHAMUT_MAINNET="bahamut_mainnet",e.SCROLL_MAINNET="scroll_mainnet",e.SCROLL_SEPOLIA="scroll_sepolia",e.TRON_MAINNET="tron_mainnet",e.SYSCOIN_MAINNET="syscoin_mainnet",e.SYSCOIN_TANENBAUM="syscoin_tanenbaum",e.MOONRIVER_MAINNET="moonriver_mainnet",e.HAQQ_MAINNET="haqq_mainnet",e.EVMOS_MAINNET="evmos_mainnet",e.EVMOS_TESTNET="evmos_testnet",e.BERACHAIN_TESTNET="berachain_testnet"}(GN||(GN={}));class QN extends om{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=1300}}class $N extends om{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=1301}}var KN=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class WN extends l_{constructor(e,t,n,r,i){if(super(),void 0!==i&&t===qN.HTTPS&&!("providerOptions"in i))throw new $N("HTTP Provider");if(void 0!==i&&t===qN.WebSocket&&!("socketOptions"in i)&&!("reconnectOptions"in i))throw new $N("Websocket Provider");this.transport=t,t===qN.HTTPS?this.provider=new b_(this.getRPCURL(e,t,n,r),i):t===qN.WebSocket&&(this.provider=new E_(this.getRPCURL(e,t,n,r),null===i||void 0===i?void 0:i.socketOptions,null===i||void 0===i?void 0:i.reconnectOptions))}request(e,t){return KN(this,void 0,void 0,(function*(){return this.transport===qN.HTTPS?yield this.provider.request(e,t):this.provider.request(e)}))}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,t){var n;(null===(n=this.provider)||void 0===n?void 0:n.once)&&this.provider.once(e,t)}removeAllListeners(e){var t;(null===(t=this.provider)||void 0===t?void 0:t.removeAllListeners)&&this.provider.removeAllListeners(e)}connect(){var e;(null===(e=this.provider)||void 0===e?void 0:e.connect)&&this.provider.connect()}disconnect(e,t){var n;(null===(n=this.provider)||void 0===n?void 0:n.disconnect)&&this.provider.disconnect(e,t)}reset(){var e;(null===(e=this.provider)||void 0===e?void 0:e.reset)&&this.provider.reset()}on(e,t){this.provider&&this.provider.on(e,t)}removeListener(e,t){this.provider&&this.provider.removeListener(e,t)}}var JN=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const ZN=e=>void 0!==e&&e.trim().length>0;const YN=[GN.DYMENSION_MAINNET,GN.DYMENSION_TESTNET,GN.KAVA_MAINNET,GN.CRONOS_MAINNET,GN.POLYGON_MAINNET];class XN extends WN{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:GN.ETH_MAINNET,arguments.length>1&&void 0!==arguments[1]?arguments[1]:qN.HTTPS,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3?arguments[3]:void 0)}getRPCURL(e,t,n,r){if(!XN.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${XN.networkHostMap[e]}.publicnode.com`,s=void 0!==(o=r)&&o.trim().length>0?r:i;var o;return YN.includes(e)&&t===qN.WebSocket?`${t}://${s}/websocket`:`${t}://${s}`}}XN.networkHostMap={[GN.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[GN.DYMENSION_MAINNET]:"dymension-evm-rpc",[GN.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[GN.BLAST_MAINNET]:"blast-rpc",[GN.GNOSIS_MAINNET]:"gnosis-rpc",[GN.PULSECHAIN_MAINNET]:"pulsechain-rpc",[GN.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[GN.KAVA_MAINNET]:"kava-evm-rpc",[GN.CRONOS_MAINNET]:"cronos-evm-rpc",[GN.MANTLE_MAINNET]:"mantle-rpc",[GN.TAIKO_MAINNET]:"taiko-rpc",[GN.TAIKO_HEKLA]:"taiko-hekla-rpc",[GN.LINEA_MAINNET]:"linea-rpc",[GN.LINEA_SEPOLIA]:"linea-sepolia-rpc",[GN.SCROLL_MAINNET]:"scroll-rpc",[GN.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[GN.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[GN.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[GN.HAQQ_MAINNET]:"haqq-evm-rpc",[GN.EVMOS_MAINNET]:"evmos-evm-rpc",[GN.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[GN.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[GN.ETH_MAINNET]:"ethereum-rpc",[GN.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[GN.ETH_HOLESKY]:"ethereum-holesky-rpc",[GN.BSC_MAINNET]:"bsc-rpc",[GN.BSC_TESTNET]:"bsc-testnet-rpc",[GN.POLYGON_MAINNET]:"polygon-bor-rpc",[GN.BASE_MAINNET]:"base-rpc",[GN.BASE_SEPOLIA]:"base-sepolia-rpc",[GN.ARBITRUM_ONE]:"arbitrum-one-rpc",[GN.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[GN.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[GN.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[GN.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[GN.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[GN.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[GN.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[GN.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[GN.OPTIMISM_MAINNET]:"optimism-rpc",[GN.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[GN.FANTOM_MAINNET]:"fantom-rpc",[GN.FANTOM_TESTNET]:"fantom-testnet-rpc",[GN.OPBNB_MAINNET]:"opbnb-rpc",[GN.OPBNB_TESTNET]:"opbnb-testnet-rpc",[GN.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[GN.CHILIZ_MAINNET]:"chiliz-rpc",[GN.CHILIZ_SPICY]:"chiliz-spicy-rpc",[GN.MOONBEAM_MAINNET]:"moonbeam-rpc",[GN.BAHAMUT_MAINNET]:"bahamut-rpc",[GN.TRON_MAINNET]:"tron-evm-rpc",[GN.MOONRIVER_MAINNET]:"moonriver-rpc"};const eO=new class extends WN{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:GN.ETH_MAINNET,arguments.length>1&&void 0!==arguments[1]?arguments[1]:qN.HTTPS,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",arguments.length>4?arguments[4]:void 0)}request(e,t){const n=Object.create(null,{request:{get:()=>super.request}});return JN(this,void 0,void 0,(function*(){try{return yield n.request.call(this,e,t)}catch(r){if(r instanceof Ug&&429===r.statusCode)throw new QN(r);throw r}}))}getRPCURL(e,t,n,r){let i="",s="";switch(e){case GN.ETH_MAINNET:i=ZN(r)?r:"powerful-holy-bush.quiknode.pro",s=ZN(n)?n:"3240624a343867035925ff7561eb60dfdba2a668";break;case GN.ETH_SEPOLIA:i=ZN(r)?r:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",s=ZN(n)?n:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case GN.ETH_HOLESKY:i=ZN(r)?r:"yolo-morning-card.ethereum-holesky.quiknode.pro",s=ZN(n)?n:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case GN.ARBITRUM_MAINNET:i=ZN(r)?r:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",s=ZN(n)?n:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case GN.ARBITRUM_SEPOLIA:i=ZN(r)?r:"few-patient-pond.arbitrum-sepolia.quiknode.pro",s=ZN(n)?n:"3be985450970628c860b959c65cd2642dcafe53c";break;case GN.BNB_MAINNET:i=ZN(r)?r:"purple-empty-reel.bsc.quiknode.pro",s=ZN(n)?n:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case GN.BNB_TESTNET:i=ZN(r)?r:"floral-rough-scion.bsc-testnet.quiknode.pro",s=ZN(n)?n:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case GN.POLYGON_MAINNET:i=ZN(r)?r:"small-chaotic-moon.matic.quiknode.pro",s=ZN(n)?n:"847569f8a017e84d985e10d0f44365d965a951f1";break;case GN.POLYGON_AMOY:i=ZN(r)?r:"prettiest-side-shape.matic-amoy.quiknode.pro",s=ZN(n)?n:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${t}://${i}/${s}`}},tO={encodeEventSignature:zT,encodeFunctionCall:(e,t)=>{var n;if(!BT(e))throw new Lm("Invalid parameter value in encodeFunctionCall");return`${jx(e)}${Rx(null!==(n=e.inputs)&&void 0!==n?n:[],null!==t&&void 0!==t?t:[]).replace("0x","")}`},encodeFunctionSignature:jx,encodeParameter:Lx,encodeParameters:Rx,decodeParameter:Fx,decodeParameters:Bx,decodeLog:Vx};var nO=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const rO=e=>{const t=(t,n)=>nO(void 0,void 0,void 0,(function*(){return((e,t)=>gS(void 0,void 0,void 0,(function*(){const n=e.sign(_A(t));if(aA(n.v)||aA(n.r)||aA(n.s))throw new _g("Signer Error");const r=n.validate(!0);if(r.length>0){let e="Signer Error ";for(const t of r)e+=`${e} ${t}.`;throw new _g(e)}const i=EA(n.serialize()),s=TE(i);return{messageHash:EA(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:EA(s)}})))(yield GC(t,e),_E({format:"bytes"},n,Lp))})),n=e=>{const n=SS(e);return Object.assign(Object.assign({},n),{signTransaction:e=>nO(void 0,void 0,void 0,(function*(){return t(e,n.privateKey)}))})},r=(e,n,r)=>nO(void 0,void 0,void 0,(function*(){var i;const s=yield((e,t,n)=>gS(void 0,void 0,void 0,(function*(){const r="object"===typeof e?e:JSON.parse(n?e.toLowerCase():e);if(pA.validateJSONSchema(kI,r),3!==r.version)throw new pm;const i="string"===typeof t?_A(CA(t)):t;let s;if(pA.validate(["bytes"],[i]),"scrypt"===r.crypto.kdf){const e=r.crypto.kdfparams;s=pk(i,"string"===typeof e.salt?_A(e.salt):e.salt,e.n,e.p,e.r,e.dklen)}else{if("pbkdf2"!==r.crypto.kdf)throw new hm;{const e=r.crypto.kdfparams;s=uk(i,"string"===typeof e.salt?_A(e.salt):e.salt,e.c,e.dklen,"sha256")}}const o=_A(r.crypto.ciphertext);if(TE(gA(s.slice(16,32),o)).replace("0x","")!==r.crypto.mac)throw new fm;const a=yield z_(_A(r.crypto.ciphertext),s.slice(0,16),_A(r.crypto.cipherparams.iv));return SS(a)})))(e,n,null===(i=null===r||void 0===r?void 0:r.nonStrict)||void 0===i||i);return Object.assign(Object.assign({},s),{signTransaction:e=>nO(void 0,void 0,void 0,(function*(){return t(e,s.privateKey)}))})})),i=()=>{const e=(()=>{const e=wI.utils.randomPrivateKey();return SS(`${EA(e)}`)})();return Object.assign(Object.assign({},e),{signTransaction:n=>nO(void 0,void 0,void 0,(function*(){return t(n,e.privateKey)}))})},s=new F_({create:i,privateKeyToAccount:n,decrypt:r});return{signTransaction:t,create:i,privateKeyToAccount:n,decrypt:r,recoverTransaction:AS,hashMessage:yS,sign:wS,recover:ES,encrypt:IS,wallet:s,privateKeyToAddress:_S,parseAndValidatePrivateKey:vS,privateKeyToPublicKey:kS}};var iO,sO=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.eip6963announceProvider="eip6963:announceProvider",e.eip6963requestProvider="eip6963:requestProvider"}(iO||(iO={}));const oO=new Map,aO="web3:providersMapUpdated";class cO extends PS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eO;var t;(cE(e)||"string"===typeof e&&""===e.trim()||"string"!==typeof e&&!x_(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let n={};"string"===typeof e||x_(e)?n.provider=e:n=e||{},n.registeredSubscriptions=Object.assign(Object.assign({},jC),null!==(t=n.registeredSubscriptions)&&void 0!==t?t:{}),super(n);const i=rO(this);this._wallet=i.wallet,this._accountProvider=i,this.utils=r;const s=this;const o=s.use(UC);this.eth=Object.assign(o,{ens:s.use(NN,fP.main),Iban:NS,net:s.use(pT),personal:s.use(zN),Contract:class extends sP{constructor(e,t,n,r,i){if(aE(t)&&aE(n))throw new Pm("Should not provide options at both 2nd and 3rd parameters");let a,c,u,l={};if(!cE(t)&&"object"!==typeof t&&"string"!==typeof t)throw new Pm;if("string"===typeof t&&(a=t),l=aE(t)?t:aE(n)?n:{},c=t instanceof PS?t:n instanceof PS?n:r instanceof PS?r:s.getContextObject(),i?u=i:yE(n)?u=n:yE(r)&&(u=r),super(e,a,l,c,u),super.subscribeToContextEvents(s),!cE(o)){const e=o.getTransactionMiddleware();cE(e)||super.setTransactionMiddleware(e)}}},abi:tO,accounts:i})}}cO.version="4.16.0",cO.utils=r,cO.requestEIP6963Providers=()=>sO(void 0,void 0,void 0,(function*(){return new Promise(((e,t)=>{"undefined"===typeof window&&t(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(iO.eip6963announceProvider,(t=>{oO.set(t.detail.info.uuid,t.detail);const n=new CustomEvent(aO,{detail:oO});window.dispatchEvent(n),e(oO)})),window.dispatchEvent(new Event(iO.eip6963requestProvider))}))})),cO.onNewProviderDiscovered=e=>{if("undefined"===typeof window)throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(aO,e)},cO.modules={Web3Eth:UC,Iban:NS,Net:pT,ENS:NN,Personal:zN};const uO=cO;const lO=function(e){let{user:t}=e;const[n,r]=(0,o.useState)(null),[i,s]=(0,o.useState)(""),[a,u]=(0,o.useState)(""),[l,d]=(0,o.useState)("0"),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)(null),[b,w]=(0,o.useState)("0"),{t:A}=p();(0,o.useEffect)((()=>{(async()=>{try{const e=new uO;r(e)}catch(e){console.error("Web3 \ucd08\uae30\ud654 \uc624\ub958:",e),alert("Web3 \ucd08\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}})()}),[]),(0,o.useEffect)((()=>{(async()=>{if(t)try{const e=await yp(Ef(Ip,"wallets",t.uid));if(e.exists()){const t=e.data();if(s(t.address),u(t.privateKey),y(t.customToken||null),w(t.tokenBalance||"0"),f(!0),n){const e=await n.eth.getBalance(t.address);d(n.utils.fromWei(e,"ether"))}}}catch(e){console.error("\uc9c0\uac11 \ub85c\ub4dc \uc624\ub958:",e)}})()}),[t,n]);const E=async e=>{try{await navigator.clipboard.writeText(e),g(!0),setTimeout((()=>g(!1)),2e3)}catch(t){console.error("\ubcf5\uc0ac \uc2e4\ud328:",t),alert("\ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}};return(0,c.jsxs)("div",{className:"wallet-container",children:[(0,c.jsx)("h3",{children:"\ube14\ub85d\uccb4\uc778 \uc9c0\uac11"}),h?(0,c.jsxs)("div",{className:"wallet-info",children:[(0,c.jsxs)("div",{className:"account-info",children:[(0,c.jsxs)("div",{className:"address-container",children:[(0,c.jsxs)("p",{children:["\uc9c0\uac11 \uc8fc\uc18c: ",i.slice(0,6),"...",i.slice(-4)]}),(0,c.jsx)("button",{className:"copy-button",onClick:()=>E(i),children:m?"\ubcf5\uc0ac\ub428!":"\ubcf5\uc0ac"})]}),(0,c.jsxs)("p",{children:["ETH \uc794\uc561: ",l," ETH"]}),v?(0,c.jsxs)("div",{className:"token-info",children:[(0,c.jsxs)("h4",{children:[v.name," (",v.symbol,")"]}),(0,c.jsxs)("p",{children:["\uc794\uc561: ",b," ",v.symbol]}),(0,c.jsxs)("p",{className:"token-address",children:["\ucee8\ud2b8\ub799\ud2b8 \uc8fc\uc18c: ",v.address.slice(0,6),"...",v.address.slice(-4)]}),(0,c.jsx)("button",{className:"copy-button",onClick:()=>E(v.address),children:m?"\ubcf5\uc0ac\ub428!":"\ubcf5\uc0ac"})]}):(0,c.jsx)("button",{className:"add-token-button",onClick:async()=>{if(n&&i&&t)try{const e=prompt("\ud1a0\ud070 \ucee8\ud2b8\ub799\ud2b8 \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694:");if(!e)return;const r=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],s=new n.eth.Contract(r,e),o=await s.methods.name().call(),a=await s.methods.symbol().call(),c=await s.methods.decimals().call(),u=await s.methods.balanceOf(i).call(),l={address:e,name:o,symbol:a,decimals:c};await function(e,t,n){e=hf(e,bf);const r=hf(e.firestore,If),i=jf(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=j(t))||t instanceof Cf?zf(i,"updateDoc",e._key,t,n,a):Vf(i,"updateDoc",e._key,t),Ap(r,[s.toMutation(e._key,qc.exists(!0))])}(Ef(Ip,"wallets",t.uid),{customToken:l,tokenBalance:n.utils.fromWei(u,"ether")}),y(l),w(n.utils.fromWei(u,"ether"))}catch(e){console.error("\ud1a0\ud070 \ucd94\uac00 \uc624\ub958:",e),alert("\ud1a0\ud070 \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:"\ucee4\uc2a4\ud140 \ud1a0\ud070 \ucd94\uac00\ud558\uae30"}),(0,c.jsxs)("div",{className:"private-key-container",children:[(0,c.jsxs)("p",{className:"private-key",children:["\uac1c\uc778\ud0a4: ",a.slice(0,6),"...",a.slice(-4)]}),(0,c.jsx)("button",{className:"copy-button",onClick:()=>E(a),children:m?"\ubcf5\uc0ac\ub428!":"\ubcf5\uc0ac"})]}),(0,c.jsx)("p",{className:"warning",children:"\u26a0\ufe0f \uac1c\uc778\ud0a4\ub294 \uc548\uc804\ud558\uac8c \ubcf4\uad00\ud558\uc138\uc694!"})]}),(0,c.jsxs)("div",{className:"wallet-actions",children:[(0,c.jsx)("button",{className:"send-button",onClick:async()=>{if(n&&i&&a)try{const e=prompt("\ubc1b\ub294 \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694:"),t=prompt("\ubcf4\ub0bc \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694 (ETH):");if(!e||!t)return;const r=n.utils.toWei(t,"ether"),s={from:i,to:e,value:r,gas:21e3},o=await n.eth.accounts.signTransaction(s,a);await n.eth.sendSignedTransaction(o.rawTransaction);alert("\ud2b8\ub79c\uc7ad\uc158\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")}catch(e){console.error("\ud2b8\ub79c\uc7ad\uc158 \uc624\ub958:",e),alert("\ud2b8\ub79c\uc7ad\uc158 \uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:"\uc804\uc1a1\ud558\uae30"}),(0,c.jsx)("button",{className:"disconnect-button",onClick:async()=>{if(t)try{await wp(Ef(Ip,"wallets",t.uid),{address:"",privateKey:"",customToken:null,tokenBalance:"0"}),s(""),u(""),d("0"),y(null),w("0"),f(!1)}catch(e){console.error("\uc9c0\uac11 \uc0ad\uc81c \uc624\ub958:",e),alert("\uc9c0\uac11 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:"\uc9c0\uac11 \uc0ad\uc81c"})]})]}):(0,c.jsx)("button",{className:"connect-button",onClick:async()=>{if(n&&t)try{const e=n.eth.accounts.create();await wp(Ef(Ip,"wallets",t.uid),{address:e.address,privateKey:e.privateKey,createdAt:(new Date).toISOString(),customToken:null,tokenBalance:"0"}),s(e.address),u(e.privateKey),f(!0);const r=await n.eth.getBalance(e.address);d(n.utils.fromWei(r,"ether"))}catch(e){console.error("\uc9c0\uac11 \uc0dd\uc131 \uc624\ub958:",e),alert("\uc9c0\uac11 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:"\uc0c8 \uc9c0\uac11 \uc0dd\uc131\ud558\uae30"})]})};const dO=function(){const{t:e}=p(),[t,n]=(0,o.useState)(null),[r,i]=(0,o.useState)(""),[s,a]=(0,o.useState)([]),[u,l]=(0,o.useState)("all"),[d,h]=(0,o.useState)([]),[f,m]=(0,o.useState)(!1),[g,v]=(0,o.useState)(new Date),[y,b]=(0,o.useState)("neutral"),[w,A]=(0,o.useState)(null),[E,_]=(0,o.useState)(!0),[k,I]=(0,o.useState)("quote"),[S,T]=(0,o.useState)(""),[x,C]=(0,o.useState)(""),[P,N]=(0,o.useState)([]),[O]=(0,o.useState)({text:"The only way to do great work is to love what you do.",author:"Steve Jobs"});(0,o.useEffect)((()=>{const e=kp.onAuthStateChanged((e=>{A(e),_(!1),e&&R(e.uid)}));return()=>e()}),[]),(0,o.useEffect)((()=>{(async()=>{try{const e=(new Date).toLocaleDateString(),r=localStorage.getItem(`quote_${e}`);r?n(JSON.parse(r)):(n(Sp[Math.floor(Math.random()*Sp.length)]),localStorage.setItem(`quote_${e}`,JSON.stringify(t)))}catch(e){console.error("Error fetching quote:",e)}finally{_(!1)}})()}),[]);const R=async e=>{try{const t=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ip&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ap)).length,n=e.filter((e=>e instanceof op)).length;if(t>1||t>0&&n>0)throw new cs(as.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(Af(Ip,"thoughts"),function(e,t,n){const r=t,i=np("where",e);return op._create(i,r,n)}("userId","==",e)),n=await function(e){e=hf(e,yf);const t=hf(e.firestore,If),n=Sf(t),r=new bp(t);return rp(e._query),sf(n,e._query).then((n=>new gp(t,r,e,n)))}(t),r=n.docs.map((e=>({id:e.id,...e.data()})));a(r);const i=Ef(Ip,"bookmarks",e),s=await yp(i);s.exists()&&h(s.data().bookmarks||[])}catch(t){console.error("Error loading data:",t)}},D=async()=>{try{const e=new sr;e.setCustomParameters({prompt:"select_account"});const t=await async function(e,t,n){if(Ze(e.app))return Promise.reject(At(e,"operation-not-supported-in-this-environment"));const r=Pn(e);kt(e,t,nr);const i=Vr(r,n);return new Wr(r,"signInViaPopup",t,i).executeNotNull()}(kp,e);t.user&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5:",t.user.email),await R(t.user.uid),localStorage.setItem("isLoggedIn","true"))}catch(e){console.error("\ub85c\uadf8\uc778 \uc624\ub958:",e),"auth/popup-closed-by-user"===e.code?alert("\ub85c\uadf8\uc778 \ucc3d\uc774 \ub2eb\ud614\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):"auth/popup-blocked"===e.code?alert("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud31d\uc5c5 \ucc28\ub2e8\uc744 \ud574\uc81c\ud574\uc8fc\uc138\uc694."):alert("\ub85c\uadf8\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}},L=async e=>{if(e.preventDefault(),S.trim()&&w)try{const e={text:S,date:(new Date).toISOString(),userId:w.uid,quote:{...O}},t=await function(e,t){const n=hf(e.firestore,If),r=Ef(e),i=hp(e.converter,t);return Ap(n,[Uf(jf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qc.exists(!1))]).then((()=>r))}(Af(Ip,"thoughts"),e),n={id:t.id,...e};a([n,...s]),T("")}catch(t){console.error("Error saving thought:",t),alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}};return P.filter((e=>e.text.toLowerCase().includes(x.toLowerCase())||e.quote.text.toLowerCase().includes(x.toLowerCase()))),E?(0,c.jsx)("div",{className:"loading-screen",children:(0,c.jsx)("div",{className:"loading-spinner",children:"\ub85c\ub529\uc911..."})}):w?(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("header",{className:"app-header",children:[(0,c.jsx)("h1",{children:"Daily Thought"}),(0,c.jsx)("div",{className:"auth-buttons",children:w?(0,c.jsxs)("div",{className:"user-info",children:[w.photoURL&&(0,c.jsx)("img",{src:w.photoURL,alt:"\ud504\ub85c\ud544",className:"profile-image"}),(0,c.jsx)("span",{className:"user-name",children:w.displayName}),(0,c.jsx)("button",{onClick:async()=>{try{await function(e){return j(e).signOut()}(kp),a([]),h([])}catch(e){console.error("Logout error:",e)}},className:"logout-button",children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,c.jsx)("button",{onClick:D,className:"login-button",children:"\ub85c\uadf8\uc778"})})]}),(0,c.jsx)("main",{className:"app-main",children:w?(0,c.jsxs)("div",{className:"content-wrapper",children:[(0,c.jsxs)("nav",{className:"side-menu",children:[(0,c.jsx)("button",{className:"menu-button "+("quote"===k?"active":""),onClick:()=>I("quote"),children:"\uc624\ub298\uc758 \uba85\uc5b8"}),(0,c.jsx)("button",{className:"menu-button "+("wallet"===k?"active":""),onClick:()=>I("wallet"),children:"\ub0b4 \uc9c0\uac11"}),(0,c.jsx)("button",{className:"menu-button "+("theme"===k?"active":""),onClick:()=>I("theme"),children:"\ud14c\ub9c8 \uc124\uc815"}),(0,c.jsx)("button",{className:"menu-button "+("language"===k?"active":""),onClick:()=>I("language"),children:"\uc5b8\uc5b4 \uc124\uc815"}),(0,c.jsx)("button",{className:"menu-button "+("notification"===k?"active":""),onClick:()=>I("notification"),children:"\uc54c\ub9bc \uc124\uc815"}),(0,c.jsx)("button",{className:"menu-button "+("data"===k?"active":""),onClick:()=>I("data"),children:"\ub370\uc774\ud130 \uad00\ub9ac"})]}),(0,c.jsx)("main",{className:"content",children:(()=>{switch(k){case"quote":return(0,c.jsxs)("div",{className:"quote-section",children:[(0,c.jsx)("h2",{children:"\uc624\ub298\uc758 \uba85\uc5b8"}),(0,c.jsxs)("div",{className:"quote-content",children:[(0,c.jsxs)("p",{children:['"',O.text,'"']}),(0,c.jsxs)("p",{className:"quote-author",children:["- ",O.author]})]}),(0,c.jsx)(xp,{quote:O,thought:S}),(0,c.jsxs)("div",{className:"thought-input-section",children:[(0,c.jsx)("h3",{children:"\ub098\uc758 \uc0dd\uac01"}),(0,c.jsxs)("form",{onSubmit:L,children:[(0,c.jsx)("textarea",{value:S,onChange:e=>T(e.target.value),placeholder:"\uc774 \uba85\uc5b8\uc5d0 \ub300\ud55c \ub098\uc758 \uc0dd\uac01\uc744 \uc801\uc5b4\ubcf4\uc138\uc694..."}),(0,c.jsx)("button",{type:"submit",children:"\uc800\uc7a5\ud558\uae30"})]})]}),(0,c.jsxs)("div",{className:"saved-thoughts-section",children:[(0,c.jsx)("h3",{children:"\uc800\uc7a5\ub41c \uc0dd\uac01\ub4e4"}),s.length>0?(0,c.jsx)("div",{className:"thoughts-list",children:s.map((e=>(0,c.jsxs)("div",{className:"thought-item",children:[(0,c.jsx)("div",{className:"thought-date",children:new Date(e.date).toLocaleDateString()}),(0,c.jsxs)("div",{className:"thought-quote",children:['"',e.quote.text,'"']}),(0,c.jsx)("div",{className:"thought-text",children:e.text})]},e.id)))}):(0,c.jsx)("p",{className:"no-thoughts",children:"\uc544\uc9c1 \uc800\uc7a5\ub41c \uc0dd\uac01\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]});case"wallet":return(0,c.jsx)(lO,{user:w});case"theme":return(0,c.jsx)(Pp,{});case"language":return(0,c.jsx)(Np,{});case"notification":return(0,c.jsx)(Cp,{});case"data":return(0,c.jsx)(Tp,{user:w,savedThoughts:s,setSavedThoughts:a,bookmarks:d,setBookmarks:h});default:return null}})()})]}):(0,c.jsxs)("div",{className:"login-prompt",children:[(0,c.jsx)("h2",{children:e("app.welcomeTitle")}),(0,c.jsx)("p",{children:e("app.loginPrompt")}),(0,c.jsx)("button",{onClick:D,className:"login-button-large",children:e("app.loginWithGoogle")})]})})]}):(0,c.jsxs)("div",{className:"login-container",children:[(0,c.jsx)("h2",{children:"Daily Thought"}),(0,c.jsx)("p",{children:"\ub9e4\uc77c \uc0c8\ub85c\uc6b4 \uba85\uc5b8\uacfc \ud568\uaed8 \ub098\uc758 \uc0dd\uac01\uc744 \uae30\ub85d\ud574\ubcf4\uc138\uc694"}),(0,c.jsx)("button",{onClick:D,className:"login-button",children:"Google\ub85c \uc2dc\uc791\ud558\uae30"})]})};const hO=function(){return(0,c.jsx)(l,{children:(0,c.jsx)(f,{children:(0,c.jsxs)("div",{className:"app",children:[(0,c.jsx)("h1",{className:"app-title",children:"Daily Thought"}),(0,c.jsx)(dO,{})]})})})},fO=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,c.jsx)(o.StrictMode,{children:(0,c.jsx)(hO,{})})),fO()})()})();
//# sourceMappingURL=main.59e44910.js.map